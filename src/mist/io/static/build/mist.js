/*! jQuery v@1.8.1 jquery.com | jquery.org/license */

/*! jQuery UI - v1.8.23 - 2012-08-15
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.core.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.23 - 2012-08-15
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.widget.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.23 - 2012-08-15
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.position.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.23 - 2012-08-15
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.autocomplete.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*
 * TERMS OF USE - EASING EQUATIONS
 *
 * Open source under the BSD License.
 *
 * Copyright 2001 Robert Penner
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * - Redistributions of source code must retain the above copyright notice, this
 *   list of conditions and the following disclaimer.
 *
 * - Redistributions in binary form must reproduce the above copyright notice,
 *   this list of conditions and the following disclaimer in the documentation
 *   and/or other materials provided with the distribution.
 *
 * - Neither the name of the author nor the names of contributors may be used to
 *   endorse or promote products derived from this software without specific
 *   prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */

// ==========================================================================
// Project:   Ember - JavaScript Application Framework
// Copyright: Â©2011-2012 Tilde Inc. and contributors
//            Portions Â©2006-2011 Strobe Inc.
//            Portions Â©2008-2011 Apple Inc. All rights reserved.
// License:   Licensed under MIT license (see license.js)
// ==========================================================================

/**
 * @license RequireJS text 1.0.8 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */

/*! jQuery Mobile vGit Build: SHA1: cc5e61cd05507694745978822e1cf22ebbd0d61b <> Date: Tue Sep 4 15:35:37 2012 -0700 jquerymobile.com | jquery.org/license !*/

function log(){try{if(LOGLEVEL>3)return console.log.apply(this,arguments)}catch(e){}}function info(){try{if(LOGLEVEL>2)return console.info.apply(this,arguments)}catch(e){}}function warn(){try{if(LOGLEVEL>1)return console.warn.apply(this,arguments)}catch(e){}}function error(){try{if(LOGLEVEL>0)return console.error.apply(this,arguments)}catch(e){}}(function(e,t){function n(e){var t=dt[e]={};return Y.each(e.split(tt),function(e,n){t[n]=!0}),t}function r(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(mt,"-$1").toLowerCase();r=e.getAttribute(i);if(typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:vt.test(r)?Y.parseJSON(r):r}catch(s){}Y.data(e,n,r)}else r=t}return r}function i(e){var t;for(t in e){if(t==="data"&&Y.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function s(){return!1}function o(){return!0}function u(e){return!e||!e.parentNode||e.parentNode.nodeType===11}function a(e,t){do e=e[t];while(e&&e.nodeType!==1);return e}function f(e,t,n){t=t||0;if(Y.isFunction(t))return Y.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return Y.grep(e,function(e,r){return e===t===n});if(typeof t=="string"){var r=Y.grep(e,function(e){return e.nodeType===1});if(Bt.test(t))return Y.filter(t,r,!n);t=Y.filter(t,r)}return Y.grep(e,function(e,r){return Y.inArray(e,t)>=0===n})}function l(e){var t=It.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function c(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function h(e,t){if(t.nodeType!==1||!Y.hasData(e))return;var n,r,i,s=Y._data(e),o=Y._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;r<i;r++)Y.event.add(t,n,u[n][r])}o.data&&(o.data=Y.extend({},o.data))}function p(e,t){var n;if(t.nodeType!==1)return;t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),n==="object"?(t.parentNode&&(t.outerHTML=e.outerHTML),Y.support.html5Clone&&e.innerHTML&&!Y.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):n==="input"&&Kt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):n==="option"?t.selected=e.defaultSelected:n==="input"||n==="textarea"?t.defaultValue=e.defaultValue:n==="script"&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(Y.expando)}function d(e){return typeof e.getElementsByTagName!="undefined"?e.getElementsByTagName("*"):typeof e.querySelectorAll!="undefined"?e.querySelectorAll("*"):[]}function v(e){Kt.test(e.type)&&(e.defaultChecked=e.checked)}function m(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=yn.length;while(i--){t=yn[i]+n;if(t in e)return t}return r}function g(e,t){return e=t||e,Y.css(e,"display")==="none"||!Y.contains(e.ownerDocument,e)}function y(e,t){var n,r,i=[],s=0,o=e.length;for(;s<o;s++){n=e[s];if(!n.style)continue;i[s]=Y._data(n,"olddisplay"),t?(!i[s]&&n.style.display==="none"&&(n.style.display=""),n.style.display===""&&g(n)&&(i[s]=Y._data(n,"olddisplay",S(n.nodeName)))):(r=nn(n,"display"),!i[s]&&r!=="none"&&Y._data(n,"olddisplay",r))}for(s=0;s<o;s++){n=e[s];if(!n.style)continue;if(!t||n.style.display==="none"||n.style.display==="")n.style.display=t?i[s]||"":"none"}return e}function b(e,t,n){var r=cn.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function w(e,t,n,r){var i=n===(r?"border":"content")?4:t==="width"?1:0,s=0;for(;i<4;i+=2)n==="margin"&&(s+=Y.css(e,n+gn[i],!0)),r?(n==="content"&&(s-=parseFloat(nn(e,"padding"+gn[i]))||0),n!=="margin"&&(s-=parseFloat(nn(e,"border"+gn[i]+"Width"))||0)):(s+=parseFloat(nn(e,"padding"+gn[i]))||0,n!=="padding"&&(s+=parseFloat(nn(e,"border"+gn[i]+"Width"))||0));return s}function E(e,t,n){var r=t==="width"?e.offsetWidth:e.offsetHeight,i=!0,s=Y.support.boxSizing&&Y.css(e,"boxSizing")==="border-box";if(r<=0||r==null){r=nn(e,t);if(r<0||r==null)r=e.style[t];if(hn.test(r))return r;i=s&&(Y.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+w(e,t,n||(s?"border":"content"),i)+"px"}function S(e){if(dn[e])return dn[e];var t=Y("<"+e+">").appendTo(R.body),n=t.css("display");t.remove();if(n==="none"||n===""){rn=R.body.appendChild(rn||Y.extend(R.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!sn||!rn.createElement)sn=(rn.contentWindow||rn.contentDocument).document,sn.write("<!doctype html><html><body>"),sn.close();t=sn.body.appendChild(sn.createElement(e)),n=nn(t,"display"),R.body.removeChild(rn)}return dn[e]=n,n}function x(e,t,n,r){var i;if(Y.isArray(t))Y.each(t,function(t,i){n||En.test(e)?r(e,i):x(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&Y.type(t)==="object")for(i in t)x(e+"["+i+"]",t[i],n,r);else r(e,t)}function T(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i,s,o=t.toLowerCase().split(tt),u=0,a=o.length;if(Y.isFunction(n))for(;u<a;u++)r=o[u],s=/^\+/.test(r),s&&(r=r.substr(1)||"*"),i=e[r]=e[r]||[],i[s?"unshift":"push"](n)}}function N(e,n,r,i,s,o){s=s||n.dataTypes[0],o=o||{},o[s]=!0;var u,a=e[s],f=0,l=a?a.length:0,c=e===jn;for(;f<l&&(c||!u);f++)u=a[f](n,r,i),typeof u=="string"&&(!c||o[u]?u=t:(n.dataTypes.unshift(u),u=N(e,n,r,i,u,o)));return(c||!u)&&!o["*"]&&(u=N(e,n,r,i,"*",o)),u}function C(e,n){var r,i,s=Y.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((s[r]?e:i||(i={}))[r]=n[r]);i&&Y.extend(!0,e,i)}function k(e,n,r){var i,s,o,u,a=e.contents,f=e.dataTypes,l=e.responseFields;for(s in l)s in r&&(n[l[s]]=r[s]);while(f[0]==="*")f.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("content-type"));if(i)for(s in a)if(a[s]&&a[s].test(i)){f.unshift(s);break}if(f[0]in r)o=f[0];else{for(s in r){if(!f[0]||e.converters[s+" "+f[0]]){o=s;break}u||(u=s)}o=o||u}if(o)return o!==f[0]&&f.unshift(o),r[o]}function L(e,t){var n,r,i,s,o=e.dataTypes.slice(),u=o[0],a={},f=0;e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(o[1])for(n in e.converters)a[n.toLowerCase()]=e.converters[n];for(;i=o[++f];)if(i!=="*"){if(u!=="*"&&u!==i){n=a[u+" "+i]||a["* "+i];if(!n)for(r in a){s=r.split(" ");if(s[1]===i){n=a[u+" "+s[0]]||a["* "+s[0]];if(n){n===!0?n=a[r]:a[r]!==!0&&(i=s[0],o.splice(f--,0,i));break}}}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(l){return{state:"parsererror",error:n?l:"No conversion from "+u+" to "+i}}}u=i}return{state:"success",data:t}}function A(){try{return new e.XMLHttpRequest}catch(t){}}function O(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function M(){return setTimeout(function(){Jn=t},0),Jn=Y.now()}function _(e,t){Y.each(t,function(t,n){var r=(er[t]||[]).concat(er["*"]),i=0,s=r.length;for(;i<s;i++)if(r[i].call(e,t,n))return})}function D(e,t,n){var r,i=0,s=0,o=Zn.length,u=Y.Deferred().always(function(){delete a.elem}),a=function(){var t=Jn||M(),n=Math.max(0,f.startTime+f.duration-t),r=1-(n/f.duration||0),i=0,s=f.tweens.length;for(;i<s;i++)f.tweens[i].run(r);return u.notifyWith(e,[f,r,n]),r<1&&s?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:Y.extend({},t),opts:Y.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Jn||M(),duration:n.duration,tweens:[],createTween:function(t,n,r){var i=Y.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(i),i},stop:function(t){var n=0,r=t?f.tweens.length:0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;P(l,f.opts.specialEasing);for(;i<o;i++){r=Zn[i].call(f,e,l,f.opts);if(r)return r}return _(f,l),Y.isFunction(f.opts.start)&&f.opts.start.call(e,f),Y.fx.timer(Y.extend(a,{anim:f,queue:f.opts.queue,elem:e})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function P(e,t){var n,r,i,s,o;for(n in e){r=Y.camelCase(n),i=t[r],s=e[n],Y.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=Y.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function H(e,t,n){var r,i,s,o,u,a,f,l,c=this,h=e.style,p={},d=[],v=e.nodeType&&g(e);n.queue||(f=Y._queueHooks(e,"fx"),f.unqueued==null&&(f.unqueued=0,l=f.empty.fire,f.empty.fire=function(){f.unqueued||l()}),f.unqueued++,c.always(function(){c.always(function(){f.unqueued--,Y.queue(e,"fx").length||f.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],Y.css(e,"display")==="inline"&&Y.css(e,"float")==="none"&&(!Y.support.inlineBlockNeedsLayout||S(e.nodeName)==="inline"?h.display="inline-block":h.zoom=1)),n.overflow&&(h.overflow="hidden",Y.support.shrinkWrapBlocks||c.done(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(r in t){s=t[r];if(Qn.exec(s)){delete t[r];if(s===(v?"hide":"show"))continue;d.push(r)}}o=d.length;if(o){u=Y._data(e,"fxshow")||Y._data(e,"fxshow",{}),v?Y(e).show():c.done(function(){Y(e).hide()}),c.done(function(){var t;Y.removeData(e,"fxshow",!0);for(t in p)Y.style(e,t,p[t])});for(r=0;r<o;r++)i=d[r],a=c.createTween(i,v?u[i]:0),p[i]=u[i]||Y.style(e,i),i in u||(u[i]=a.start,v&&(a.end=a.start,a.start=i==="width"||i==="height"?1:0))}}function B(e,t,n,r,i){return new B.prototype.init(e,t,n,r,i)}function j(e,t){var n,r={height:e},i=0;t=t?1:0;for(;i<4;i+=2-t)n=gn[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function F(e){return Y.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var I,q,R=e.document,U=e.location,z=e.navigator,W=e.jQuery,X=e.$,V=Array.prototype.push,$=Array.prototype.slice,J=Array.prototype.indexOf,K=Object.prototype.toString,Q=Object.prototype.hasOwnProperty,G=String.prototype.trim,Y=function(e,t){return new Y.fn.init(e,t,I)},Z=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,et=/\S/,tt=/\s+/,nt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rt=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,it=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,st=/^[\],:{}\s]*$/,ot=/(?:^|:|,)(?:\s*\[)+/g,ut=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,at=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ft=/^-ms-/,lt=/-([\da-z])/gi,ct=function(e,t){return(t+"").toUpperCase()},ht=function(){R.addEventListener?(R.removeEventListener("DOMContentLoaded",ht,!1),Y.ready()):R.readyState==="complete"&&(R.detachEvent("onreadystatechange",ht),Y.ready())},pt={};Y.fn=Y.prototype={constructor:Y,init:function(e,n,r){var i,s,o,u;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if(typeof e=="string"){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?i=[null,e,null]:i=rt.exec(e);if(i&&(i[1]||!n)){if(i[1])return n=n instanceof Y?n[0]:n,u=n&&n.nodeType?n.ownerDocument||n:R,e=Y.parseHTML(i[1],u,!0),it.test(i[1])&&Y.isPlainObject(n)&&this.attr.call(e,n,!0),Y.merge(this,e);s=R.getElementById(i[2]);if(s&&s.parentNode){if(s.id!==i[2])return r.find(e);this.length=1,this[0]=s}return this.context=R,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}return Y.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),Y.makeArray(e,this))},selector:"",jquery:"1.8.1",length:0,size:function(){return this.length},toArray:function(){return $.call(this)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=Y.merge(this.constructor(),e);return r.prevObject=this,r.context=this.context,t==="find"?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return Y.each(this,e,t)},ready:function(e){return Y.ready.promise().done(e),this},eq:function(e){return e=+e,e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack($.apply(this,arguments),"slice",$.call(arguments).join(","))},map:function(e){return this.pushStack(Y.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:V,sort:[].sort,splice:[].splice},Y.fn.init.prototype=Y.fn,Y.extend=Y.fn.extend=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;typeof u=="boolean"&&(l=u,u=arguments[1]||{},a=2),typeof u!="object"&&!Y.isFunction(u)&&(u={}),f===a&&(u=this,--a);for(;a<f;a++)if((e=arguments[a])!=null)for(n in e){r=u[n],i=e[n];if(u===i)continue;l&&i&&(Y.isPlainObject(i)||(s=Y.isArray(i)))?(s?(s=!1,o=r&&Y.isArray(r)?r:[]):o=r&&Y.isPlainObject(r)?r:{},u[n]=Y.extend(l,o,i)):i!==t&&(u[n]=i)}return u},Y.extend({noConflict:function(t){return e.$===Y&&(e.$=X),t&&e.jQuery===Y&&(e.jQuery=W),Y},isReady:!1,readyWait:1,holdReady:function(e){e?Y.readyWait++:Y.ready(!0)},ready:function(e){if(e===!0?--Y.readyWait:Y.isReady)return;if(!R.body)return setTimeout(Y.ready,1);Y.isReady=!0;if(e!==!0&&--Y.readyWait>0)return;q.resolveWith(R,[Y]),Y.fn.trigger&&Y(R).trigger("ready").off("ready")},isFunction:function(e){return Y.type(e)==="function"},isArray:Array.isArray||function(e){return Y.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):pt[K.call(e)]||"object"},isPlainObject:function(e){if(!e||Y.type(e)!=="object"||e.nodeType||Y.isWindow(e))return!1;try{if(e.constructor&&!Q.call(e,"constructor")&&!Q.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||Q.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var r;return!e||typeof e!="string"?null:(typeof t=="boolean"&&(n=t,t=0),t=t||R,(r=it.exec(e))?[t.createElement(r[1])]:(r=Y.buildFragment([e],t,n?null:[]),Y.merge([],(r.cacheable?Y.clone(r.fragment):r.fragment).childNodes)))},parseJSON:function(t){if(!t||typeof t!="string")return null;t=Y.trim(t);if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(st.test(t.replace(ut,"@").replace(at,"]").replace(ot,"")))return(new Function("return "+t))();Y.error("Invalid JSON: "+t)},parseXML:function(n){var r,i;if(!n||typeof n!="string")return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(s){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&Y.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&et.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ft,"ms-").replace(lt,ct)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,n,r){var i,s=0,o=e.length,u=o===t||Y.isFunction(e);if(r){if(u){for(i in e)if(n.apply(e[i],r)===!1)break}else for(;s<o;)if(n.apply(e[s++],r)===!1)break}else if(u){for(i in e)if(n.call(e[i],i,e[i])===!1)break}else for(;s<o;)if(n.call(e[s],s,e[s++])===!1)break;return e},trim:G&&!G.call("﻿ ")?function(e){return e==null?"":G.call(e)}:function(e){return e==null?"":e.toString().replace(nt,"")},makeArray:function(e,t){var n,r=t||[];return e!=null&&(n=Y.type(e),e.length==null||n==="string"||n==="function"||n==="regexp"||Y.isWindow(e)?V.call(r,e):Y.merge(r,e)),r},inArray:function(e,t,n){var r;if(t){if(J)return J.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if(typeof r=="number")for(;s<r;s++)e[i++]=n[s];else while(n[s]!==t)e[i++]=n[s++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;n=!!n;for(;s<o;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,n,r){var i,s,o=[],u=0,a=e.length,f=e instanceof Y||a!==t&&typeof a=="number"&&(a>0&&e[0]&&e[a-1]||a===0||Y.isArray(e));if(f)for(;u<a;u++)i=n(e[u],u,r),i!=null&&(o[o.length]=i);else for(s in e)i=n(e[s],s,r),i!=null&&(o[o.length]=i);return o.concat.apply([],o)},guid:1,proxy:function(e,n){var r,i,s;return typeof n=="string"&&(r=e[n],n=e,e=r),Y.isFunction(e)?(i=$.call(arguments,2),s=function(){return e.apply(n,i.concat($.call(arguments)))},s.guid=e.guid=e.guid||s.guid||Y.guid++,s):t},access:function(e,n,r,i,s,o,u){var a,f=r==null,l=0,c=e.length;if(r&&typeof r=="object"){for(l in r)Y.access(e,n,l,r[l],1,o,i);s=1}else if(i!==t){a=u===t&&Y.isFunction(i),f&&(a?(a=n,n=function(e,t,n){return a.call(Y(e),n)}):(n.call(e,i),n=null));if(n)for(;l<c;l++)n(e[l],r,a?i.call(e[l],l,n(e[l],r)):i,u);s=1}return s?e:f?n.call(e):c?n(e[0],r):o},now:function(){return(new Date).getTime()}}),Y.ready.promise=function(t){if(!q){q=Y.Deferred();if(R.readyState==="complete")setTimeout(Y.ready,1);else if(R.addEventListener)R.addEventListener("DOMContentLoaded",ht,!1),e.addEventListener("load",Y.ready,!1);else{R.attachEvent("onreadystatechange",ht),e.attachEvent("onload",Y.ready);var n=!1;try{n=e.frameElement==null&&R.documentElement}catch(r){}n&&n.doScroll&&function i(){if(!Y.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}Y.ready()}}()}}return q.promise(t)},Y.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){pt["[object "+t+"]"]=t.toLowerCase()}),I=Y(R);var dt={};Y.Callbacks=function(e){e=typeof e=="string"?dt[e]||n(e):Y.extend({},e);var r,i,s,o,u,a,f=[],l=!e.once&&[],c=function(t){r=e.memory&&t,i=!0,a=o||0,o=0,u=f.length,s=!0;for(;f&&a<u;a++)if(f[a].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}s=!1,f&&(l?l.length&&c(l.shift()):r?f=[]:h.disable())},h={add:function(){if(f){var t=f.length;(function n(t){Y.each(t,function(t,r){var i=Y.type(r);i==="function"&&(!e.unique||!h.has(r))?f.push(r):r&&r.length&&i!=="string"&&n(r)})})(arguments),s?u=f.length:r&&(o=t,c(r))}return this},remove:function(){return f&&Y.each(arguments,function(e,t){var n;while((n=Y.inArray(t,f,n))>-1)f.splice(n,1),s&&(n<=u&&u--,n<=a&&a--)}),this},has:function(e){return Y.inArray(e,f)>-1},empty:function(){return f=[],this},disable:function(){return f=l=r=t,this},disabled:function(){return!f},lock:function(){return l=t,r||h.disable(),this},locked:function(){return!l},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],f&&(!i||l)&&(s?l.push(t):c(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},Y.extend({Deferred:function(e){var t=[["resolve","done",Y.Callbacks("once memory"),"resolved"],["reject","fail",Y.Callbacks("once memory"),"rejected"],["notify","progress",Y.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Y.Deferred(function(n){Y.each(t,function(t,r){var s=r[0],o=e[t];i[r[1]](Y.isFunction(o)?function(){var e=o.apply(this,arguments);e&&Y.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===i?n:this,[e])}:n[s])}),e=null}).promise()},promise:function(e){return typeof e=="object"?Y.extend(e,r):r}},i={};return r.pipe=r.then,Y.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=o.fire,i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=$.call(arguments),r=n.length,i=r!==1||e&&Y.isFunction(e.promise)?r:0,s=i===1?e:Y.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?$.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&Y.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}}),Y.support=function(){var t,n,r,i,s,o,u,a,f,l,c,h=R.createElement("div");h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=h.getElementsByTagName("*"),r=h.getElementsByTagName("a")[0],r.style.cssText="top:1px;float:left;opacity:.5";if(!n||!n.length||!r)return{};i=R.createElement("select"),s=i.appendChild(R.createElement("option")),o=h.getElementsByTagName("input")[0],t={leadingWhitespace:h.firstChild.nodeType===3,tbody:!h.getElementsByTagName("tbody").length,htmlSerialize:!!h.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:r.getAttribute("href")==="/a",opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:o.value==="on",optSelected:s.selected,getSetAttribute:h.className!=="t",enctype:!!R.createElement("form").enctype,html5Clone:R.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:R.compatMode==="CSS1Compat",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,i.disabled=!0,t.optDisabled=!s.disabled;try{delete h.test}catch(p){t.deleteExpando=!1}!h.addEventListener&&h.attachEvent&&h.fireEvent&&(h.attachEvent("onclick",c=function(){t.noCloneEvent=!1}),h.cloneNode(!0).fireEvent("onclick"),h.detachEvent("onclick",c)),o=R.createElement("input"),o.value="t",o.setAttribute("type","radio"),t.radioValue=o.value==="t",o.setAttribute("checked","checked"),o.setAttribute("name","t"),h.appendChild(o),u=R.createDocumentFragment(),u.appendChild(h.lastChild),t.checkClone=u.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=o.checked,u.removeChild(o),u.appendChild(h);if(h.attachEvent)for(f in{submit:!0,change:!0,focusin:!0})a="on"+f,l=a in h,l||(h.setAttribute(a,"return;"),l=typeof h[a]=="function"),t[f+"Bubbles"]=l;return Y(function(){var n,r,i,s,o="padding:0;margin:0;border:0;display:block;overflow:hidden;",u=R.getElementsByTagName("body")[0];if(!u)return;n=R.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",u.insertBefore(n,u.firstChild),r=R.createElement("div"),n.appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=r.getElementsByTagName("td"),i[0].style.cssText="padding:0;margin:0;border:0;display:none",l=i[0].offsetHeight===0,i[0].style.display="",i[1].style.display="none",t.reliableHiddenOffsets=l&&i[0].offsetHeight===0,r.innerHTML="",r.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=r.offsetWidth===4,t.doesNotIncludeMarginInBodyOffset=u.offsetTop!==1,e.getComputedStyle&&(t.pixelPosition=(e.getComputedStyle(r,null)||{}).top!=="1%",t.boxSizingReliable=(e.getComputedStyle(r,null)||{width:"4px"}).width==="4px",s=R.createElement("div"),s.style.cssText=r.style.cssText=o,s.style.marginRight=s.style.width="0",r.style.width="1px",r.appendChild(s),t.reliableMarginRight=!parseFloat((e.getComputedStyle(s,null)||{}).marginRight)),typeof r.style.zoom!="undefined"&&(r.innerHTML="",r.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=r.offsetWidth===3,r.style.display="block",r.style.overflow="visible",r.innerHTML="<div></div>",r.firstChild.style.width="5px",t.shrinkWrapBlocks=r.offsetWidth!==3,n.style.zoom=1),u.removeChild(n),n=r=i=s=null}),u.removeChild(h),n=r=i=s=o=u=h=null,t}();var vt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,mt=/([A-Z])/g;Y.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(Y.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?Y.cache[e[Y.expando]]:e[Y.expando],!!e&&!i(e)},data:function(e,n,r,i){if(!Y.acceptData(e))return;var s,o,u=Y.expando,a=typeof n=="string",f=e.nodeType,l=f?Y.cache:e,c=f?e[u]:e[u]&&u;if((!c||!l[c]||!i&&!l[c].data)&&a&&r===t)return;c||(f?e[u]=c=Y.deletedIds.pop()||++Y.uuid:c=u),l[c]||(l[c]={},f||(l[c].toJSON=Y.noop));if(typeof n=="object"||typeof n=="function")i?l[c]=Y.extend(l[c],n):l[c].data=Y.extend(l[c].data,n);return s=l[c],i||(s.data||(s.data={}),s=s.data),r!==t&&(s[Y.camelCase(n)]=r),a?(o=s[n],o==null&&(o=s[Y.camelCase(n)])):o=s,o},removeData:function(e,t,n){if(!Y.acceptData(e))return;var r,s,o,u=e.nodeType,a=u?Y.cache:e,f=u?e[Y.expando]:Y.expando;if(!a[f])return;if(t){r=n?a[f]:a[f].data;if(r){Y.isArray(t)||(t in r?t=[t]:(t=Y.camelCase(t),t in r?t=[t]:t=t.split(" ")));for(s=0,o=t.length;s<o;s++)delete r[t[s]];if(!(n?i:Y.isEmptyObject)(r))return}}if(!n){delete a[f].data;if(!i(a[f]))return}u?Y.cleanData([e],!0):Y.support.deleteExpando||a!=a.window?delete a[f]:a[f]=null},_data:function(e,t,n){return Y.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&Y.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),Y.fn.extend({data:function(e,n){var i,s,o,u,a,f=this[0],l=0,c=null;if(e===t){if(this.length){c=Y.data(f);if(f.nodeType===1&&!Y._data(f,"parsedAttrs")){o=f.attributes;for(a=o.length;l<a;l++)u=o[l].name,u.indexOf("data-")===0&&(u=Y.camelCase(u.substring(5)),r(f,u,c[u]));Y._data(f,"parsedAttrs",!0)}}return c}return typeof e=="object"?this.each(function(){Y.data(this,e)}):(i=e.split(".",2),i[1]=i[1]?"."+i[1]:"",s=i[1]+"!",Y.access(this,function(n){if(n===t)return c=this.triggerHandler("getData"+s,[i[0]]),c===t&&f&&(c=Y.data(f,e),c=r(f,e,c)),c===t&&i[1]?this.data(i[0]):c;i[1]=n,this.each(function(){var t=Y(this);t.triggerHandler("setData"+s,i),Y.data(this,e,n),t.triggerHandler("changeData"+s,i)})},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){Y.removeData(this,e)})}}),Y.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y._data(e,t),n&&(!r||Y.isArray(n)?r=Y._data(e,t,Y.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=Y.queue(e,t),r=n.length,i=n.shift(),s=Y._queueHooks(e,t),o=function(){Y.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y._data(e,n)||Y._data(e,n,{empty:Y.Callbacks("once memory").add(function(){Y.removeData(e,t+"queue",!0),Y.removeData(e,n,!0)})})}}),Y.fn.extend({queue:function(e,n){var r=2;return typeof e!="string"&&(n=e,e="fx",r--),arguments.length<r?Y.queue(this[0],e):n===t?this:this.each(function(){var t=Y.queue(this,e,n);Y._queueHooks(this,e),e==="fx"&&t[0]!=="inprogress"&&Y.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Y.dequeue(this,e)})},delay:function(e,t){return e=Y.fx?Y.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,s=Y.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};typeof e!="string"&&(n=e,e=t),e=e||"fx";while(u--)r=Y._data(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(n)}});var gt,yt,bt,wt=/[\t\r\n]/g,Et=/\r/g,St=/^(?:button|input)$/i,xt=/^(?:button|input|object|select|textarea)$/i,Tt=/^a(?:rea|)$/i,Nt=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Ct=Y.support.getSetAttribute;Y.fn.extend({attr:function(e,t){return Y.access(this,Y.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Y.removeAttr(this,e)})},prop:function(e,t){return Y.access(this,Y.prop,e,t,arguments.length>1)},removeProp:function(e){return e=Y.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o,u;if(Y.isFunction(e))return this.each(function(t){Y(this).addClass(e.call(this,t,this.className))});if(e&&typeof e=="string"){t=e.split(tt);for(n=0,r=this.length;n<r;n++){i=this[n];if(i.nodeType===1)if(!i.className&&t.length===1)i.className=e;else{s=" "+i.className+" ";for(o=0,u=t.length;o<u;o++)~s.indexOf(" "+t[o]+" ")||(s+=t[o]+" ");i.className=Y.trim(s)}}}return this},removeClass:function(e){var n,r,i,s,o,u,a;if(Y.isFunction(e))return this.each(function(t){Y(this).removeClass(e.call(this,t,this.className))});if(e&&typeof e=="string"||e===t){n=(e||"").split(tt);for(u=0,a=this.length;u<a;u++){i=this[u];if(i.nodeType===1&&i.className){r=(" "+i.className+" ").replace(wt," ");for(s=0,o=n.length;s<o;s++)while(r.indexOf(" "+n[s]+" ")>-1)r=r.replace(" "+n[s]+" "," ");i.className=e?Y.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e,r=typeof t=="boolean";return Y.isFunction(e)?this.each(function(n){Y(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var i,s=0,o=Y(this),u=t,a=e.split(tt);while(i=a[s++])u=r?u:!o.hasClass(i),o[u?"addClass":"removeClass"](i)}else if(n==="undefined"||n==="boolean")this.className&&Y._data(this,"__className__",this.className),this.className=this.className||e===!1?"":Y._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(wt," ").indexOf(t)>-1)return!0;return!1},val:function(e){var n,r,i,s=this[0];if(!arguments.length){if(s)return n=Y.valHooks[s.type]||Y.valHooks[s.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(s,"value"))!==t?r:(r=s.value,typeof r=="string"?r.replace(Et,""):r==null?"":r);return}return i=Y.isFunction(e),this.each(function(r){var s,o=Y(this);if(this.nodeType!==1)return;i?s=e.call(this,r,o.val()):s=e,s==null?s="":typeof s=="number"?s+="":Y.isArray(s)&&(s=Y.map(s,function(e){return e==null?"":e+""})),n=Y.valHooks[this.type]||Y.valHooks[this.nodeName.toLowerCase()];if(!n||!("set"in n)||n.set(this,s,"value")===t)this.value=s})}}),Y.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r,i,s=e.selectedIndex,o=[],u=e.options,a=e.type==="select-one";if(s<0)return null;n=a?s:0,r=a?s+1:u.length;for(;n<r;n++){i=u[n];if(i.selected&&(Y.support.optDisabled?!i.disabled:i.getAttribute("disabled")===null)&&(!i.parentNode.disabled||!Y.nodeName(i.parentNode,"optgroup"))){t=Y(i).val();if(a)return t;o.push(t)}}return a&&!o.length&&u.length?Y(u[s]).val():o},set:function(e,t){var n=Y.makeArray(t);return Y(e).find("option").each(function(){this.selected=Y.inArray(Y(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,r,i){var s,o,u,a=e.nodeType;if(!e||a===3||a===8||a===2)return;if(i&&Y.isFunction(Y.fn[n]))return Y(e)[n](r);if(typeof e.getAttribute=="undefined")return Y.prop(e,n,r);u=a!==1||!Y.isXMLDoc(e),u&&(n=n.toLowerCase(),o=Y.attrHooks[n]||(Nt.test(n)?yt:gt));if(r!==t){if(r===null){Y.removeAttr(e,n);return}return o&&"set"in o&&u&&(s=o.set(e,r,n))!==t?s:(e.setAttribute(n,""+r),r)}return o&&"get"in o&&u&&(s=o.get(e,n))!==null?s:(s=e.getAttribute(n),s===null?t:s)},removeAttr:function(e,t){var n,r,i,s,o=0;if(t&&e.nodeType===1){r=t.split(tt);for(;o<r.length;o++)i=r[o],i&&(n=Y.propFix[i]||i,s=Nt.test(i),s||Y.attr(e,i,""),e.removeAttribute(Ct?i:n),s&&n in e&&(e[n]=!1))}},attrHooks:{type:{set:function(e,t){if(St.test(e.nodeName)&&e.parentNode)Y.error("type property can't be changed");else if(!Y.support.radioValue&&t==="radio"&&Y.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return gt&&Y.nodeName(e,"button")?gt.get(e,t):t in e?e.value:null},set:function(e,t,n){if(gt&&Y.nodeName(e,"button"))return gt.set(e,t,n);e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;return o=u!==1||!Y.isXMLDoc(e),o&&(n=Y.propFix[n]||n,s=Y.propHooks[n]),r!==t?s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&"get"in s&&(i=s.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):xt.test(e.nodeName)||Tt.test(e.nodeName)&&e.href?0:t}}}}),yt={get:function(e,n){var r,i=Y.prop(e,n);return i===!0||typeof i!="boolean"&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?Y.removeAttr(e,n):(r=Y.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},Ct||(bt={name:!0,id:!0,coords:!0},gt=Y.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(bt[n]?r.value!=="":r.specified)?r.value:t},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=R.createAttribute(n),e.setAttributeNode(r)),r.value=t+""}},Y.each(["width","height"],function(e,t){Y.attrHooks[t]=Y.extend(Y.attrHooks[t],{set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}})}),Y.attrHooks.contenteditable={get:gt.get,set:function(e,t,n){t===""&&(t="false"),gt.set(e,t,n)}}),Y.support.hrefNormalized||Y.each(["href","src","width","height"],function(e,n){Y.attrHooks[n]=Y.extend(Y.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return r===null?t:r}})}),Y.support.style||(Y.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=""+t}}),Y.support.optSelected||(Y.propHooks.selected=Y.extend(Y.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),Y.support.enctype||(Y.propFix.enctype="encoding"),Y.support.checkOn||Y.each(["radio","checkbox"],function(){Y.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}}),Y.each(["radio","checkbox"],function(){Y.valHooks[this]=Y.extend(Y.valHooks[this],{set:function(e,t){if(Y.isArray(t))return e.checked=Y.inArray(Y(e).val(),t)>=0}})});var kt=/^(?:textarea|input|select)$/i,Lt=/^([^\.]*|)(?:\.(.+)|)$/,At=/(?:^|\s)hover(\.\S+|)\b/,Ot=/^key/,Mt=/^(?:mouse|contextmenu)|click/,_t=/^(?:focusinfocus|focusoutblur)$/,Dt=function(e){return Y.event.special.hover?e:e.replace(At,"mouseenter$1 mouseleave$1")};Y.event={add:function(e,n,r,i,s){var o,u,a,f,l,c,h,p,d,v,m;if(e.nodeType===3||e.nodeType===8||!n||!r||!(o=Y._data(e)))return;r.handler&&(d=r,r=d.handler,s=d.selector),r.guid||(r.guid=Y.guid++),a=o.events,a||(o.events=a={}),u=o.handle,u||(o.handle=u=function(e){return typeof Y=="undefined"||!!e&&Y.event.triggered===e.type?t:Y.event.dispatch.apply(u.elem,arguments)},u.elem=e),n=Y.trim(Dt(n)).split(" ");for(f=0;f<n.length;f++){l=Lt.exec(n[f])||[],c=l[1],h=(l[2]||"").split(".").sort(),m=Y.event.special[c]||{},c=(s?m.delegateType:m.bindType)||c,m=Y.event.special[c]||{},p=Y.extend({type:c,origType:l[1],data:i,handler:r,guid:r.guid,selector:s,namespace:h.join(".")},d),v=a[c];if(!v){v=a[c]=[],v.delegateCount=0;if(!m.setup||m.setup.call(e,i,h,u)===!1)e.addEventListener?e.addEventListener(c,u,!1):e.attachEvent&&e.attachEvent("on"+c,u)}m.add&&(m.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),s?v.splice(v.delegateCount++,0,p):v.push(p),Y.event.global[c]=!0}e=null},global:{},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=Y.hasData(e)&&Y._data(e);if(!m||!(h=m.events))return;t=Y.trim(Dt(t||"")).split(" ");for(s=0;s<t.length;s++){o=Lt.exec(t[s])||[],u=a=o[1],f=o[2];if(!u){for(u in h)Y.event.remove(e,u+t[s],n,r,!0);continue}p=Y.event.special[u]||{},u=(r?p.delegateType:p.bindType)||u,d=h[u]||[],l=d.length,f=f?new RegExp("(^|\\.)"+f.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(c=0;c<d.length;c++)v=d[c],(i||a===v.origType)&&(!n||n.guid===v.guid)&&(!f||f.test(v.namespace))&&(!r||r===v.selector||r==="**"&&v.selector)&&(d.splice(c--,1),v.selector&&d.delegateCount--,p.remove&&p.remove.call(e,v));d.length===0&&l!==d.length&&((!p.teardown||p.teardown.call(e,f,m.handle)===!1)&&Y.removeEvent(e,u,m.handle),delete h[u])}Y.isEmptyObject(h)&&(delete m.handle,Y.removeData(e,"events",!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,i,s){if(!i||i.nodeType!==3&&i.nodeType!==8){var o,u,a,f,l,c,h,p,d,v,m=n.type||n,g=[];if(_t.test(m+Y.event.triggered))return;m.indexOf("!")>=0&&(m=m.slice(0,-1),u=!0),m.indexOf(".")>=0&&(g=m.split("."),m=g.shift(),g.sort());if((!i||Y.event.customEvent[m])&&!Y.event.global[m])return;n=typeof n=="object"?n[Y.expando]?n:new Y.Event(m,n):new Y.Event(m),n.type=m,n.isTrigger=!0,n.exclusive=u,n.namespace=g.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c=m.indexOf(":")<0?"on"+m:"";if(!i){o=Y.cache;for(a in o)o[a].events&&o[a].events[m]&&Y.event.trigger(n,r,o[a].handle.elem,!0);return}n.result=t,n.target||(n.target=i),r=r!=null?Y.makeArray(r):[],r.unshift(n),h=Y.event.special[m]||{};if(h.trigger&&h.trigger.apply(i,r)===!1)return;d=[[i,h.bindType||m]];if(!s&&!h.noBubble&&!Y.isWindow(i)){v=h.delegateType||m,f=_t.test(v+m)?i:i.parentNode;for(l=i;f;f=f.parentNode)d.push([f,v]),l=f;l===(i.ownerDocument||R)&&d.push([l.defaultView||l.parentWindow||e,v])}for(a=0;a<d.length&&!n.isPropagationStopped();a++)f=d[a][0],n.type=d[a][1],p=(Y._data(f,"events")||{})[n.type]&&Y._data(f,"handle"),p&&p.apply(f,r),p=c&&f[c],p&&Y.acceptData(f)&&p.apply(f,r)===!1&&n.preventDefault();return n.type=m,!s&&!n.isDefaultPrevented()&&(!h._default||h._default.apply(i.ownerDocument,r)===!1)&&(m!=="click"||!Y.nodeName(i,"a"))&&Y.acceptData(i)&&c&&i[m]&&(m!=="focus"&&m!=="blur"||n.target.offsetWidth!==0)&&!Y.isWindow(i)&&(l=i[c],l&&(i[c]=null),Y.event.triggered=m,i[m](),Y.event.triggered=t,l&&(i[c]=l)),n.result}return},dispatch:function(n){n=Y.event.fix(n||e.event);var r,i,s,o,u,a,f,l,c,h,p=(Y._data(this,"events")||{})[n.type]||[],d=p.delegateCount,v=[].slice.call(arguments),m=!n.exclusive&&!n.namespace,g=Y.event.special[n.type]||{},y=[];v[0]=n,n.delegateTarget=this;if(g.preDispatch&&g.preDispatch.call(this,n)===!1)return;if(d&&(!n.button||n.type!=="click"))for(s=n.target;s!=this;s=s.parentNode||this)if(s.disabled!==!0||n.type!=="click"){u={},f=[];for(r=0;r<d;r++)l=p[r],c=l.selector,u[c]===t&&(u[c]=Y(c,this).index(s)>=0),u[c]&&f.push(l);f.length&&y.push({elem:s,matches:f})}p.length>d&&y.push({elem:this,matches:p.slice(d)});for(r=0;r<y.length&&!n.isPropagationStopped();r++){a=y[r],n.currentTarget=a.elem;for(i=0;i<a.matches.length&&!n.isImmediatePropagationStopped();i++){l=a.matches[i];if(m||!n.namespace&&!l.namespace||n.namespace_re&&n.namespace_re.test(l.namespace))n.data=l.data,n.handleObj=l,o=((Y.event.special[l.origType]||{}).handle||l.handler).apply(a.elem,v),o!==t&&(n.result=o,o===!1&&(n.preventDefault(),n.stopPropagation()))}}return g.postDispatch&&g.postDispatch.call(this,n),n.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,s,o=n.button,u=n.fromElement;return e.pageX==null&&n.clientX!=null&&(r=e.target.ownerDocument||R,i=r.documentElement,s=r.body,e.pageX=n.clientX+(i&&i.scrollLeft||s&&s.scrollLeft||0)-(i&&i.clientLeft||s&&s.clientLeft||0),e.pageY=n.clientY+(i&&i.scrollTop||s&&s.scrollTop||0)-(i&&i.clientTop||s&&s.clientTop||0)),!e.relatedTarget&&u&&(e.relatedTarget=u===e.target?n.toElement:u),!e.which&&o!==t&&(e.which=o&1?1:o&2?3:o&4?2:0),e}},fix:function(e){if(e[Y.expando])return e;var t,n,r=e,i=Y.event.fixHooks[e.type]||{},s=i.props?this.props.concat(i.props):this.props;e=Y.Event(r);for(t=s.length;t;)n=s[--t],e[n]=r[n];return e.target||(e.target=r.srcElement||R),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,i.filter?i.filter(e,r):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){Y.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=Y.extend(new Y.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?Y.event.trigger(i,null,t):Y.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},Y.event.handle=Y.event.dispatch,Y.removeEvent=R.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]=="undefined"&&(e[r]=null),e.detachEvent(r,n))},Y.Event=function(e,t){if(!(this instanceof Y.Event))return new Y.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?o:s):this.type=e,t&&Y.extend(this,t),this.timeStamp=e&&e.timeStamp||Y.now(),this[Y.expando]=!0},Y.Event.prototype={preventDefault:function(){this.isDefaultPrevented=o;var e=this.originalEvent;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=o;var e=this.originalEvent;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=o,this.stopPropagation()},isDefaultPrevented:s,isPropagationStopped:s,isImmediatePropagationStopped:s},Y.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){Y.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj,o=s.selector;if(!i||i!==r&&!Y.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),Y.support.submitBubbles||(Y.event.special.submit={setup:function(){if(Y.nodeName(this,"form"))return!1;Y.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=Y.nodeName(n,"input")||Y.nodeName(n,"button")?n.form:t;r&&!Y._data(r,"_submit_attached")&&(Y.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),Y._data(r,"_submit_attached",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&Y.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(Y.nodeName(this,"form"))return!1;Y.event.remove(this,"._submit")}}),Y.support.changeBubbles||(Y.event.special.change={setup:function(){if(kt.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")Y.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),Y.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),Y.event.simulate("change",this,e,!0)});return!1}Y.event.add(this,"beforeactivate._change",function(e){var t=e.target;kt.test(t.nodeName)&&!Y._data(t,"_change_attached")&&(Y.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&Y.event.simulate("change",this.parentNode,e,!0)}),Y._data(t,"_change_attached",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return Y.event.remove(this,"._change"),!kt.test(this.nodeName)}}),Y.support.focusinBubbles||Y.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){Y.event.simulate(t,e.target,Y.event.fix(e),!0)};Y.event.special[t]={setup:function(){n++===0&&R.addEventListener(e,r,!0)},teardown:function(){--n===0&&R.removeEventListener(e,r,!0)}}}),Y.fn.extend({on:function(e,n,r,i,o){var u,a;if(typeof e=="object"){typeof n!="string"&&(r=r||n,n=t);for(a in e)this.on(a,n,r,e[a],o);return this}r==null&&i==null?(i=n,r=n=t):i==null&&(typeof n=="string"?(i=r,r=t):(i=r,r=n,n=t));if(i===!1)i=s;else if(!i)return this;return o===1&&(u=i,i=function(e){return Y().off(e),u.apply(this,arguments)},i.guid=u.guid||(u.guid=Y.guid++)),this.each(function(){Y.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,Y(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if(typeof e=="object"){for(o in e)this.off(o,n,e[o]);return this}if(n===!1||typeof n=="function")r=n,n=t;return r===!1&&(r=s),this.each(function(){Y.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return Y(this.context).on(e,this.selector,t,n),this},die:function(e,t){return Y(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length==1?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){Y.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return Y.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||Y.guid++,r=0,i=function(n){var i=(Y._data(this,"lastToggle"+e.guid)||0)%r;return Y._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};i.guid=n;while(r<t.length)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Y.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Y.fn[t]=function(e,n){return n==null&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Ot.test(t)&&(Y.event.fixHooks[t]=Y.event.keyHooks),Mt.test(t)&&(Y.event.fixHooks[t]=Y.event.mouseHooks)}),function(e,t){function n(e,t,n,r){n=n||[],t=t||L;var i,s,o,u,a=t.nodeType;if(a!==1&&a!==9)return[];if(!e||typeof e!="string")return n;o=w(t);if(!o&&!r)if(i=K.exec(e))if(u=i[1]){if(a===9){s=t.getElementById(u);if(!s||!s.parentNode)return n;if(s.id===u)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(u))&&E(t,s)&&s.id===u)return n.push(s),n}else{if(i[2])return _.apply(n,M.call(t.getElementsByTagName(e),0)),n;if((u=i[3])&&at&&t.getElementsByClassName)return _.apply(n,M.call(t.getElementsByClassName(u),0)),n}return d(e,t,n,r,o)}function r(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function i(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function s(e,t,n){if(e===t)return n;var r=e.nextSibling;while(r){if(r===t)return-1;r=r.nextSibling}return 1}function o(e,t,r,i){var s,o,u,a,f,l,c,h,p,d,v=!r&&t!==L,m=(v?"<s>":"")+e.replace(X,"$1<s>"),g=B[k][m];if(g)return i?0:M.call(g,0);f=e,l=[],h=0,p=y.preFilter,d=y.filter;while(f){if(!s||(o=V.exec(f)))o&&(f=f.slice(o[0].length),u.selector=c),l.push(u=[]),c="",v&&(f=" "+f);s=!1;if(o=$.exec(f))c+=o[0],f=f.slice(o[0].length),s=u.push({part:o.pop().replace(X," "),string:o[0],captures:o});for(a in d)(o=rt[a].exec(f))&&(!p[a]||(o=p[a](o,t,r)))&&(c+=o[0],f=f.slice(o[0].length),s=u.push({part:a,string:o.shift(),captures:o}));if(!s)break}return c&&(u.selector=c),i?f.length:f?n.error(e):M.call(B(m,l),0)}function u(e,t,n,r){var i=t.dir,s=O++;return e||(e=function(e){return e===n}),t.first?function(t){while(t=t[i])if(t.nodeType===1)return e(t)&&t}:r?function(t){while(t=t[i])if(t.nodeType===1&&e(t))return t}:function(t){var n,r=s+"."+v,o=r+"."+m;while(t=t[i])if(t.nodeType===1){if((n=t[k])===o)return t.sizset;if(typeof n=="string"&&n.indexOf(r)===0){if(t.sizset)return t}else{t[k]=o;if(e(t))return t.sizset=!0,t;t.sizset=!1}}}}function a(e,t){return e?function(n){var r=t(n);return r&&e(r===!0?n:r)}:t}function f(e,t,n){var r,i,s=0;for(;r=e[s];s++)y.relative[r.part]?i=u(i,y.relative[r.part],t,n):i=a(i,y.filter[r.part].apply(null,r.captures.concat(t,n)));return i}function l(e){return function(t){var n,r=0;for(;n=e[r];r++)if(n(t))return!0;return!1}}function c(e,t,r,i){var s=0,o=t.length;for(;s<o;s++)n(e,t[s],r,i)}function h(e,t,r,i,s,o){var u,a=y.setFilters[t.toLowerCase()];return a||n.error(t),(e||!(u=s))&&c(e||"*",i,u=[],s),u.length>0?a(u,r,o):[]}function p(e,r,i,s){var o,u,a,f,l,p,d,v,m,g,y,b,w,E=0,S=e.length,x=rt.POS,T=new RegExp("^"+x.source+"(?!"+F+")","i"),N=function(){var e=1,n=arguments.length-2;for(;e<n;e++)arguments[e]===t&&(m[e]=t)};for(;E<S;E++){o=e[E],u="",v=s;for(a=0,f=o.length;a<f;a++){l=o[a],p=l.string;if(l.part==="PSEUDO"){x.exec(""),d=0;while(m=x.exec(p)){g=!0,y=x.lastIndex=m.index+m[0].length;if(y>d){u+=p.slice(d,m.index),d=y,b=[r],$.test(u)&&(v&&(b=v),v=s);if(w=Z.test(u))u=u.slice(0,-5).replace($,"$&*"),d++;m.length>1&&m[0].replace(T,N),v=h(u,m[1],m[2],b,v,w)}u=""}}g||(u+=p),g=!1}u?$.test(u)?c(u,v||[r],i,s):n(u,r,i,s?s.concat(v):v):_.apply(i,v)}return S===1?i:n.uniqueSort(i)}function d(e,t,n,r,i){e=e.replace(X,"$1");var s,u,a,f,l,c,h,d,g,b,w=o(e,t,i),E=t.nodeType;if(rt.POS.test(e))return p(w,t,n,r);if(r)s=M.call(r,0);else if(w.length===1){if((c=M.call(w[0],0)).length>2&&(h=c[0]).part==="ID"&&E===9&&!i&&y.relative[c[1].part]){t=y.find.ID(h.captures[0].replace(nt,""),t,i)[0];if(!t)return n;e=e.slice(c.shift().string.length)}g=(w=G.exec(c[0].string))&&!w.index&&t.parentNode||t,d="";for(l=c.length-1;l>=0;l--){h=c[l],b=h.part,d=h.string+d;if(y.relative[b])break;if(y.order.test(b)){s=y.find[b](h.captures[0].replace(nt,""),g,i);if(s==null)continue;e=e.slice(0,e.length-d.length)+d.replace(rt[b],""),e||_.apply(n,M.call(s,0));break}}}if(e){u=S(e,t,i),v=u.dirruns++,s==null&&(s=y.find.TAG("*",G.test(e)&&t.parentNode||t));for(l=0;f=s[l];l++)m=u.runs++,u(f)&&n.push(f)}return n}var v,m,g,y,b,w,E,S,x,T,N=!0,C="undefined",k=("sizcache"+Math.random()).replace(".",""),L=e.document,A=L.documentElement,O=0,M=[].slice,_=[].push,D=function(e,t){return e[k]=t||!0,e},P=function(){var e={},t=[];return D(function(n,r){return t.push(n)>y.cacheLength&&delete e[t.shift()],e[n]=r},e)},H=P(),B=P(),j=P(),F="[\\x20\\t\\r\\n\\f]",I="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",q=I.replace("w","w#"),R="([*^$|!~]?=)",U="\\["+F+"*("+I+")"+F+"*(?:"+R+F+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+q+")|)|)"+F+"*\\]",z=":("+I+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+U+")|[^:]|\\\\.)*|.*))\\)|)",W=":(nth|eq|gt|lt|first|last|even|odd)(?:\\(((?:-\\d)?\\d*)\\)|)(?=[^-]|$)",X=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),V=new RegExp("^"+F+"*,"+F+"*"),$=new RegExp("^"+F+"*([\\x20\\t\\r\\n\\f>+~])"+F+"*"),J=new RegExp(z),K=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,Q=/^:not/,G=/[\x20\t\r\n\f]*[+~]/,Z=/:not\($/,et=/h\d/i,tt=/input|select|textarea|button/i,nt=/\\(?!\\)/g,rt={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),NAME:new RegExp("^\\[name=['\"]?("+I+")['\"]?\\]"),TAG:new RegExp("^("+I.replace("w","w*")+")"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|nth|last|first)-child(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),POS:new RegExp(W,"ig"),needsContext:new RegExp("^"+F+"*[>+~]|"+W,"i")},it=function(e){var t=L.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},st=it(function(e){return e.appendChild(L.createComment("")),!e.getElementsByTagName("*").length}),ot=it(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==C&&e.firstChild.getAttribute("href")==="#"}),ut=it(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return t!=="boolean"&&t!=="string"}),at=it(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!e.getElementsByClassName||!e.getElementsByClassName("e").length?!1:(e.lastChild.className="e",e.getElementsByClassName("e").length===2)}),ft=it(function(e){e.id=k+0,e.innerHTML="<a name='"+k+"'></a><div name='"+k+"'></div>",A.insertBefore(e,A.firstChild);var t=L.getElementsByName&&L.getElementsByName(k).length===2+L.getElementsByName(k+0).length;return g=!L.getElementById(k),A.removeChild(e),t});try{M.call(A.childNodes,0)[0].nodeType}catch(lt){M=function(e){var t,n=[];for(;t=this[e];e++)n.push(t);return n}}n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){return n(t,null,null,[e]).length>0},b=n.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(i===1||i===9||i===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=b(e)}else if(i===3||i===4)return e.nodeValue}else for(;t=e[r];r++)n+=b(t);return n},w=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},E=n.contains=A.contains?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&r.nodeType===1&&n.contains&&n.contains(r))}:A.compareDocumentPosition?function(e,t){return t&&!!(e.compareDocumentPosition(t)&16)}:function(e,t){while(t=t.parentNode)if(t===e)return!0;return!1},n.attr=function(e,t){var n,r=w(e);return r||(t=t.toLowerCase()),y.attrHandle[t]?y.attrHandle[t](e):ut||r?e.getAttribute(t):(n=e.getAttributeNode(t),n?typeof e[t]=="boolean"?e[t]?t:null:n.specified?n.value:null:null)},y=n.selectors={cacheLength:50,createPseudo:D,match:rt,order:new RegExp("ID|TAG"+(ft?"|NAME":"")+(at?"|CLASS":"")),attrHandle:ot?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:g?function(e,t,n){if(typeof t.getElementById!==C&&!n){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}}:function(e,n,r){if(typeof n.getElementById!==C&&!r){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==C&&i.getAttributeNode("id").value===e?[i]:t:[]}},TAG:st?function(e,t){if(typeof t.getElementsByTagName!==C)return t.getElementsByTagName(e)}:function(e,t){var n=t.getElementsByTagName(e);if(e==="*"){var r,i=[],s=0;for(;r=n[s];s++)r.nodeType===1&&i.push(r);return i}return n},NAME:function(e,t){if(typeof t.getElementsByName!==C)return t.getElementsByName(name)},CLASS:function(e,t,n){if(typeof t.getElementsByClassName!==C&&!n)return t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(nt,""),e[3]=(e[4]||e[5]||"").replace(nt,""),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1]==="nth"?(e[2]||n.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*(e[2]==="even"||e[2]==="odd")),e[4]=+(e[6]+e[7]||e[2]==="odd")):e[2]&&n.error(e[0]),e},PSEUDO:function(e,t,n){var r,i;if(rt.CHILD.test(e[0]))return null;if(e[3])e[2]=e[3];else if(r=e[4])J.test(r)&&(i=o(r,t,n,!0))&&(i=r.indexOf(")",r.length-i)-r.length)&&(r=r.slice(0,i),e[0]=e[0].slice(0,i)),e[2]=r;return e.slice(0,3)}},filter:{ID:g?function(e){return e=e.replace(nt,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(nt,""),function(t){var n=typeof t.getAttributeNode!==C&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return e==="*"?function(){return!0}:(e=e.replace(nt,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=H[k][e];return t||(t=H(e,new RegExp("(^|"+F+")"+e+"("+F+"|$)"))),function(e){return t.test(e.className||typeof e.getAttribute!==C&&e.getAttribute("class")||"")}},ATTR:function(e,t,r){return t?function(i){var s=n.attr(i,e),o=s+"";if(s==null)return t==="!=";switch(t){case"=":return o===r;case"!=":return o!==r;case"^=":return r&&o.indexOf(r)===0;case"*=":return r&&o.indexOf(r)>-1;case"$=":return r&&o.substr(o.length-r.length)===r;case"~=":return(" "+o+" ").indexOf(r)>-1;case"|=":return o===r||o.substr(0,r.length+1)===r+"-"}}:function(t){return n.attr(t,e)!=null}},CHILD:function(e,t,n,r){if(e==="nth"){var i=O++;return function(e){var t,s,o=0,u=e;if(n===1&&r===0)return!0;t=e.parentNode;if(t&&(t[k]!==i||!e.sizset)){for(u=t.firstChild;u;u=u.nextSibling)if(u.nodeType===1){u.sizset=++o;if(u===e)break}t[k]=i}return s=e.sizset-r,n===0?s===0:s%n===0&&s/n>=0}}return function(t){var n=t;switch(e){case"only":case"first":while(n=n.previousSibling)if(n.nodeType===1)return!1;if(e==="first")return!0;n=t;case"last":while(n=n.nextSibling)if(n.nodeType===1)return!1;return!0}}},PSEUDO:function(e,t,r,i){var s,o=y.pseudos[e]||y.pseudos[e.toLowerCase()];return o||n.error("unsupported pseudo: "+e),o[k]?o(t,r,i):o.length>1?(s=[e,e,"",t],function(e){return o(e,0,s)}):o}},pseudos:{not:D(function(e,t,n){var r=S(e.replace(X,"$1"),t,n);return function(e){return!r(e)}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!y.pseudos.empty(e)},empty:function(e){var t;e=e.firstChild;while(e){if(e.nodeName>"@"||(t=e.nodeType)===3||t===4)return!1;e=e.nextSibling}return!0},contains:D(function(e){return function(t){return(t.textContent||t.innerText||b(t)).indexOf(e)>-1}}),has:D(function(e){return function(t){return n(e,t).length>0}}),header:function(e){return et.test(e.nodeName)},text:function(e){var t,n;return e.nodeName.toLowerCase()==="input"&&(t=e.type)==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()===t)},radio:r("radio"),checkbox:r("checkbox"),file:r("file"),password:r("password"),image:r("image"),submit:i("submit"),reset:i("reset"),button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},input:function(e){return tt.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&(!!e.type||!!e.href)},active:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t,n){return n?e.slice(1):[e[0]]},last:function(e,t,n){var r=e.pop();return n?e:[r]},even:function(e,t,n){var r=[],i=n?1:0,s=e.length;for(;i<s;i+=2)r.push(e[i]);return r},odd:function(e,t,n){var r=[],i=n?0:1,s=e.length;for(;i<s;i+=2)r.push(e[i]);return r},lt:function(e,t,n){return n?e.slice(+t):e.slice(0,+t)},gt:function(e,t,n){return n?e.slice(0,+t+1):e.slice(+t+1)},eq:function(e,t,n){var r=e.splice(+t,1);return n?e:r}}},x=A.compareDocumentPosition?function(e,t){return e===t?(T=!0,0):(!e.compareDocumentPosition||!t.compareDocumentPosition?e.compareDocumentPosition:e.compareDocumentPosition(t)&4)?-1:1}:function(e,t){if(e===t)return T=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],o=[],u=e.parentNode,a=t.parentNode,f=u;if(u===a)return s(e,t);if(!u)return-1;if(!a)return 1;while(f)i.unshift(f),f=f.parentNode;f=a;while(f)o.unshift(f),f=f.parentNode;n=i.length,r=o.length;for(var l=0;l<n&&l<r;l++)if(i[l]!==o[l])return s(i[l],o[l]);return l===n?s(e,o[l],-1):s(i[l],t,1)},[0,0].sort(x),N=!T,n.uniqueSort=function(e){var t,n=1;T=N,e.sort(x);if(T)for(;t=e[n];n++)t===e[n-1]&&e.splice(n--,1);return e},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},S=n.compile=function(e,t,n){var r,i,s,u=j[k][e];if(u&&u.context===t)return u;r=o(e,t,n);for(i=0,s=r.length;i<s;i++)r[i]=f(r[i],t,n);return u=j(e,l(r)),u.context=t,u.runs=u.dirruns=0,u},L.querySelectorAll&&function(){var e,t=d,r=/'|\\/g,i=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,s=[],u=[":active"],a=A.matchesSelector||A.mozMatchesSelector||A.webkitMatchesSelector||A.oMatchesSelector||A.msMatchesSelector;it(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||s.push("\\["+F+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||s.push(":checked")}),it(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&s.push("[*^$]="+F+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||s.push(":enabled",":disabled")}),s=s.length&&new RegExp(s.join("|")),d=function(e,n,i,u,a){if(!u&&!a&&(!s||!s.test(e)))if(n.nodeType===9)try{return _.apply(i,M.call(n.querySelectorAll(e),0)),i}catch(f){}else if(n.nodeType===1&&n.nodeName.toLowerCase()!=="object"){var l,c,h,p=n.getAttribute("id"),d=p||k,v=G.test(e)&&n.parentNode||n;p?d=d.replace(r,"\\$&"):n.setAttribute("id",d),l=o(e,n,a),d="[id='"+d+"']";for(c=0,h=l.length;c<h;c++)l[c]=d+l[c].selector;try{return _.apply(i,M.call(v.querySelectorAll(l.join(",")),0)),i}catch(f){}finally{p||n.removeAttribute("id")}}return t(e,n,i,u,a)},a&&(it(function(t){e=a.call(t,"div");try{a.call(t,"[test!='']:sizzle"),u.push(rt.PSEUDO.source,rt.POS.source,"!=")}catch(n){}}),u=new RegExp(u.join("|")),n.matchesSelector=function(t,r){r=r.replace(i,"='$1']");if(!w(t)&&!u.test(r)&&(!s||!s.test(r)))try{var o=a.call(t,r);if(o||e||t.document&&t.document.nodeType!==11)return o}catch(f){}return n(r,null,null,[t]).length>0})}(),y.setFilters.nth=y.setFilters.eq,y.filters=y.pseudos,n.attr=Y.attr,Y.find=n,Y.expr=n.selectors,Y.expr[":"]=Y.expr.pseudos,Y.unique=n.uniqueSort,Y.text=n.getText,Y.isXMLDoc=n.isXML,Y.contains=n.contains}(e);var Pt=/Until$/,Ht=/^(?:parents|prev(?:Until|All))/,Bt=/^.[^:#\[\.,]*$/,jt=Y.expr.match.needsContext,Ft={children:!0,contents:!0,next:!0,prev:!0};Y.fn.extend({find:function(e){var t,n,r,i,s,o,u=this;if(typeof e!="string")return Y(e).filter(function(){for(t=0,n=u.length;t<n;t++)if(Y.contains(u[t],this))return!0});o=this.pushStack("","find",e);for(t=0,n=this.length;t<n;t++){r=o.length,Y.find(e,this[t],o);if(t>0)for(i=r;i<o.length;i++)for(s=0;s<r;s++)if(o[s]===o[i]){o.splice(i--,1);break}}return o},has:function(e){var t,n=Y(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(Y.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(f(this,e,!1),"not",e)},filter:function(e){return this.pushStack(f(this,e,!0),"filter",e)},is:function(e){return!!e&&(typeof e=="string"?jt.test(e)?Y(e,this.context).index(this[0])>=0:Y.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,s=[],o=jt.test(e)||typeof e!="string"?Y(e,t||this.context):0;for(;r<i;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&n.nodeType!==11){if(o?o.index(n)>-1:Y.find.matchesSelector(n,e)){s.push(n);break}n=n.parentNode}}return s=s.length>1?Y.unique(s):s,this.pushStack(s,"closest",e)},index:function(e){return e?typeof e=="string"?Y.inArray(this[0],Y(e)):Y.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n=typeof e=="string"?Y(e,t):Y.makeArray(e&&e.nodeType?[e]:e),r=Y.merge(this.get(),n);return this.pushStack(u(n[0])||u(r[0])?r:Y.unique(r))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),Y.fn.andSelf=Y.fn.addBack,Y.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return Y.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Y.dir(e,"parentNode",n)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){return Y.dir(e,"nextSibling")},prevAll:function(e){return Y.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Y.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Y.dir(e,"previousSibling",n)},siblings:function(e){return Y.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Y.sibling(e.firstChild)},contents:function(e){return Y.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:Y.merge([],e.childNodes)}},function(e,t){Y.fn[e]=function(n,r){var i=Y.map(this,t,n);return Pt.test(e)||(r=n),r&&typeof r=="string"&&(i=Y.filter(r,i)),i=this.length>1&&!Ft[e]?Y.unique(i):i,this.length>1&&Ht.test(e)&&(i=i.reverse()),this.pushStack(i,e,$.call(arguments).join(","))}}),Y.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),t.length===1?Y.find.matchesSelector(t[0],e)?[t[0]]:[]:Y.find.matches(e,t)},dir:function(e,n,r){var i=[],s=e[n];while(s&&s.nodeType!==9&&(r===t||s.nodeType!==1||!Y(s).is(r)))s.nodeType===1&&i.push(s),s=s[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var It="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",qt=/ jQuery\d+="(?:null|\d+)"/g,Rt=/^\s+/,Ut=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,zt=/<([\w:]+)/,Wt=/<tbody/i,Xt=/<|&#?\w+;/,Vt=/<(?:script|style|link)/i,$t=/<(?:script|object|embed|option|style)/i,Jt=new RegExp("<(?:"+It+")[\\s/>]","i"),Kt=/^(?:checkbox|radio)$/,Qt=/checked\s*(?:[^=]|=\s*.checked.)/i,Gt=/\/(java|ecma)script/i,Yt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Zt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},en=l(R),tn=en.appendChild(R.createElement("div"));Zt.optgroup=Zt.option,Zt.tbody=Zt.tfoot=Zt.colgroup=Zt.caption=Zt.thead,Zt.th=Zt.td,Y.support.htmlSerialize||(Zt._default=[1,"X<div>","</div>"]),Y.fn.extend({text:function(e){return Y.access(this,function(e){return e===t?Y.text(this):this.empty().append((this[0]&&this[0].ownerDocument||R).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(Y.isFunction(e))return this.each(function(t){Y(this).wrapAll(e.call(this,t))});if(this[0]){var t=Y(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return Y.isFunction(e)?this.each(function(t){Y(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Y(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Y.isFunction(e);return this.each(function(n){Y(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Y.nodeName(this,"body")||Y(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!u(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=Y.clean(arguments);return this.pushStack(Y.merge(e,this),"before",this.selector)}},after:function(){if(!u(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=Y.clean(arguments);return this.pushStack(Y.merge(this,e),"after",this.selector)}},remove:function(e,t){var n,r=0;for(;(n=this[r])!=null;r++)if(!e||Y.filter(e,[n]).length)!t&&n.nodeType===1&&(Y.cleanData(n.getElementsByTagName("*")),Y.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){e.nodeType===1&&Y.cleanData(e.getElementsByTagName("*"));while(e.firstChild)e.removeChild(e.firstChild)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return Y.clone(this,e,t)})},html:function(e){return Y.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(qt,""):t;if(typeof e=="string"&&!Vt.test(e)&&(Y.support.htmlSerialize||!Jt.test(e))&&(Y.support.leadingWhitespace||!Rt.test(e))&&!Zt[(zt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ut,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},n.nodeType===1&&(Y.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return u(this[0])?this.length?this.pushStack(Y(Y.isFunction(e)?e():e),"replaceWith",e):this:Y.isFunction(e)?this.each(function(t){var n=Y(this),r=n.html();n.replaceWith(e.call(this,t,r))}):(typeof e!="string"&&(e=Y(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;Y(this).remove(),t?Y(t).before(e):Y(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=[].concat.apply([],e);var i,s,o,u,a=0,f=e[0],l=[],h=this.length;if(!Y.support.checkClone&&h>1&&typeof f=="string"&&Qt.test(f))return this.each(function(){Y(this).domManip(e,n,r)});if(Y.isFunction(f))return this.each(function(i){var s=Y(this);e[0]=f.call(this,i,n?s.html():t),s.domManip(e,n,r)});if(this[0]){i=Y.buildFragment(e,this,l),o=i.fragment,s=o.firstChild,o.childNodes.length===1&&(o=s);if(s){n=n&&Y.nodeName(s,"tr");for(u=i.cacheable||h-1;a<h;a++)r.call(n&&Y.nodeName(this[a],"table")?c(this[a],"tbody"):this[a],a===u?o:Y.clone(o,!0,!0))}o=s=null,l.length&&Y.each(l,function(e,t){t.src?Y.ajax?Y.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):Y.error("no ajax"):Y.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Yt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),Y.buildFragment=function(e,n,r){var i,s,o,u=e[0];return n=n||R,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,e.length===1&&typeof u=="string"&&u.length<512&&n===R&&u.charAt(0)==="<"&&!$t.test(u)&&(Y.support.checkClone||!Qt.test(u))&&(Y.support.html5Clone||!Jt.test(u))&&(s=!0,i=Y.fragments[u],o=i!==t),i||(i=n.createDocumentFragment(),Y.clean(e,n,i,r),s&&(Y.fragments[u]=o&&i)),{fragment:i,cacheable:s}},Y.fragments={},Y.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Y.fn[e]=function(n){var r,i=0,s=[],o=Y(n),u=o.length,a=this.length===1&&this[0].parentNode;if((a==null||a&&a.nodeType===11&&a.childNodes.length===1)&&u===1)return o[t](this[0]),this;for(;i<u;i++)r=(i>0?this.clone(!0):this).get(),Y(o[i])[t](r),s=s.concat(r);return this.pushStack(s,e,o.selector)}}),Y.extend({clone:function(e,t,n){var r,i,s,o;Y.support.html5Clone||Y.isXMLDoc(e)||!Jt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(tn.innerHTML=e.outerHTML,tn.removeChild(o=tn.firstChild));if((!Y.support.noCloneEvent||!Y.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!Y.isXMLDoc(e)){p(e,o),r=d(e),i=d(o);for(s=0;r[s];++s)i[s]&&p(r[s],i[s])}if(t){h(e,o);if(n){r=d(e),i=d(o);for(s=0;r[s];++s)h(r[s],i[s])}}return r=i=null,o},clean:function(e,t,n,r){var i,s,o,u,a,f,c,h,p,d,m,g,y=t===R&&en,b=[];if(!t||typeof t.createDocumentFragment=="undefined")t=R;for(i=0;(o=e[i])!=null;i++){typeof o=="number"&&(o+="");if(!o)continue;if(typeof o=="string")if(!Xt.test(o))o=t.createTextNode(o);else{y=y||l(t),c=t.createElement("div"),y.appendChild(c),o=o.replace(Ut,"<$1></$2>"),u=(zt.exec(o)||["",""])[1].toLowerCase(),a=Zt[u]||Zt._default,f=a[0],c.innerHTML=a[1]+o+a[2];while(f--)c=c.lastChild;if(!Y.support.tbody){h=Wt.test(o),p=u==="table"&&!h?c.firstChild&&c.firstChild.childNodes:a[1]==="<table>"&&!h?c.childNodes:[];for(s=p.length-1;s>=0;--s)Y.nodeName(p[s],"tbody")&&!p[s].childNodes.length&&p[s].parentNode.removeChild(p[s])}!Y.support.leadingWhitespace&&Rt.test(o)&&c.insertBefore(t.createTextNode(Rt.exec(o)[0]),c.firstChild),o=c.childNodes,c.parentNode.removeChild(c)}o.nodeType?b.push(o):Y.merge(b,o)}c&&(o=c=y=null);if(!Y.support.appendChecked)for(i=0;(o=b[i])!=null;i++)Y.nodeName(o,"input")?v(o):typeof o.getElementsByTagName!="undefined"&&Y.grep(o.getElementsByTagName("input"),v);if(n){m=function(e){if(!e.type||Gt.test(e.type))return r?r.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e)};for(i=0;(o=b[i])!=null;i++)if(!Y.nodeName(o,"script")||!m(o))n.appendChild(o),typeof o.getElementsByTagName!="undefined"&&(g=Y.grep(Y.merge([],o.getElementsByTagName("script")),m),b.splice.apply(b,[i+1,0].concat(g)),i+=g.length)}return b},cleanData:function(e,t){var n,r,i,s,o=0,u=Y.expando,a=Y.cache,f=Y.support.deleteExpando,l=Y.event.special;for(;(i=e[o])!=null;o++)if(t||Y.acceptData(i)){r=i[u],n=r&&a[r];if(n){if(n.events)for(s in n.events)l[s]?Y.event.remove(i,s):Y.removeEvent(i,s,n.handle);a[r]&&(delete a[r],f?delete i[u]:i.removeAttribute?i.removeAttribute(u):i[u]=null,Y.deletedIds.push(r))}}}}),function(){var e,t;Y.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=Y.uaMatch(z.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),Y.browser=t,Y.sub=function(){function e(t,n){return new e.fn.init(t,n)}Y.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function n(n,r){return r&&r instanceof Y&&!(r instanceof e)&&(r=e(r)),Y.fn.init.call(this,n,r,t)},e.fn.init.prototype=e.fn;var t=e(R);return e}}();var nn,rn,sn,on=/alpha\([^)]*\)/i,un=/opacity=([^)]*)/,an=/^(top|right|bottom|left)$/,fn=/^(none|table(?!-c[ea]).+)/,ln=/^margin/,cn=new RegExp("^("+Z+")(.*)$","i"),hn=new RegExp("^("+Z+")(?!px)[a-z%]+$","i"),pn=new RegExp("^([-+])=("+Z+")","i"),dn={},vn={position:"absolute",visibility:"hidden",display:"block"},mn={letterSpacing:0,fontWeight:400},gn=["Top","Right","Bottom","Left"],yn=["Webkit","O","Moz","ms"],bn=Y.fn.toggle;Y.fn.extend({css:function(e,n){return Y.access(this,function(e,n,r){return r!==t?Y.style(e,n,r):Y.css(e,n)},e,n,arguments.length>1)},show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(e,t){var n=typeof e=="boolean";return Y.isFunction(e)&&Y.isFunction(t)?bn.apply(this,arguments):this.each(function(){(n?e:g(this))?Y(this).show():Y(this).hide()})}}),Y.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=nn(e,"opacity");return n===""?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":Y.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var s,o,u,a=Y.camelCase(n),f=e.style;n=Y.cssProps[a]||(Y.cssProps[a]=m(f,a)),u=Y.cssHooks[n]||Y.cssHooks[a];if(r===t)return u&&"get"in u&&(s=u.get(e,!1,i))!==t?s:f[n];o=typeof r,o==="string"&&(s=pn.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(Y.css(e,n)),o="number");if(r==null||o==="number"&&isNaN(r))return;o==="number"&&!Y.cssNumber[a]&&(r+="px");if(!u||!("set"in u)||(r=u.set(e,r,i))!==t)try{f[n]=r}catch(l){}},css:function(e,n,r,i){var s,o,u,a=Y.camelCase(n);return n=Y.cssProps[a]||(Y.cssProps[a]=m(e.style,a)),u=Y.cssHooks[n]||Y.cssHooks[a],u&&"get"in u&&(s=u.get(e,!0,i)),s===t&&(s=nn(e,n)),s==="normal"&&n in mn&&(s=mn[n]),r||i!==t?(o=parseFloat(s),r||Y.isNumeric(o)?o||0:s):s},swap:function(e,t,n){var r,i,s={};for(i in t)s[i]=e.style[i],e.style[i]=t[i];r=n.call(e);for(i in t)e.style[i]=s[i];return r}}),e.getComputedStyle?nn=function(t,n){var r,i,s,o,u=e.getComputedStyle(t,null),a=t.style;return u&&(r=u[n],r===""&&!Y.contains(t.ownerDocument,t)&&(r=Y.style(t,n)),hn.test(r)&&ln.test(n)&&(i=a.width,s=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=u.width,a.width=i,a.minWidth=s,a.maxWidth=o)),r}:R.documentElement.currentStyle&&(nn=function(e,t){var n,r,i=e.currentStyle&&e.currentStyle[t],s=e.style;return i==null&&s&&s[t]&&(i=s[t]),hn.test(i)&&!an.test(t)&&(n=s.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),s.left=t==="fontSize"?"1em":i,i=s.pixelLeft+"px",s.left=n,r&&(e.runtimeStyle.left=r)),i===""?"auto":i}),Y.each(["height","width"],function(e,t){Y.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&&fn.test(nn(e,"display"))?Y.swap(e,vn,function(){return E(e,t,r)}):E(e,t,r)},set:function(e,n,r){return b(e,n,r?w(e,t,r,Y.support.boxSizing&&Y.css(e,"boxSizing")==="border-box"):0)}}}),Y.support.opacity||(Y.cssHooks.opacity={get:function(e,t){return un.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=Y.isNumeric(t)?"alpha(opacity="+t*100+")":"",s=r&&r.filter||n.filter||"";n.zoom=1;if(t>=1&&Y.trim(s.replace(on,""))===""&&n.removeAttribute){n.removeAttribute("filter");if(r&&!r.filter)return}n.filter=on.test(s)?s.replace(on,i):s+" "+i}}),Y(function(){Y.support.reliableMarginRight||(Y.cssHooks.marginRight={get:function(e,t){return Y.swap(e,{display:"inline-block"},function(){if(t)return nn(e,"marginRight")})}}),!Y.support.pixelPosition&&Y.fn.position&&Y.each(["top","left"],function(e,t){Y.cssHooks[t]={get:function(e,n){if(n){var r=nn(e,t);return hn.test(r)?Y(e).position()[t]+"px":r}}}})}),Y.expr&&Y.expr.filters&&(Y.expr.filters.hidden=function(e){return e.offsetWidth===0&&e.offsetHeight===0||!Y.support.reliableHiddenOffsets&&(e.style&&e.style.display||nn(e,"display"))==="none"},Y.expr.filters.visible=function(e){return!Y.expr.filters.hidden(e)}),Y.each({margin:"",padding:"",border:"Width"},function(e,t){Y.cssHooks[e+t]={expand:function(n){var r,i=typeof n=="string"?n.split(" "):[n],s={};for(r=0;r<4;r++)s[e+gn[r]+t]=i[r]||i[r-2]||i[0];return s}},ln.test(e)||(Y.cssHooks[e+t].set=b)});var wn=/%20/g,En=/\[\]$/,Sn=/\r?\n/g,xn=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Tn=/^(?:select|textarea)/i;Y.fn.extend({serialize:function(){return Y.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?Y.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Tn.test(this.nodeName)||xn.test(this.type))}).map(function(e,t){var n=Y(this).val();return n==null?null:Y.isArray(n)?Y.map(n,function(e,n){return{name:t.name,value:e.replace(Sn,"\r\n")}}):{name:t.name,value:n.replace(Sn,"\r\n")}}).get()}}),Y.param=function(e,n){var r,i=[],s=function(e,t){t=Y.isFunction(t)?t():t==null?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};n===t&&(n=Y.ajaxSettings&&Y.ajaxSettings.traditional);if(Y.isArray(e)||e.jquery&&!Y.isPlainObject(e))Y.each(e,function(){s(this.name,this.value)});else for(r in e)x(r,e[r],n,s);return i.join("&").replace(wn,"+")};var Nn,Cn,kn=/#.*$/,Ln=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,An=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,On=/^(?:GET|HEAD)$/,Mn=/^\/\//,_n=/\?/,Dn=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Pn=/([?&])_=[^&]*/,Hn=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Bn=Y.fn.load,jn={},Fn={},In=["*/"]+["*"];try{Nn=U.href}catch(qn){Nn=R.createElement("a"),Nn.href="",Nn=Nn.href}Cn=Hn.exec(Nn.toLowerCase())||[],Y.fn.load=function(e,n,r){if(typeof e!="string"&&Bn)return Bn.apply(this,arguments);if(!this.length)return this;var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=e.slice(a,e.length),e=e.slice(0,a)),Y.isFunction(n)?(r=n,n=t):n&&typeof n=="object"&&(s="POST"),Y.ajax({url:e,type:s,dataType:"html",data:n,complete:function(e,t){r&&u.each(r,o||[e.responseText,t,e])}}).done(function(e){o=arguments,u.html(i?Y("<div>").append(e.replace(Dn,"")).find(i):e)}),this},Y.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){Y.fn[t]=function(e){return this.on(t,e)}}),Y.each(["get","post"],function(e,n){Y[n]=function(e,r,i,s){return Y.isFunction(r)&&(s=s||i,i=r,r=t),Y.ajax({type:n,url:e,data:r,success:i,dataType:s})}}),Y.extend({getScript:function(e,n){return Y.get(e,t,n,"script")},getJSON:function(e,t,n){return Y.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?C(e,Y.ajaxSettings):(t=e,e=Y.ajaxSettings),C(e,t),e},ajaxSettings:{url:Nn,isLocal:An.test(Cn[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":In},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":Y.parseJSON,"text xml":Y.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:T(jn),ajaxTransport:T(Fn),ajax:function(e,n){function r(e,n,r,o){var f,c,y,b,E,x=n;if(w===2)return;w=2,a&&clearTimeout(a),u=t,s=o||"",S.readyState=e>0?4:0,r&&(b=k(h,S,r));if(e>=200&&e<300||e===304)h.ifModified&&(E=S.getResponseHeader("Last-Modified"),E&&(Y.lastModified[i]=E),E=S.getResponseHeader("Etag"),E&&(Y.etag[i]=E)),e===304?(x="notmodified",f=!0):(f=L(h,b),x=f.state,c=f.data,y=f.error,f=!y);else{y=x;if(!x||e)x="error",e<0&&(e=0)}S.status=e,S.statusText=""+(n||x),f?v.resolveWith(p,[c,x,S]):v.rejectWith(p,[S,x,y]),S.statusCode(g),g=t,l&&d.trigger("ajax"+(f?"Success":"Error"),[S,h,f?c:y]),m.fireWith(p,[S,x]),l&&(d.trigger("ajaxComplete",[S,h]),--Y.active||Y.event.trigger("ajaxStop"))}typeof e=="object"&&(n=e,e=t),n=n||{};var i,s,o,u,a,f,l,c,h=Y.ajaxSetup({},n),p=h.context||h,d=p!==h&&(p.nodeType||p instanceof Y)?Y(p):Y.event,v=Y.Deferred(),m=Y.Callbacks("once memory"),g=h.statusCode||{},y={},b={},w=0,E="canceled",S={readyState:0,setRequestHeader:function(e,t){if(!w){var n=e.toLowerCase();e=b[n]=b[n]||e,y[e]=t}return this},getAllResponseHeaders:function(){return w===2?s:null},getResponseHeader:function(e){var n;if(w===2){if(!o){o={};while(n=Ln.exec(s))o[n[1].toLowerCase()]=n[2]}n=o[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return w||(h.mimeType=e),this},abort:function(e){return e=e||E,u&&u.abort(e),r(0,e),this}};v.promise(S),S.success=S.done,S.error=S.fail,S.complete=m.add,S.statusCode=function(e){if(e){var t;if(w<2)for(t in e)g[t]=[g[t],e[t]];else t=e[S.status],S.always(t)}return this},h.url=((e||h.url)+"").replace(kn,"").replace(Mn,Cn[1]+"//"),h.dataTypes=Y.trim(h.dataType||"*").toLowerCase().split(tt),h.crossDomain==null&&(f=Hn.exec(h.url.toLowerCase()),h.crossDomain=!(!f||f[1]==Cn[1]&&f[2]==Cn[2]&&(f[3]||(f[1]==="http:"?80:443))==(Cn[3]||(Cn[1]==="http:"?80:443)))),h.data&&h.processData&&typeof h.data!="string"&&(h.data=Y.param(h.data,h.traditional)),N(jn,h,n,S);if(w===2)return S;l=h.global,h.type=h.type.toUpperCase(),h.hasContent=!On.test(h.type),l&&Y.active++===0&&Y.event.trigger("ajaxStart");if(!h.hasContent){h.data&&(h.url+=(_n.test(h.url)?"&":"?")+h.data,delete h.data),i=h.url;if(h.cache===!1){var x=Y.now(),T=h.url.replace(Pn,"$1_="+x);h.url=T+(T===h.url?(_n.test(h.url)?"&":"?")+"_="+x:"")}}(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&S.setRequestHeader("Content-Type",h.contentType),h.ifModified&&(i=i||h.url,Y.lastModified[i]&&S.setRequestHeader("If-Modified-Since",Y.lastModified[i]),Y.etag[i]&&S.setRequestHeader("If-None-Match",Y.etag[i])),S.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+(h.dataTypes[0]!=="*"?", "+In+"; q=0.01":""):h.accepts["*"]);for(c in h.headers)S.setRequestHeader(c,h.headers[c]);if(!h.beforeSend||h.beforeSend.call(p,S,h)!==!1&&w!==2){E="abort";for(c in{success:1,error:1,complete:1})S[c](h[c]);u=N(Fn,h,n,S);if(!u)r(-1,"No Transport");else{S.readyState=1,l&&d.trigger("ajaxSend",[S,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){S.abort("timeout")},h.timeout));try{w=1,u.send(y,r)}catch(C){if(!(w<2))throw C;r(-1,C)}}return S}return S.abort()},active:0,lastModified:{},etag:{}});var Rn=[],Un=/\?/,zn=/(=)\?(?=&|$)|\?\?/,Wn=Y.now();Y.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Rn.pop()||Y.expando+"_"+Wn++;return this[e]=!0,e}}),Y.ajaxPrefilter("json jsonp",function(n,r,i){var s,o,u,a=n.data,f=n.url,l=n.jsonp!==!1,c=l&&zn.test(f),h=l&&!c&&typeof a=="string"&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&zn.test(a);if(n.dataTypes[0]==="jsonp"||c||h)return s=n.jsonpCallback=Y.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,o=e[s],c?n.url=f.replace(zn,"$1"+s):h?n.data=a.replace(zn,"$1"+s):l&&(n.url+=(Un.test(f)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return u||Y.error(s+" was not called"),u[0]},n.dataTypes[0]="json",e[s]=function(){u=arguments},i.always(function(){e[s]=o,n[s]&&(n.jsonpCallback=r.jsonpCallback,Rn.push(s)),u&&Y.isFunction(o)&&o(u[0]),u=o=t}),"script"}),Y.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return Y.globalEval(e),e}}}),Y.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),Y.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=R.head||R.getElementsByTagName("head")[0]||R.documentElement;return{send:function(i,s){n=R.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,i){if(i||!n.readyState||/loaded|complete/.test(n.readyState))n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=t,i||s(200,"success")},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Xn,Vn=e.ActiveXObject?function(){for(var e in Xn)Xn[e](0,1)}:!1,$n=0;Y.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&A()||O()}:A,function(e){Y.extend(Y.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(Y.ajaxSettings.xhr()),Y.support.ajax&&Y.ajaxTransport(function(n){if(!n.crossDomain||Y.support.cors){var r;return{send:function(i,s){var o,u,a=n.xhr();n.username?a.open(n.type,n.url,n.async,n.username,n.password):a.open(n.type,n.url,n.async);if(n.xhrFields)for(u in n.xhrFields)a[u]=n.xhrFields[u];n.mimeType&&a.overrideMimeType&&a.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(u in i)a.setRequestHeader(u,i[u])}catch(f){}a.send(n.hasContent&&n.data||null),r=function(e,i){var u,f,l,c,h;try{if(r&&(i||a.readyState===4)){r=t,o&&(a.onreadystatechange=Y.noop,Vn&&delete Xn[o]);if(i)a.readyState!==4&&a.abort();else{u=a.status,l=a.getAllResponseHeaders(),c={},h=a.responseXML,h&&h.documentElement&&(c.xml=h);try{c.text=a.responseText}catch(e){}try{f=a.statusText}catch(p){f=""}!u&&n.isLocal&&!n.crossDomain?u=c.text?200:404:u===1223&&(u=204)}}}catch(d){i||s(-1,d)}c&&s(u,f,c,l)},n.async?a.readyState===4?setTimeout(r,0):(o=++$n,Vn&&(Xn||(Xn={},Y(e).unload(Vn)),Xn[o]=r),a.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var Jn,Kn,Qn=/^(?:toggle|show|hide)$/,Gn=new RegExp("^(?:([-+])=|)("+Z+")([a-z%]*)$","i"),Yn=/queueHooks$/,Zn=[H],er={"*":[function(e,t){var n,r,i,s=this.createTween(e,t),o=Gn.exec(t),u=s.cur(),a=+u||0,f=1;if(o){n=+o[2],r=o[3]||(Y.cssNumber[e]?"":"px");if(r!=="px"&&a){a=Y.css(s.elem,e,!0)||n||1;do i=f=f||".5",a/=f,Y.style(s.elem,e,a+r),f=s.cur()/u;while(f!==1&&f!==i)}s.unit=r,s.start=a,s.end=o[1]?a+(o[1]+1)*n:n}return s}]};Y.Animation=Y.extend(D,{tweener:function(e,t){Y.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],er[n]=er[n]||[],er[n].unshift(t)},prefilter:function(e,t){t?Zn.unshift(e):Zn.push(e)}}),Y.Tween=B,B.prototype={constructor:B,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(Y.cssNumber[n]?"":"px")},cur:function(){var e=B.propHooks[this.prop];return e&&e.get?e.get(this):B.propHooks._default.get(this)},run:function(e){var t,n=B.propHooks[this.prop];return this.options.duration?this.pos=t=Y.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=Y.css(e.elem,e.prop,!1,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){Y.fx.step[e.prop]?Y.fx.step[e.prop](e):e.elem.style&&(e.elem.style[Y.cssProps[e.prop]]!=null||Y.cssHooks[e.prop])?Y.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Y.each(["toggle","show","hide"],function(e,t){var n=Y.fn[t];Y.fn[t]=function(r,i,s){return r==null||typeof r=="boolean"||!e&&Y.isFunction(r)&&Y.isFunction(i)?n.apply(this,arguments):this.animate(j(t,!0),r,i,s)}}),Y.fn.extend({fadeTo:function(e,t,n,r){return this.filter(g).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=Y.isEmptyObject(e),s=Y.speed(t,n,r),o=function(){var t=D(this,Y.extend({},e),s);i&&t.stop(!0)};return i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return typeof e!="string"&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=e!=null&&e+"queueHooks",s=Y.timers,o=Y._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&Yn.test(n)&&i(o[n]);for(n=s.length;n--;)s[n].elem===this&&(e==null||s[n].queue===e)&&(s[n].anim.stop(r),t=!1,s.splice(n,1));(t||!r)&&Y.dequeue(this,e)})}}),Y.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Y.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Y.speed=function(e,t,n){var r=e&&typeof e=="object"?Y.extend({},e):{complete:n||!n&&t||Y.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Y.isFunction(t)&&t};r.duration=Y.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in Y.fx.speeds?Y.fx.speeds[r.duration]:Y.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){Y.isFunction(r.old)&&r.old.call(this),r.queue&&Y.dequeue(this,r.queue)},r},Y.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Y.timers=[],Y.fx=B.prototype.init,Y.fx.tick=function(){var e,t=Y.timers,n=0;for(;n<t.length;n++)e=t[n],!e()&&t[n]===e&&t.splice(n--,1);t.length||Y.fx.stop()},Y.fx.timer=function(e){e()&&Y.timers.push(e)&&!Kn&&(Kn=setInterval(Y.fx.tick,Y.fx.interval))},Y.fx.interval=13,Y.fx.stop=function(){clearInterval(Kn),Kn=null},Y.fx.speeds={slow:600,fast:200,_default:400},Y.fx.step={},Y.expr&&Y.expr.filters&&(Y.expr.filters.animated=function(e){return Y.grep(Y.timers,function(t){return e===t.elem}).length});var tr=/^(?:body|html)$/i;Y.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){Y.offset.setOffset(this,e,t)});var n,r,i,s,o,u,a,f,l,c,h=this[0],p=h&&h.ownerDocument;if(!p)return;return(i=p.body)===h?Y.offset.bodyOffset(h):(r=p.documentElement,Y.contains(r,h)?(n=h.getBoundingClientRect(),s=F(p),o=r.clientTop||i.clientTop||0,u=r.clientLeft||i.clientLeft||0,a=s.pageYOffset||r.scrollTop,f=s.pageXOffset||r.scrollLeft,l=n.top+a-o,c=n.left+f-u,{top:l,left:c}):{top:0,left:0})},Y.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return Y.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(Y.css(e,"marginTop"))||0,n+=parseFloat(Y.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=Y.css(e,"position");r==="static"&&(e.style.position="relative");var i=Y(e),s=i.offset(),o=Y.css(e,"top"),u=Y.css(e,"left"),a=(r==="absolute"||r==="fixed")&&Y.inArray("auto",[o,u])>-1,f={},l={},c,h;a?(l=i.position(),c=l.top,h=l.left):(c=parseFloat(o)||0,h=parseFloat(u)||0),Y.isFunction(t)&&(t=t.call(e,n,s)),t.top!=null&&(f.top=t.top-s.top+c),t.left!=null&&(f.left=t.left-s.left+h),"using"in t?t.using.call(e,f):i.css(f)}},Y.fn.extend({position:function(){if(!this[0])return;var e=this[0],t=this.offsetParent(),n=this.offset(),r=tr.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(Y.css(e,"marginTop"))||0,n.left-=parseFloat(Y.css(e,"marginLeft"))||0,r.top+=parseFloat(Y.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(Y.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||R.body;while(e&&!tr.test(e.nodeName)&&Y.css(e,"position")==="static")e=e.offsetParent;return e||R.body})}}),Y.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);Y.fn[e]=function(i){return Y.access(this,function(e,i,s){var o=F(e);if(s===t)return o?n in o?o[n]:o.document.documentElement[i]:e[i];o?o.scrollTo(r?Y(o).scrollLeft():s,r?s:Y(o).scrollTop()):e[i]=s},e,i,arguments.length,null)}}),Y.each({Height:"height",Width:"width"},function(e,n){Y.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){Y.fn[i]=function(i,s){var o=arguments.length&&(r||typeof i!="boolean"),u=r||(i===!0||s===!0?"margin":"border");return Y.access(this,function(n,r,i){var s;return Y.isWindow(n)?n.document.documentElement["client"+e]:n.nodeType===9?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):i===t?Y.css(n,r,i,u):Y.style(n,r,i,u)},n,o?i:t,o,null)}})}),e.jQuery=e.$=Y,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return Y})})(window),function(e,t){function n(t,n){var i=t.nodeName.toLowerCase();if("area"===i){var s=t.parentNode,o=s.name,u;return!t.href||!o||s.nodeName.toLowerCase()!=="map"?!1:(u=e("img[usemap=#"+o+"]")[0],!!u&&r(u))}return(/input|select|textarea|button|object/.test(i)?!t.disabled:"a"==i?t.href||n:n)&&r(t)}function r(t){return!e(t).parents().andSelf().filter(function(){return e.curCSS(this,"visibility")==="hidden"||e.expr.filters.hidden(this)}).length}e.ui=e.ui||{};if(e.ui.version)return;e.extend(e.ui,{version:"1.8.23",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),e.fn.extend({propAttr:e.fn.prop||e.fn.attr,_focus:e.fn.focus,focus:function(t,n){return typeof t=="number"?this.each(function(){var r=this;setTimeout(function(){e(r).focus(),n&&n.call(r)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return e.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?t=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.curCSS(this,"position",1))&&/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0):t=this.parents().filter(function(){return/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length){var r=e(this[0]),i,s;while(r.length&&r[0]!==document){i=r.css("position");if(i==="absolute"||i==="relative"||i==="fixed"){s=parseInt(r.css("zIndex"),10);if(!isNaN(s)&&s!==0)return s}r=r.parent()}}return 0},disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,r){function i(t,n,r,i){return e.each(s,function(){n-=parseFloat(e.curCSS(t,"padding"+this,!0))||0,r&&(n-=parseFloat(e.curCSS(t,"border"+this+"Width",!0))||0),i&&(n-=parseFloat(e.curCSS(t,"margin"+this,!0))||0)}),n}var s=r==="Width"?["Left","Right"]:["Top","Bottom"],o=r.toLowerCase(),u={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(n){return n===t?u["inner"+r].call(this):this.each(function(){e(this).css(o,i(this,n)+"px")})},e.fn["outer"+r]=function(t,n){return typeof t!="number"?u["outer"+r].call(this,t):this.each(function(){e(this).css(o,i(this,t,!0,n)+"px")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var r=e.attr(t,"tabindex"),i=isNaN(r);return(i||r>=0)&&n(t,!i)}}),e(function(){var t=document.body,n=t.appendChild(n=document.createElement("div"));n.offsetHeight,e.extend(n.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=n.offsetHeight===100,e.support.selectstart="onselectstart"in n,t.removeChild(n).style.display="none"}),e.curCSS||(e.curCSS=e.css),e.extend(e.ui,{plugin:{add:function(t,n,r){var i=e.ui[t].prototype;for(var s in r)i.plugins[s]=i.plugins[s]||[],i.plugins[s].push([n,r[s]])},call:function(e,t,n){var r=e.plugins[t];if(!r||!e.element[0].parentNode)return;for(var i=0;i<r.length;i++)e.options[r[i][0]]&&r[i][1].apply(e.element,n)}},contains:function(e,t){return document.compareDocumentPosition?e.compareDocumentPosition(t)&16:e!==t&&e.contains(t)},hasScroll:function(t,n){if(e(t).css("overflow")==="hidden")return!1;var r=n&&n==="left"?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)},isOverAxis:function(e,t,n){return e>t&&e<t+n},isOver:function(t,n,r,i,s,o){return e.ui.isOverAxis(t,r,s)&&e.ui.isOverAxis(n,i,o)}})}(jQuery),function(e,t){if(e.cleanData){var n=e.cleanData;e.cleanData=function(t){for(var r=0,i;(i=t[r])!=null;r++)try{e(i).triggerHandler("remove")}catch(s){}n(t)}}else{var r=e.fn.remove;e.fn.remove=function(t,n){return this.each(function(){return n||(!t||e.filter(t,[this]).length)&&e("*",this).add([this]).each(function(){try{e(this).triggerHandler("remove")}catch(t){}}),r.call(e(this),t,n)})}}e.widget=function(t,n,r){var i=t.split(".")[0],s;t=t.split(".")[1],s=i+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][s]=function(n){return!!e.data(n,t)},e[i]=e[i]||{},e[i][t]=function(e,t){arguments.length&&this._createWidget(e,t)};var o=new n;o.options=e.extend(!0,{},o.options),e[i][t].prototype=e.extend(!0,o,{namespace:i,widgetName:t,widgetEventPrefix:e[i][t].prototype.widgetEventPrefix||t,widgetBaseClass:s},r),e.widget.bridge(t,e[i][t])},e.widget.bridge=function(n,r){e.fn[n]=function(i){var s=typeof i=="string",o=Array.prototype.slice.call(arguments,1),u=this;return i=!s&&o.length?e.extend.apply(null,[!0,i].concat(o)):i,s&&i.charAt(0)==="_"?u:(s?this.each(function(){var r=e.data(this,n),s=r&&e.isFunction(r[i])?r[i].apply(r,o):r;if(s!==r&&s!==t)return u=s,!1}):this.each(function(){var t=e.data(this,n);t?t.option(i||{})._init():e.data(this,n,new r(i,this))}),u)}},e.Widget=function(e,t){arguments.length&&this._createWidget(e,t)},e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(t,n){e.data(n,this.widgetName,this),this.element=e(n),this.options=e.extend(!0,{},this.options,this._getCreateOptions(),t);var r=this;this.element.bind("remove."+this.widgetName,function(){r.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function(){return this.element},option:function(n,r){var i=n;if(arguments.length===0)return e.extend({},this.options);if(typeof n=="string"){if(r===t)return this.options[n];i={},i[n]=r}return this._setOptions(i),this},_setOptions:function(t){var n=this;return e.each(t,function(e,t){n._setOption(e,t)}),this},_setOption:function(e,t){return this.options[e]=t,e==="disabled"&&this.widget()[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",t),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(t,n,r){var i,s,o=this.options[t];r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent;if(s)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.call(this.element[0],n,r)===!1||n.isDefaultPrevented())}}}(jQuery),function(e,t){e.ui=e.ui||{};var n=/left|center|right/,r=/top|center|bottom/,i="center",s={},o=e.fn.position,u=e.fn.offset;e.fn.position=function(t){if(!t||!t.of)return o.apply(this,arguments);t=e.extend({},t);var u=e(t.of),l=u[0],h=(t.collision||"flip").split(" "),p=t.offset?t.offset.split(" "):[0,0],v,m,y;return l.nodeType===9?(v=u.width(),m=u.height(),y={top:0,left:0}):l.setTimeout?(v=u.width(),m=u.height(),y={top:u.scrollTop(),left:u.scrollLeft()}):l.preventDefault?(t.at="left top",v=m=0,y={top:t.of.pageY,left:t.of.pageX}):(v=u.outerWidth(),m=u.outerHeight(),y=u.offset()),e.each(["my","at"],function(){var e=(t[this]||"").split(" ");e.length===1&&(e=n.test(e[0])?e.concat([i]):r.test(e[0])?[i].concat(e):[i,i]),e[0]=n.test(e[0])?e[0]:i,e[1]=r.test(e[1])?e[1]:i,t[this]=e}),h.length===1&&(h[1]=h[0]),p[0]=parseInt(p[0],10)||0,p.length===1&&(p[1]=p[0]),p[1]=parseInt(p[1],10)||0,t.at[0]==="right"?y.left+=v:t.at[0]===i&&(y.left+=v/2),t.at[1]==="bottom"?y.top+=m:t.at[1]===i&&(y.top+=m/2),y.left+=p[0],y.top+=p[1],this.each(function(){var n=e(this),r=n.outerWidth(),o=n.outerHeight(),u=parseInt(e.curCSS(this,"marginLeft",!0))||0,l=parseInt(e.curCSS(this,"marginTop",!0))||0,c=r+u+(parseInt(e.curCSS(this,"marginRight",!0))||0),d=o+l+(parseInt(e.curCSS(this,"marginBottom",!0))||0),g=e.extend({},y),w;t.my[0]==="right"?g.left-=r:t.my[0]===i&&(g.left-=r/2),t.my[1]==="bottom"?g.top-=o:t.my[1]===i&&(g.top-=o/2),s.fractions||(g.left=Math.round(g.left),g.top=Math.round(g.top)),w={left:g.left-u,top:g.top-l},e.each(["left","top"],function(n,i){e.ui.position[h[n]]&&e.ui.position[h[n]][i](g,{targetWidth:v,targetHeight:m,elemWidth:r,elemHeight:o,collisionPosition:w,collisionWidth:c,collisionHeight:d,offset:p,my:t.my,at:t.at})}),e.fn.bgiframe&&n.bgiframe(),n.offset(e.extend(g,{using:t.using}))})},e.ui.position={fit:{left:function(t,n){var r=e(window),i=n.collisionPosition.left+n.collisionWidth-r.width()-r.scrollLeft();t.left=i>0?t.left-i:Math.max(t.left-n.collisionPosition.left,t.left)},top:function(t,n){var r=e(window),i=n.collisionPosition.top+n.collisionHeight-r.height()-r.scrollTop();t.top=i>0?t.top-i:Math.max(t.top-n.collisionPosition.top,t.top)}},flip:{left:function(t,n){if(n.at[0]===i)return;var r=e(window),s=n.collisionPosition.left+n.collisionWidth-r.width()-r.scrollLeft(),o=n.my[0]==="left"?-n.elemWidth:n.my[0]==="right"?n.elemWidth:0,u=n.at[0]==="left"?n.targetWidth:-n.targetWidth,f=-2*n.offset[0];t.left+=n.collisionPosition.left<0?o+u+f:s>0?o+u+f:0},top:function(t,n){if(n.at[1]===i)return;var r=e(window),s=n.collisionPosition.top+n.collisionHeight-r.height()-r.scrollTop(),o=n.my[1]==="top"?-n.elemHeight:n.my[1]==="bottom"?n.elemHeight:0,u=n.at[1]==="top"?n.targetHeight:-n.targetHeight,f=-2*n.offset[1];t.top+=n.collisionPosition.top<0?o+u+f:s>0?o+u+f:0}}},e.offset.setOffset||(e.offset.setOffset=function(t,n){/static/.test(e.curCSS(t,"position"))&&(t.style.position="relative");var r=e(t),i=r.offset(),s=parseInt(e.curCSS(t,"top",!0),10)||0,o=parseInt(e.curCSS(t,"left",!0),10)||0,u={top:n.top-i.top+s,left:n.left-i.left+o};"using"in n?n.using.call(t,u):r.css(u)},e.fn.offset=function(t){var n=this[0];return!n||!n.ownerDocument?null:t?e.isFunction(t)?this.each(function(n){e(this).offset(t.call(this,n,e(this).offset()))}):this.each(function(){e.offset.setOffset(this,t)}):u.call(this)}),e.curCSS||(e.curCSS=e.css),function(){var t=document.getElementsByTagName("body")[0],n=document.createElement("div"),r,i,o,u,l;r=document.createElement(t?"div":"body"),o={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},t&&e.extend(o,{position:"absolute",left:"-1000px",top:"-1000px"});for(var c in o)r.style[c]=o[c];r.appendChild(n),i=t||document.documentElement,i.insertBefore(r,i.firstChild),n.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",u=e(n).offset(function(e,t){return t}).offset(),r.innerHTML="",i.removeChild(r),l=u.top+u.left+(t?2e3:0),s.fractions=l>21&&l<22}()}(jQuery),function(e,t){var n=0;e.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var t=this,n=this.element[0].ownerDocument,r;this.isMultiLine=this.element.is("textarea"),this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(n){if(t.options.disabled||t.element.propAttr("readOnly"))return;r=!1;var i=e.ui.keyCode;switch(n.keyCode){case i.PAGE_UP:t._move("previousPage",n);break;case i.PAGE_DOWN:t._move("nextPage",n);break;case i.UP:t._keyEvent("previous",n);break;case i.DOWN:t._keyEvent("next",n);break;case i.ENTER:case i.NUMPAD_ENTER:t.menu.active&&(r=!0,n.preventDefault());case i.TAB:if(!t.menu.active)return;t.menu.select(n);break;case i.ESCAPE:t.element.val(t.term),t.close(n);break;default:clearTimeout(t.searching),t.searching=setTimeout(function(){t.term!=t.element.val()&&(t.selectedItem=null,t.search(null,n))},t.options.delay)}}).bind("keypress.autocomplete",function(e){r&&(r=!1,e.preventDefault())}).bind("focus.autocomplete",function(){if(t.options.disabled)return;t.selectedItem=null,t.previous=t.element.val()}).bind("blur.autocomplete",function(e){if(t.options.disabled)return;clearTimeout(t.searching),t.closing=setTimeout(function(){t.close(e),t._change(e)},150)}),this._initSource(),this.menu=e("<ul></ul>").addClass("ui-autocomplete").appendTo(e(this.options.appendTo||"body",n)[0]).mousedown(function(n){var r=t.menu.element[0];e(n.target).closest(".ui-menu-item").length||setTimeout(function(){e(document).one("mousedown",function(n){n.target!==t.element[0]&&n.target!==r&&!e.ui.contains(r,n.target)&&t.close()})},1),setTimeout(function(){clearTimeout(t.closing)},13)}).menu({focus:function(e,n){var r=n.item.data("item.autocomplete");!1!==t._trigger("focus",e,{item:r})&&/^key/.test(e.originalEvent.type)&&t.element.val(r.value)},selected:function(e,r){var i=r.item.data("item.autocomplete"),s=t.previous;t.element[0]!==n.activeElement&&(t.element.focus(),t.previous=s,setTimeout(function(){t.previous=s,t.selectedItem=i},1)),!1!==t._trigger("select",e,{item:i})&&t.element.val(i.value),t.term=t.element.val(),t.close(e),t.selectedItem=i},blur:function(e,n){t.menu.element.is(":visible")&&t.element.val()!==t.term&&t.element.val(t.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),e.fn.bgiframe&&this.menu.element.bgiframe(),t.beforeunloadHandler=function(){t.element.removeAttr("autocomplete")},e(window).bind("beforeunload",t.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),e(window).unbind("beforeunload",this.beforeunloadHandler),e.Widget.prototype.destroy.call(this)},_setOption:function(t,n){e.Widget.prototype._setOption.apply(this,arguments),t==="source"&&this._initSource(),t==="appendTo"&&this.menu.element.appendTo(e(n||"body",this.element[0].ownerDocument)[0]),t==="disabled"&&n&&this.xhr&&this.xhr.abort()},_initSource:function(){var t=this,n,r;e.isArray(this.options.source)?(n=this.options.source,this.source=function(t,r){r(e.ui.autocomplete.filter(n,t.term))}):typeof this.options.source=="string"?(r=this.options.source,this.source=function(n,i){t.xhr&&t.xhr.abort(),t.xhr=e.ajax({url:r,data:n,dataType:"json",success:function(e,t){i(e)},error:function(){i([])}})}):this.source=this.options.source},search:function(e,t){e=e!=null?e:this.element.val(),this.term=this.element.val();if(e.length<this.options.minLength)return this.close(t);clearTimeout(this.closing);if(this._trigger("search",t)===!1)return;return this._search(e)},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:e},this._response())},_response:function(){var e=this,t=++n;return function(r){t===n&&e.__response(r),e.pending--,e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(e){!this.options.disabled&&e&&e.length?(e=this._normalize(e),this._suggest(e),this._trigger("open")):this.close()},close:function(e){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",e))},_change:function(e){this.previous!==this.element.val()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return typeof t=="string"?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var n=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(n,t),this.menu.deactivate(),this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new e.Event("mouseover"))},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var r=this;e.each(n,function(e,n){r._renderItem(t,n)})},_renderItem:function(t,n){return e("<li></li>").data("item.autocomplete",n).append(e("<a></a>").text(n.label)).appendTo(t)},_move:function(e,t){if(!this.menu.element.is(":visible")){this.search(null,t);return}if(this.menu.first()&&/^previous/.test(e)||this.menu.last()&&/^next/.test(e)){this.element.val(this.term),this.menu.deactivate();return}this.menu[e](t)},widget:function(){return this.menu.element},_keyEvent:function(e,t){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(e,t),t.preventDefault()}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(t,n){var r=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return r.test(e.label||e.value||e)})}})}(jQuery),function(e){e.widget("ui.menu",{_create:function(){var t=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(n){if(!e(n.target).closest(".ui-menu-item a").length)return;n.preventDefault(),t.select(n)}),this.refresh()},refresh:function(){var t=this,n=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");n.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(n){t.activate(n,e(this).parent())}).mouseleave(function(){t.deactivate()})},activate:function(e,t){this.deactivate();if(this.hasScroll()){var n=t.offset().top-this.element.offset().top,r=this.element.scrollTop(),i=this.element.height();n<0?this.element.scrollTop(r+n):n>=i&&this.element.scrollTop(r+n-i+t.height())}this.active=t.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",e,{item:t})},deactivate:function(){if(!this.active)return;this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null},next:function(e){this.move("next",".ui-menu-item:first",e)},previous:function(e){this.move("prev",".ui-menu-item:last",e)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(e,t,n){if(!this.active){this.activate(n,this.element.children(t));return}var r=this.active[e+"All"](".ui-menu-item").eq(0);r.length?this.activate(n,r):this.activate(n,this.element.children(t))},nextPage:function(t){if(this.hasScroll()){if(!this.active||this.last()){this.activate(t,this.element.children(".ui-menu-item:first"));return}var n=this.active.offset().top,r=this.element.height(),i=this.element.children(".ui-menu-item").filter(function(){var t=e(this).offset().top-n-r+e(this).height();return t<10&&t>-10});i.length||(i=this.element.children(".ui-menu-item:last")),this.activate(t,i)}else this.activate(t,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(t){if(this.hasScroll()){if(!this.active||this.first()){this.activate(t,this.element.children(".ui-menu-item:last"));return}var n=this.active.offset().top,r=this.element.height(),i=this.element.children(".ui-menu-item").filter(function(){var t=e(this).offset().top-n+r-e(this).height();return t<10&&t>-10});i.length||(i=this.element.children(".ui-menu-item:first")),this.activate(t,i)}else this.activate(t,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[e.fn.prop?"prop":"attr"]("scrollHeight")},select:function(e){this._trigger("selected",e,{item:this.active})}})}(jQuery),define("jqueryUi",function(){}),function(){function r(e,t){try{for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}catch(r){e.prototype=t}}function s(e){var t=-1,n=e.length,r=[];while(++t<n)r.push(e[t]);return r}function o(e){return Array.prototype.slice.call(e)}function f(){}function h(e){return e}function p(){return this}function v(){return!0}function m(e){return typeof e=="function"?e:function(){return e}}function g(e,t,n){return function(){var r=n.apply(t,arguments);return arguments.length?e:r}}function y(e){return e!=null&&!isNaN(e)}function b(e){return e.length}function E(e){return e==null}function S(e){return e.replace(/(^\s+)|(\s+$)/g,"").replace(/\s+/g," ")}function x(e){var t=1;while(e*t%1)t*=10;return t}function C(){}function k(e){function r(){var n=t,r=-1,i=n.length,s;while(++r<i)(s=n[r].on)&&s.apply(this,arguments);return e}var t=[],n=new f;return r.on=function(r,i){var s=n.get(r),o;return arguments.length<2?s&&s.on:(s&&(s.on=null,t=t.slice(0,o=t.indexOf(s)).concat(t.slice(o+1)),n.remove(r)),i&&t.push(n.set(r,{on:i})),e)},r}function O(e,t){return t-(e?1+Math.floor(Math.log(e+Math.pow(10,1+Math.floor(Math.log(e)/Math.LN10)-t))/Math.LN10):1)}function M(e){return e+""}function _(e){var t=e.lastIndexOf("."),n=t>=0?e.substring(t):(t=e.length,""),r=[];while(t>0)r.push(e.substring(t-=3,t+3));return r.reverse().join(",")+n}function P(e,t){return{scale:Math.pow(10,(8-t)*3),symbol:e}}function q(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function R(e){return function(t){return 1-e(1-t)}}function U(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function z(e){return e}function W(e){return function(t){return Math.pow(t,e)}}function X(e){return 1-Math.cos(e*Math.PI/2)}function V(e){return Math.pow(2,10*(e-1))}function $(e){return 1-Math.sqrt(1-e*e)}function J(e,t){var n;return arguments.length<2&&(t=.45),arguments.length<1?(e=1,n=t/4):n=t/(2*Math.PI)*Math.asin(1/e),function(r){return 1+e*Math.pow(2,10*-r)*Math.sin((r-n)*2*Math.PI/t)}}function K(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Q(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function G(){d3.event.stopPropagation(),d3.event.preventDefault()}function Y(){var e=d3.event,t;while(t=e.sourceEvent)e=t;return e}function Z(e){var t=new C,n=0,r=arguments.length;while(++n<r)t[arguments[n]]=k(t);return t.of=function(n,r){return function(i){try{var s=i.sourceEvent=d3.event;i.target=e,d3.event=i,t[i.type].apply(n,r)}finally{d3.event=s}}},t}function tt(e){return e=="transform"?d3.interpolateTransform:d3.interpolate}function nt(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return(n-e)*t}}function rt(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return Math.max(0,Math.min(1,(n-e)*t))}}function it(e,t,n){return new st(e,t,n)}function st(e,t,n){this.r=e,this.g=t,this.b=n}function ot(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function ut(e,t,n){var r=0,i=0,s=0,o,u,a;o=/([a-z]+)\((.*)\)/i.exec(e);if(o){u=o[2].split(",");switch(o[1]){case"hsl":return n(parseFloat(u[0]),parseFloat(u[1])/100,parseFloat(u[2])/100);case"rgb":return t(ft(u[0]),ft(u[1]),ft(u[2]))}}return(a=lt.get(e))?t(a.r,a.g,a.b):(e!=null&&e.charAt(0)==="#"&&(e.length===4?(r=e.charAt(1),r+=r,i=e.charAt(2),i+=i,s=e.charAt(3),s+=s):e.length===7&&(r=e.substring(1,3),i=e.substring(3,5),s=e.substring(5,7)),r=parseInt(r,16),i=parseInt(i,16),s=parseInt(s,16)),t(r,i,s))}function at(e,t,n){var r=Math.min(e/=255,t/=255,n/=255),i=Math.max(e,t,n),s=i-r,o,u,a=(i+r)/2;return s?(u=a<.5?s/(i+r):s/(2-i-r),e==i?o=(t-n)/s+(t<n?6:0):t==i?o=(n-e)/s+2:o=(e-t)/s+4,o*=60):u=o=0,ct(o,u,a)}function ft(e){var t=parseFloat(e);return e.charAt(e.length-1)==="%"?Math.round(t*2.55):t}function ct(e,t,n){return new ht(e,t,n)}function ht(e,t,n){this.h=e,this.s=t,this.l=n}function pt(e,t,n){function s(e){return e>360?e-=360:e<0&&(e+=360),e<60?r+(i-r)*e/60:e<180?i:e<240?r+(i-r)*(240-e)/60:r}function o(e){return Math.round(s(e)*255)}var r,i;return e%=360,e<0&&(e+=360),t=t<0?0:t>1?1:t,n=n<0?0:n>1?1:n,i=n<=.5?n*(1+t):n+t-n*t,r=2*n-i,it(o(e+120),o(e),o(e-120))}function dt(e){return a(e,wt),e}function Et(e){return function(){return vt(e,this)}}function St(e){return function(){return mt(e,this)}}function Tt(e,t){function s(){if(t=this.classList)return t.add(e);var t=this.className,r=t.baseVal!=null,i=r?t.baseVal:t;n.lastIndex=0,n.test(i)||(i=S(i+" "+e),r?t.baseVal=i:this.className=i)}function o(){if(t=this.classList)return t.remove(e);var t=this.className,r=t.baseVal!=null,i=r?t.baseVal:t;i=S(i.replace(n," ")),r?t.baseVal=i:this.className=i}function u(){(t.apply(this,arguments)?s:o).call(this)}var n=new RegExp("(^|\\s+)"+d3.requote(e)+"(\\s+|$)","g");if(arguments.length<2){var r=this.node();if(i=r.classList)return i.contains(e);var i=r.className;return n.lastIndex=0,n.test(i.baseVal!=null?i.baseVal:i)}return this.each(typeof t=="function"?u:t?s:o)}function Nt(e){return{__data__:e}}function Ct(e){return function(){return bt(this,e)}}function kt(e){return arguments.length||(e=d3.ascending),function(t,n){return e(t&&t.__data__,n&&n.__data__)}}function At(e){return a(e,Ot),e}function Mt(e,t,n){a(e,Ht);var r=new f,i=d3.dispatch("start","end"),s=zt;return e.id=t,e.time=n,e.tween=function(t,n){return arguments.length<2?r.get(t):(n==null?r.remove(t):r.set(t,n),e)},e.ease=function(t){return arguments.length?(s=typeof t=="function"?t:d3.ease.apply(d3,arguments),e):s},e.each=function(t,n){return arguments.length<2?Wt.call(e,t):(i.on(t,n),e)},d3.timer(function(o){return e.each(function(u,a,f){function v(e){return d.active>t?g():(d.active=t,r.forEach(function(e,t){(t=t.call(c,u,a))&&l.push(t)}),i.start.call(c,u,a),m(e)||d3.timer(m,0,n),1)}function m(e){if(d.active!==t)return g();var n=(e-h)/p,r=s(n),o=l.length;while(o>0)l[--o].call(c,r);if(n>=1)return g(),jt=t,i.end.call(c,u,a),jt=0,1}function g(){return--d.count||delete c.__transition__,1}var l=[],c=this,h=e[f][a].delay,p=e[f][a].duration,d=c.__transition__||(c.__transition__={active:0,count:0});++d.count,h<=o?v(o):d3.timer(v,h,n)}),1},0,n),e}function Dt(e,t,n){return n!=""&&_t}function Pt(e,t){function r(e,r,i){var s=t.call(this,e,r);return s==null?i!=""&&_t:i!=s&&n(i,s)}function i(e,r,i){return i!=t&&n(i,t)}var n=tt(e);return typeof t=="function"?r:t==null?Dt:(t+="",i)}function Wt(e){var t=jt,n=zt,r=Rt,i=Ut;jt=this.id,zt=this.ease();for(var s=0,o=this.length;s<o;s++)for(var u=this[s],a=0,f=u.length;a<f;a++){var l=u[a];l&&(Rt=this[s][a].delay,Ut=this[s][a].duration,e.call(l=l.node,l.__data__,a,s))}return jt=t,zt=n,Rt=r,Ut=i,this}function Jt(){var e,t=Date.now(),n=Xt;while(n)e=t-n.then,e>=n.delay&&(n.flush=n.callback(e)),n=n.next;var r=Kt()-t;r>24?(isFinite(r)&&(clearTimeout($t),$t=setTimeout(Jt,r)),Vt=0):(Vt=1,Qt(Jt))}function Kt(){var e=null,t=Xt,n=Infinity;while(t)t.flush?t=e?e.next=t.next:Xt=t.next:(n=Math.min(n,t.then+t.delay),t=(e=t).next);return n}function Gt(e){var t=[e.a,e.b],n=[e.c,e.d],r=Zt(t),i=Yt(t,n),s=Zt(en(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*tn,this.translate=[e.e,e.f],this.scale=[r,s],this.skew=s?Math.atan2(i,s)*tn:0}function Yt(e,t){return e[0]*t[0]+e[1]*t[1]}function Zt(e){var t=Math.sqrt(Yt(e,e));return t&&(e[0]/=t,e[1]/=t),t}function en(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function rn(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();if(nn<0&&(window.scrollX||window.scrollY)){n=d3.select(document.body).append("svg").style("position","absolute").style("top",0).style("left",0);var i=n[0][0].getScreenCTM();nn=!i.f&&!i.e,n.remove()}return nn?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}function sn(){}function on(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function un(e){return e.rangeExtent?e.rangeExtent():on(e.range())}function an(e,t){var n=0,r=e.length-1,i=e[n],s=e[r],o;s<i&&(o=n,n=r,r=o,o=i,i=s,s=o);if(o=s-i)t=t(o),e[n]=t.floor(i),e[r]=t.ceil(s);return e}function fn(){return Math}function ln(e,t,n,r){function o(){var o=Math.min(e.length,t.length)>2?gn:mn,a=r?rt:nt;return i=o(e,t,a,n),s=o(t,e,a,d3.interpolate),u}function u(e){return i(e)}var i,s;return u.invert=function(e){return s(e)},u.domain=function(t){return arguments.length?(e=t.map(Number),o()):e},u.range=function(e){return arguments.length?(t=e,o()):t},u.rangeRound=function(e){return u.range(e).interpolate(d3.interpolateRound)},u.clamp=function(e){return arguments.length?(r=e,o()):r},u.interpolate=function(e){return arguments.length?(n=e,o()):n},u.ticks=function(t){return dn(e,t)},u.tickFormat=function(t){return vn(e,t)},u.nice=function(){return an(e,hn),o()},u.copy=function(){return ln(e,t,n,r)},o()}function cn(e,t){return d3.rebind(e,t,"range","rangeRound","interpolate","clamp")}function hn(e){return e=Math.pow(10,Math.round(Math.log(e)/Math.LN10)-1),{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}}function pn(e,t){var n=on(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),s=t/r*i;return s<=.15?i*=10:s<=.35?i*=5:s<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+i*.5,n[2]=i,n}function dn(e,t){return d3.range.apply(d3,pn(e,t))}function vn(e,t){return d3.format(",."+Math.max(0,-Math.floor(Math.log(pn(e,t)[2])/Math.LN10+.01))+"f")}function mn(e,t,n,r){var i=n(e[0],e[1]),s=r(t[0],t[1]);return function(e){return s(i(e))}}function gn(e,t,n,r){var i=[],s=[],o=0,u=Math.min(e.length,t.length)-1;e[u]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());while(++o<=u)i.push(n(e[o-1],e[o])),s.push(r(t[o-1],t[o]));return function(t){var n=d3.bisect(e,t,1,u)-1;return s[n](i[n](t))}}function yn(e,t){function r(n){return e(t(n))}var n=t.pow;return r.invert=function(t){return n(e.invert(t))},r.domain=function(i){return arguments.length?(t=i[0]<0?En:wn,n=t.pow,e.domain(i.map(t)),r):e.domain().map(n)},r.nice=function(){return e.domain(an(e.domain(),fn)),r},r.ticks=function(){var r=on(e.domain()),i=[];if(r.every(isFinite)){var s=Math.floor(r[0]),o=Math.ceil(r[1]),u=n(r[0]),a=n(r[1]);if(t===En){i.push(n(s));for(;s++<o;)for(var f=9;f>0;f--)i.push(n(s)*f)}else{for(;s<o;s++)for(var f=1;f<10;f++)i.push(n(s)*f);i.push(n(s))}for(s=0;i[s]<u;s++);for(o=i.length;i[o-1]>a;o--);i=i.slice(s,o)}return i},r.tickFormat=function(e,i){arguments.length<2&&(i=bn);if(arguments.length<1)return i;var s=e/r.ticks().length,o=t===En?(u=-1e-12,Math.floor):(u=1e-12,Math.ceil),u;return function(e){return e/n(o(t(e)+u))<s?i(e):""}},r.copy=function(){return yn(e.copy(),t)},cn(r,e)}function wn(e){return Math.log(e<0?0:e)/Math.LN10}function En(e){return-Math.log(e>0?0:-e)/Math.LN10}function Sn(e,t){function i(t){return e(n(t))}var n=xn(t),r=xn(1/t);return i.invert=function(t){return r(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain(t.map(n)),i):e.domain().map(r)},i.ticks=function(e){return dn(i.domain(),e)},i.tickFormat=function(e){return vn(i.domain(),e)},i.nice=function(){return i.domain(an(i.domain(),hn))},i.exponent=function(e){if(!arguments.length)return t;var s=i.domain();return n=xn(t=e),r=xn(1/t),i.domain(s)},i.copy=function(){return Sn(e.copy(),t)},cn(i,e)}function xn(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Tn(e,t){function s(t){return r[((n.get(t)||n.set(t,e.push(t)))-1)%r.length]}function o(t,n){return d3.range(e.length).map(function(e){return t+n*e})}var n,r,i;return s.domain=function(r){if(!arguments.length)return e;e=[],n=new f;var i=-1,o=r.length,u;while(++i<o)n.has(u=r[i])||n.set(u,e.push(u));return s[t.t](t.x,t.p)},s.range=function(e){return arguments.length?(r=e,i=0,t={t:"range",x:e},s):r},s.rangePoints=function(n,u){arguments.length<2&&(u=0);var a=n[0],f=n[1],l=(f-a)/(e.length-1+u);return r=o(e.length<2?(a+f)/2:a+l*u/2,l),i=0,t={t:"rangePoints",x:n,p:u},s},s.rangeBands=function(n,u){arguments.length<2&&(u=0);var a=n[1]<n[0],f=n[a-0],l=n[1-a],c=(l-f)/(e.length+u);return r=o(f+c*u,c),a&&r.reverse(),i=c*(1-u),t={t:"rangeBands",x:n,p:u},s},s.rangeRoundBands=function(n,u){arguments.length<2&&(u=0);var a=n[1]<n[0],f=n[a-0],l=n[1-a],c=Math.floor((l-f)/(e.length+u)),h=l-f-(e.length-u)*c;return r=o(f+Math.round(h/2),c),a&&r.reverse(),i=Math.round(c*(1-u)),t={t:"rangeRoundBands",x:n,p:u},s},s.rangeBand=function(){return i},s.rangeExtent=function(){return on(t.x)},s.copy=function(){return Tn(e,t)},s.domain(e)}function An(e,t){function r(){var r=0,s=e.length,o=t.length;n=[];while(++r<o)n[r-1]=d3.quantile(e,r/o);return i}function i(e){return isNaN(e=+e)?NaN:t[d3.bisect(n,e)]}var n;return i.domain=function(t){return arguments.length?(e=t.filter(function(e){return!isNaN(e)}).sort(d3.ascending),r()):e},i.range=function(e){return arguments.length?(t=e,r()):t},i.quantiles=function(){return n},i.copy=function(){return An(e,t)},r()}function On(e,t,n){function s(t){return n[Math.max(0,Math.min(i,Math.floor(r*(t-e))))]}function o(){return r=n.length/(t-e),i=n.length-1,s}var r,i;return s.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],o()):[e,t]},s.range=function(e){return arguments.length?(n=e,o()):n},s.copy=function(){return On(e,t,n)},o()}function Mn(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return dn(e,t)},t.tickFormat=function(t){return vn(e,t)},t.copy=function(){return Mn(e)},t}function Pn(e){return e.innerRadius}function Hn(e){return e.outerRadius}function Bn(e){return e.startAngle}function jn(e){return e.endAngle}function Fn(e){function u(i){function d(){u.push("M",s(e(a),o))}var u=[],a=[],f=-1,l=i.length,c,h=m(t),p=m(n);while(++f<l)r.call(this,c=i[f],f)?a.push([+h.call(this,c,f),+p.call(this,c,f)]):a.length&&(d(),a=[]);return a.length&&d(),u.length?u.join(""):null}var t=In,n=qn,r=v,i=Rn,s=zn,o=.7;return u.x=function(e){return arguments.length?(t=e,u):t},u.y=function(e){return arguments.length?(n=e,u):n},u.defined=function(e){return arguments.length?(r=e,u):r},u.interpolate=function(e){return arguments.length?(Un.has(e+="")||(e=Rn),s=Un.get(i=e),u):i},u.tension=function(e){return arguments.length?(o=e,u):o},u}function In(e){return e[0]}function qn(e){return e[1]}function zn(e){var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];while(++t<n)i.push("L",(r=e[t])[0],",",r[1]);return i.join("")}function Wn(e){var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];while(++t<n)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function Xn(e){var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];while(++t<n)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function Vn(e,t){return e.length<4?zn(e):e[1]+Kn(e.slice(1,e.length-1),Qn(e,t))}function $n(e,t){return e.length<3?zn(e):e[0]+Kn((e.push(e[0]),e),Qn([e[e.length-2]].concat(e,[e[1]]),t))}function Jn(e,t,n){return e.length<3?zn(e):e[0]+Kn(e,Qn(e,t))}function Kn(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return zn(e);var n=e.length!=t.length,r="",i=e[0],s=e[1],o=t[0],u=o,a=1;n&&(r+="Q"+(s[0]-o[0]*2/3)+","+(s[1]-o[1]*2/3)+","+s[0]+","+s[1],i=e[1],a=2);if(t.length>1){u=t[1],s=e[a],a++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(s[0]-u[0])+","+(s[1]-u[1])+","+s[0]+","+s[1];for(var f=2;f<t.length;f++,a++)s=e[a],u=t[f],r+="S"+(s[0]-u[0])+","+(s[1]-u[1])+","+s[0]+","+s[1]}if(n){var l=e[a];r+="Q"+(s[0]+u[0]*2/3)+","+(s[1]+u[1]*2/3)+","+l[0]+","+l[1]}return r}function Qn(e,t){var n=[],r=(1-t)/2,i,s=e[0],o=e[1],u=1,a=e.length;while(++u<a)i=s,s=o,o=e[u],n.push([r*(o[0]-i[0]),r*(o[1]-i[1])]);return n}function Gn(e){if(e.length<3)return zn(e);var t=1,n=e.length,r=e[0],i=r[0],s=r[1],o=[i,i,i,(r=e[1])[0]],u=[s,s,s,r[1]],a=[i,",",s];sr(a,o,u);while(++t<n)r=e[t],o.shift(),o.push(r[0]),u.shift(),u.push(r[1]),sr(a,o,u);t=-1;while(++t<2)o.shift(),o.push(r[0]),u.shift(),u.push(r[1]),sr(a,o,u);return a.join("")}function Yn(e){if(e.length<4)return zn(e);var t=[],n=-1,r=e.length,i,s=[0],o=[0];while(++n<3)i=e[n],s.push(i[0]),o.push(i[1]);t.push(tr(ir,s)+","+tr(ir,o)),--n;while(++n<r)i=e[n],s.shift(),s.push(i[0]),o.shift(),o.push(i[1]),sr(t,s,o);return t.join("")}function Zn(e){var t,n=-1,r=e.length,i=r+4,s,o=[],u=[];while(++n<4)s=e[n%r],o.push(s[0]),u.push(s[1]);t=[tr(ir,o),",",tr(ir,u)],--n;while(++n<i)s=e[n%r],o.shift(),o.push(s[0]),u.shift(),u.push(s[1]),sr(t,o,u);return t.join("")}function er(e,t){var n=e.length-1,r=e[0][0],i=e[0][1],s=e[n][0]-r,o=e[n][1]-i,u=-1,a,f;while(++u<=n)a=e[u],f=u/n,a[0]=t*a[0]+(1-t)*(r+f*s),a[1]=t*a[1]+(1-t)*(i+f*o);return Gn(e)}function tr(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function sr(e,t,n){e.push("C",tr(nr,t),",",tr(nr,n),",",tr(rr,t),",",tr(rr,n),",",tr(ir,t),",",tr(ir,n))}function or(e,t){return(t[1]-e[1])/(t[0]-e[0])}function ur(e){var t=0,n=e.length-1,r=[],i=e[0],s=e[1],o=r[0]=or(i,s);while(++t<n)r[t]=o+(o=or(i=s,s=e[t+1]));return r[t]=o,r}function ar(e){var t=[],n,r,i,s,o=ur(e),u=-1,a=e.length-1;while(++u<a)n=or(e[u],e[u+1]),Math.abs(n)<1e-6?o[u]=o[u+1]=0:(r=o[u]/n,i=o[u+1]/n,s=r*r+i*i,s>9&&(s=n*3/Math.sqrt(s),o[u]=s*r,o[u+1]=s*i));u=-1;while(++u<=a)s=(e[Math.min(a,u+1)][0]-e[Math.max(0,u-1)][0])/(6*(1+o[u]*o[u])),t.push([s||0,o[u]*s||0]);return t}function fr(e){return e.length<3?zn(e):e[0]+Kn(e,ar(e))}function lr(e){var t,n=-1,r=e.length,i,s;while(++n<r)t=e[n],i=t[0],s=t[1]+_n,t[0]=i*Math.cos(s),t[1]=i*Math.sin(s);return e}function cr(e){function c(o){function T(){c.push("M",u(e(p),l),f,a(e(h.reverse()),l),"Z")}var c=[],h=[],p=[],d=-1,v=o.length,g,y=m(t),b=m(r),w=t===n?function(){return S}:m(n),E=r===i?function(){return x}:m(i),S,x;while(++d<v)s.call(this,g=o[d],d)?(h.push([S=+y.call(this,g,d),x=+b.call(this,g,d)]),p.push([+w.call(this,g,d),+E.call(this,g,d)])):h.length&&(T(),h=[],p=[]);return h.length&&T(),c.length?c.join(""):null}var t=In,n=In,r=0,i=qn,s=v,o=Rn,u=zn,a=zn,f="L",l=.7;return c.x=function(e){return arguments.length?(t=n=e,c):n},c.x0=function(e){return arguments.length?(t=e,c):t},c.x1=function(e){return arguments.length?(n=e,c):n},c.y=function(e){return arguments.length?(r=i=e,c):i},c.y0=function(e){return arguments.length?(r=e,c):r},c.y1=function(e){return arguments.length?(i=e,c):i},c.defined=function(e){return arguments.length?(s=e,c):s},c.interpolate=function(e){return arguments.length?(Un.has(e+="")||(e=Rn),u=Un.get(o=e),a=u.reverse||u,f=/-closed$/.test(e)?"M":"L",c):o},c.tension=function(e){return arguments.length?(l=e,c):l},c}function hr(e){return e.source}function pr(e){return e.target}function dr(e){return e.radius}function vr(e){return e.startAngle}function mr(e){return e.endAngle}function gr(e){return[e.x,e.y]}function yr(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]+_n;return[n*Math.cos(r),n*Math.sin(r)]}}function br(){return 64}function wr(){return"circle"}function Er(e){var t=Math.sqrt(e/Math.PI);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+ -t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Nr(e,t){e.attr("transform",function(e){return"translate("+t(e)+",0)"})}function Cr(e,t){e.attr("transform",function(e){return"translate(0,"+t(e)+")"})}function kr(e,t,n){i=[];if(n&&t.length>1){var r=on(e.domain()),i,s=-1,o=t.length,u=(t[1]-t[0])/++n,a,f;while(++s<o)for(a=n;--a>0;)(f=+t[s]-a*u)>=r[0]&&i.push(f);for(--s,a=0;++a<n&&(f=+t[s]+a*u)<r[1];)i.push(f)}return i}function _r(){Or||(Or=d3.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y","scroll").append("div").style("height","2000px").node().parentNode);var e=d3.event,t;try{Or.scrollTop=1e3,Or.dispatchEvent(e),t=1e3-Or.scrollTop}catch(n){t=e.wheelDelta||-e.detail*5}return t}function Dr(e){var t=e.source,n=e.target,r=Hr(t,n),i=[t];while(t!==r)t=t.parent,i.push(t);var s=i.length;while(n!==r)i.splice(s,0,n),n=n.parent;return i}function Pr(e){var t=[],n=e.parent;while(n!=null)t.push(e),e=n,n=n.parent;return t.push(e),t}function Hr(e,t){if(e===t)return e;var n=Pr(e),r=Pr(t),i=n.pop(),s=r.pop(),o=null;while(i===s)o=i,i=n.pop(),s=r.pop();return o}function Fr(e){e.fixed|=2}function Ir(e){e!==jr&&(e.fixed&=1)}function qr(){jr.fixed&=1,Br=jr=null}function Rr(){jr.px=d3.event.x,jr.py=d3.event.y,Br.resume()}function Ur(e,t,n){var r=0,i=0;e.charge=0;if(!e.leaf){var s=e.nodes,o=s.length,u=-1,a;while(++u<o){a=s[u];if(a==null)continue;Ur(a,t,n),e.charge+=a.charge,r+=a.charge*a.cx,i+=a.charge*a.cy}}if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var f=t*n[e.point.index];e.charge+=e.pointCharge=f,r+=f*e.point.x,i+=f*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}function zr(e){return 20}function Wr(e){return 1}function Vr(e){return e.x}function $r(e){return e.y}function Jr(e,t,n){e.y0=t,e.y=n}function Gr(e){return d3.range(e.length)}function Yr(e){var t=-1,n=e[0].length,r=[];while(++t<n)r[t]=0;return r}function Zr(e){var t=1,n=0,r=e[0][1],i,s=e.length;for(;t<s;++t)(i=e[t][1])>r&&(n=t,r=i);return n}function ei(e){return e.reduce(ti,0)}function ti(e,t){return e+t[1]}function ni(e,t){return ri(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function ri(e,t){var n=-1,r=+e[0],i=(e[1]-r)/t,s=[];while(++n<=t)s[n]=i*n+r;return s}function ii(e){return[d3.min(e),d3.max(e)]}function si(e,t){return d3.rebind(e,t,"sort","children","value"),e.links=fi,e.nodes=function(t){return li=!0,(e.nodes=e)(t)},e}function oi(e){return e.children}function ui(e){return e.value}function ai(e,t){return t.value-e.value}function fi(e){return d3.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function ci(e,t){return e.value-t.value}function hi(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function pi(e,t){e._pack_next=t,t._pack_prev=e}function di(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return i*i-n*n-r*r>.001}function vi(e){function c(e){t=Math.min(e.x-e.r,t),n=Math.max(e.x+e.r,n),r=Math.min(e.y-e.r,r),i=Math.max(e.y+e.r,i)}var t=Infinity,n=-Infinity,r=Infinity,i=-Infinity,s=e.length,o,u,a,f,l;e.forEach(mi),o=e[0],o.x=-o.r,o.y=0,c(o);if(s>1){u=e[1],u.x=u.r,u.y=0,c(u);if(s>2){a=e[2],wi(o,u,a),c(a),hi(o,a),o._pack_prev=a,hi(a,u),u=o._pack_next;for(var h=3;h<s;h++){wi(o,u,a=e[h]);var p=0,d=1,v=1;for(f=u._pack_next;f!==u;f=f._pack_next,d++)if(di(f,a)){p=1;break}if(p==1)for(l=o._pack_prev;l!==f._pack_prev;l=l._pack_prev,v++)if(di(l,a))break;p?(d<v||d==v&&u.r<o.r?pi(o,u=f):pi(o=l,u),h--):(hi(o,a),u=a,c(a))}}}var m=(t+n)/2,g=(r+i)/2,y=0;for(var h=0;h<s;h++){var b=e[h];b.x-=m,b.y-=g,y=Math.max(y,b.r+Math.sqrt(b.x*b.x+b.y*b.y))}return e.forEach(gi),y}function mi(e){e._pack_next=e._pack_prev=e}function gi(e){delete e._pack_next,delete e._pack_prev}function yi(e){var t=e.children;t&&t.length?(t.forEach(yi),e.r=vi(t)):e.r=Math.sqrt(e.value)}function bi(e,t,n,r){var i=e.children;e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r;if(i){var s=-1,o=i.length;while(++s<o)bi(i[s],t,n,r)}}function wi(e,t,n){var r=e.r+n.r,i=t.x-e.x,s=t.y-e.y;if(r&&(i||s)){var o=t.r+n.r,u=Math.sqrt(i*i+s*s),a=Math.max(-1,Math.min(1,(r*r+u*u-o*o)/(2*r*u))),f=Math.acos(a),l=a*(r/=u),c=Math.sin(f)*r;n.x=e.x+l*i+c*s,n.y=e.y+l*s-c*i}else n.x=e.x+r,n.y=e.y}function Ei(e){return 1+d3.max(e,function(e){return e.y})}function Si(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function xi(e){var t=e.children;return t&&t.length?xi(t[0]):e}function Ti(e){var t=e.children,n;return t&&(n=t.length)?Ti(t[n-1]):e}function Ni(e,t){return e.parent==t.parent?1:2}function Ci(e){var t=e.children;return t&&t.length?t[0]:e._tree.thread}function ki(e){var t=e.children,n;return t&&(n=t.length)?t[n-1]:e._tree.thread}function Li(e,t){var n=e.children;if(n&&(i=n.length)){var r,i,s=-1;while(++s<i)t(r=Li(n[s],t),e)>0&&(e=r)}return e}function Ai(e,t){return e.x-t.x}function Oi(e,t){return t.x-e.x}function Mi(e,t){return e.depth-t.depth}function _i(e,t){function n(e,r){var i=e.children;if(i&&(a=i.length)){var s,o=null,u=-1,a;while(++u<a)s=i[u],n(s,o),o=s}t(e,r)}n(e,null)}function Di(e){var t=0,n=0,r=e.children,i=r.length,s;while(--i>=0)s=r[i]._tree,s.prelim+=t,s.mod+=t,t+=s.shift+(n+=s.change)}function Pi(e,t,n){e=e._tree,t=t._tree;var r=n/(t.number-e.number);e.change+=r,t.change-=r,t.shift+=n,t.prelim+=n,t.mod+=n}function Hi(e,t,n){return e._tree.ancestor.parent==t.parent?e._tree.ancestor:n}function Bi(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function ji(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],s=e.dy-t[0]-t[2];return i<0&&(n+=i/2,i=0),s<0&&(r+=s/2,s=0),{x:n,y:r,dx:i,dy:s}}function Fi(e){return e.map(Ii).join(",")}function Ii(e){return/[",\n]/.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}function Ri(e,t){return function(n){return n&&e.hasOwnProperty(n.type)?e[n.type](n):t}}function Ui(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+ -2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function zi(e,t){Wi.hasOwnProperty(e.type)&&Wi[e.type](e,t)}function Xi(e,t){zi(e.geometry,t)}function Vi(e,t){for(var n=e.features,r=0,i=n.length;r<i;r++)zi(n[r].geometry,t)}function $i(e,t){for(var n=e.geometries,r=0,i=n.length;r<i;r++)zi(n[r],t)}function Ji(e,t){for(var n=e.coordinates,r=0,i=n.length;r<i;r++)t.apply(null,n[r])}function Ki(e,t){for(var n=e.coordinates,r=0,i=n.length;r<i;r++)for(var s=n[r],o=0,u=s.length;o<u;o++)t.apply(null,s[o])}function Qi(e,t){for(var n=e.coordinates,r=0,i=n.length;r<i;r++)for(var s=n[r][0],o=0,u=s.length;o<u;o++)t.apply(null,s[o])}function Gi(e,t){t.apply(null,e.coordinates)}function Yi(e,t){for(var n=e.coordinates[0],r=0,i=n.length;r<i;r++)t.apply(null,n[r])}function Zi(e){return e.source}function es(e){return e.target}function ts(e,t){function m(e){var t=Math.sin(d-(e*=d))/v,n=Math.sin(e)/v,s=t*o*r+n*h*f,a=t*o*i+n*h*l,c=t*u+n*p;return[Math.atan2(a,s)/qi,Math.atan2(c,Math.sqrt(s*s+a*a))/qi]}var n=e[0]*qi,r=Math.cos(n),i=Math.sin(n),s=e[1]*qi,o=Math.cos(s),u=Math.sin(s),a=t[0]*qi,f=Math.cos(a),l=Math.sin(a),c=t[1]*qi,h=Math.cos(c),p=Math.sin(c),d=m.d=Math.acos(Math.max(-1,Math.min(1,u*p+o*h*Math.cos(a-n)))),v=Math.sin(d);return m}function is(e){var t=0,n=0;for(;;){if(e(t,n))return[t,n];t===0?(t=n+1,n=0):(t-=1,n+=1)}}function ss(e,t,n,r){var i,s,o,u,a,f,l;return i=r[e],s=i[0],o=i[1],i=r[t],u=i[0],a=i[1],i=r[n],f=i[0],l=i[1],(l-o)*(u-s)-(a-o)*(f-s)>0}function os(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function us(e,t,n,r){var i=e[0],s=t[0],o=n[0],u=r[0],a=e[1],f=t[1],l=n[1],c=r[1],h=i-o,p=s-i,d=u-o,v=a-l,m=f-a,g=c-l,y=(d*v-g*h)/(g*p-d*m);return[i+y*p,a+y*m]}function fs(e,t){var n={list:e.map(function(e,t){return{index:t,x:e[0],y:e[1]}}).sort(function(e,t){return e.y<t.y?-1:e.y>t.y?1:e.x<t.x?-1:e.x>t.x?1:0}),bottomSite:null},r={list:[],leftEnd:null,rightEnd:null,init:function(){r.leftEnd=r.createHalfEdge(null,"l"),r.rightEnd=r.createHalfEdge(null,"l"),r.leftEnd.r=r.rightEnd,r.rightEnd.l=r.leftEnd,r.list.unshift(r.leftEnd,r.rightEnd)},createHalfEdge:function(e,t){return{edge:e,side:t,vertex:null,l:null,r:null}},insert:function(e,t){t.l=e,t.r=e.r,e.r.l=t,e.r=t},leftBound:function(e){var t=r.leftEnd;do t=t.r;while(t!=r.rightEnd&&i.rightOf(t,e));return t=t.l,t},del:function(e){e.l.r=e.r,e.r.l=e.l,e.edge=null},right:function(e){return e.r},left:function(e){return e.l},leftRegion:function(e){return e.edge==null?n.bottomSite:e.edge.region[e.side]},rightRegion:function(e){return e.edge==null?n.bottomSite:e.edge.region[as[e.side]]}},i={bisect:function(e,t){var n={region:{l:e,r:t},ep:{l:null,r:null}},r=t.x-e.x,i=t.y-e.y,s=r>0?r:-r,o=i>0?i:-i;return n.c=e.x*r+e.y*i+(r*r+i*i)*.5,s>o?(n.a=1,n.b=i/r,n.c/=r):(n.b=1,n.a=r/i,n.c/=i),n},intersect:function(e,t){var n=e.edge,r=t.edge;if(!n||!r||n.region.r==r.region.r)return null;var i=n.a*r.b-n.b*r.a;if(Math.abs(i)<1e-10)return null;var s=(n.c*r.b-r.c*n.b)/i,o=(r.c*n.a-n.c*r.a)/i,u=n.region.r,a=r.region.r,f,l;u.y<a.y||u.y==a.y&&u.x<a.x?(f=e,l=n):(f=t,l=r);var c=s>=l.region.r.x;return c&&f.side==="l"||!c&&f.side==="r"?null:{x:s,y:o}},rightOf:function(e,t){var n=e.edge,r=n.region.r,i=t.x>r.x;if(i&&e.side==="l")return 1;if(!i&&e.side==="r")return 0;if(n.a===1){var s=t.y-r.y,o=t.x-r.x,u=0,a=0;!i&&n.b<0||i&&n.b>=0?a=u=s>=n.b*o:(a=t.x+t.y*n.b>n.c,n.b<0&&(a=!a),a||(u=1));if(!u){var f=r.x-n.region.l.x;a=n.b*(o*o-s*s)<f*s*(1+2*o/f+n.b*n.b),n.b<0&&(a=!a)}}else{var l=n.c-n.a*t.x,c=t.y-l,h=t.x-r.x,p=l-r.y;a=c*c>h*h+p*p}return e.side==="l"?a:!a},endPoint:function(e,n,r){e.ep[n]=r;if(!e.ep[as[n]])return;t(e)},distance:function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}},s={list:[],insert:function(e,t,n){e.vertex=t,e.ystar=t.y+n;for(var r=0,i=s.list,o=i.length;r<o;r++){var u=i[r];if(e.ystar>u.ystar||e.ystar==u.ystar&&t.x>u.vertex.x)continue;break}i.splice(r,0,e)},del:function(e){for(var t=0,n=s.list,r=n.length;t<r&&n[t]!=e;++t);n.splice(t,1)},empty:function(){return s.list.length===0},nextEvent:function(e){for(var t=0,n=s.list,r=n.length;t<r;++t)if(n[t]==e)return n[t+1];return null},min:function(){var e=s.list[0];return{x:e.vertex.x,y:e.ystar}},extractMin:function(){return s.list.shift()}};r.init(),n.bottomSite=n.list.shift();var o=n.list.shift(),u,a,f,l,c,h,p,d,v,m,g,y,b;for(;;){s.empty()||(u=s.min());if(o&&(s.empty()||o.y<u.y||o.y==u.y&&o.x<u.x))a=r.leftBound(o),f=r.right(a),p=r.rightRegion(a),y=i.bisect(p,o),h=r.createHalfEdge(y,"l"),r.insert(a,h),m=i.intersect(a,h),m&&(s.del(a),s.insert(a,m,i.distance(m,o))),a=h,h=r.createHalfEdge(y,"r"),r.insert(a,h),m=i.intersect(h,f),m&&s.insert(h,m,i.distance(m,o)),o=n.list.shift();else{if(!!s.empty())break;a=s.extractMin(),l=r.left(a),f=r.right(a),c=r.right(f),p=r.leftRegion(a),d=r.rightRegion(f),g=a.vertex,i.endPoint(a.edge,a.side,g),i.endPoint(f.edge,f.side,g),r.del(a),s.del(f),r.del(f),b="l",p.y>d.y&&(v=p,p=d,d=v,b="r"),y=i.bisect(p,d),h=r.createHalfEdge(y,b),r.insert(l,h),i.endPoint(y,as[b],g),m=i.intersect(l,h),m&&(s.del(l),s.insert(l,m,i.distance(m,p))),m=i.intersect(h,c),m&&s.insert(h,m,i.distance(m,p))}}for(a=r.right(r.leftEnd);a!=r.rightEnd;a=r.right(a))t(a.edge)}function ls(){return{leaf:!0,nodes:[],point:null}}function cs(e,t,n,r,i,s){if(!e(t,n,r,i,s)){var o=(n+i)*.5,u=(r+s)*.5,a=t.nodes;a[0]&&cs(e,a[0],n,r,o,u),a[1]&&cs(e,a[1],o,r,i,u),a[2]&&cs(e,a[2],n,u,o,s),a[3]&&cs(e,a[3],o,u,i,s)}}function hs(e){return{x:e[0],y:e[1]}}function ds(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function ms(e,t,n,r){var i,s,o=0,u=t.length,a=n.length;while(o<u){if(r>=a)return-1;i=t.charCodeAt(o++);if(i==37){s=Ss[t.charAt(o++)];if(!s||(r=s(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function xs(e,t,n){return Ns.test(t.substring(n,n+=3))?n:-1}function Ts(e,t,n){Cs.lastIndex=0;var r=Cs.exec(t.substring(n,n+10));return r?n+=r[0].length:-1}function Ls(e,t,n){var r=As.get(t.substring(n,n+=3).toLowerCase());return r==null?-1:(e.m=r,n)}function Os(e,t,n){Ms.lastIndex=0;var r=Ms.exec(t.substring(n,n+12));return r?(e.m=_s.get(r[0].toLowerCase()),n+=r[0].length):-1}function Ps(e,t,n){return ms(e,Es.c.toString(),t,n)}function Hs(e,t,n){return ms(e,Es.x.toString(),t,n)}function Bs(e,t,n){return ms(e,Es.X.toString(),t,n)}function js(e,t,n){Vs.lastIndex=0;var r=Vs.exec(t.substring(n,n+4));return r?(e.y=+r[0],n+=r[0].length):-1}function Fs(e,t,n){Vs.lastIndex=0;var r=Vs.exec(t.substring(n,n+2));return r?(e.y=Is()+ +r[0],n+=r[0].length):-1}function Is(){return~~((new Date).getFullYear()/1e3)*1e3}function qs(e,t,n){Vs.lastIndex=0;var r=Vs.exec(t.substring(n,n+2));return r?(e.m=r[0]-1,n+=r[0].length):-1}function Rs(e,t,n){Vs.lastIndex=0;var r=Vs.exec(t.substring(n,n+2));return r?(e.d=+r[0],n+=r[0].length):-1}function Us(e,t,n){Vs.lastIndex=0;var r=Vs.exec(t.substring(n,n+2));return r?(e.H=+r[0],n+=r[0].length):-1}function zs(e,t,n){Vs.lastIndex=0;var r=Vs.exec(t.substring(n,n+2));return r?(e.M=+r[0],n+=r[0].length):-1}function Ws(e,t,n){Vs.lastIndex=0;var r=Vs.exec(t.substring(n,n+2));return r?(e.S=+r[0],n+=r[0].length):-1}function Xs(e,t,n){Vs.lastIndex=0;var r=Vs.exec(t.substring(n,n+3));return r?(e.L=+r[0],n+=r[0].length):-1}function $s(e,t,n){var r=Js.get(t.substring(n,n+=2).toLowerCase());return r==null?-1:(e.p=r,n)}function Ks(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=~~(Math.abs(t)/60),i=Math.abs(t)%60;return n+gs(r)+gs(i)}function Gs(e){return e.toISOString()}function Ys(e,t,n){function r(t){var n=e(t),r=s(n,1);return t-n<r-t?n:r}function i(n){return t(n=e(new ps(n-1)),1),n}function s(e,n){return t(e=new ps(+e),n),e}function o(e,r,s){var o=i(e),u=[];if(s>1)while(o<r)n(o)%s||u.push(new Date(+o)),t(o,1);else while(o<r)u.push(new Date(+o)),t(o,1);return u}function u(e,t,n){try{ps=ds;var r=new ds;return r._=e,o(r,t,n)}finally{ps=Date}}e.floor=e,e.round=r,e.ceil=i,e.offset=s,e.range=o;var a=e.utc=Zs(e);return a.floor=a,a.round=Zs(r),a.ceil=Zs(i),a.offset=Zs(s),a.range=u,e}function Zs(e){return function(t,n){try{ps=ds;var r=new ds;return r._=t,e(r,n)._}finally{ps=Date}}}function eo(e,t,n){function r(t){return e(t)}return r.invert=function(t){return no(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain().map(no)},r.nice=function(e){var t=to(r.domain());return r.domain([e.floor(t[0]),e.ceil(t[1])])},r.ticks=function(n,i){var s=to(r.domain());if(typeof n!="function"){var o=s[1]-s[0],u=o/n,a=d3.bisect(oo,u);if(a==oo.length)return t.year(s,n);if(!a)return e.ticks(n).map(no);Math.log(u/oo[a-1])<Math.log(oo[a]/u)&&--a,n=t[a],i=n[1],n=n[0].range}return n(s[0],new Date(+s[1]+1),i)},r.tickFormat=function(){return n},r.copy=function(){return eo(e.copy(),t,n)},d3.rebind(r,e,"range","rangeRound","interpolate","clamp")}function to(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function no(e){return new Date(e)}function ro(e){return function(t){var n=e.length-1,r=e[n];while(!r[1](t))r=e[--n];return r[0](t)}}function io(e){var t=new Date(e,0,1);return t.setFullYear(e),t}function so(e){var t=e.getFullYear(),n=io(t),r=io(t+1);return t+(e-n)/(r-n)}function vo(e){var t=new Date(Date.UTC(e,0,1));return t.setUTCFullYear(e),t}function mo(e){var t=e.getUTCFullYear(),n=vo(t),r=vo(t+1);return t+(e-n)/(r-n)}Date.now||(Date.now=function(){return+(new Date)});try{document.createElement("div").style.setProperty("opacity",0,"")}catch(e){var t=CSSStyleDeclaration.prototype,n=t.setProperty;t.setProperty=function(e,t,r){n.call(this,e,t+"",r)}}d3={version:"2.9.1"};var i=o;try{i(document.documentElement.childNodes)[0].nodeType}catch(u){i=s}var a=[].__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};d3.map=function(e){var t=new f;for(var n in e)t.set(n,e[n]);return t},r(f,{has:function(e){return l+e in this},get:function(e){return this[l+e]},set:function(e,t){return this[l+e]=t},remove:function(e){return e=l+e,e in this&&delete this[e]},keys:function(){var e=[];return this.forEach(function(t){e.push(t)}),e},values:function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e},entries:function(){var e=[];return this.forEach(function(t,n){e.push({key:t,value:n})}),e},forEach:function(e){for(var t in this)t.charCodeAt(0)===c&&e.call(this,t.substring(1),this[t])}});var l="\0",c=l.charCodeAt(0);d3.functor=m,d3.rebind=function(e,t){var n=1,r=arguments.length,i;while(++n<r)e[i=arguments[n]]=g(e,t,t[i]);return e},d3.ascending=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},d3.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},d3.mean=function(e,t){var n=e.length,r,i=0,s=-1,o=0;if(arguments.length===1)while(++s<n)y(r=e[s])&&(i+=(r-i)/++o);else while(++s<n)y(r=t.call(e,e[s],s))&&(i+=(r-i)/++o);return o?i:undefined},d3.median=function(e,t){return arguments.length>1&&(e=e.map(t)),e=e.filter(y),e.length?d3.quantile(e.sort(d3.ascending),.5):undefined},d3.min=function(e,t){var n=-1,r=e.length,i,s;if(arguments.length===1){while(++n<r&&((i=e[n])==null||i!=i))i=undefined;while(++n<r)(s=e[n])!=null&&i>s&&(i=s)}else{while(++n<r&&((i=t.call(e,e[n],n))==null||i!=i))i=undefined;while(++n<r)(s=t.call(e,e[n],n))!=null&&i>s&&(i=s)}return i},d3.max=function(e,t){var n=-1,r=e.length,i,s;if(arguments.length===1){while(++n<r&&((i=e[n])==null||i!=i))i=undefined;while(++n<r)(s=e[n])!=null&&s>i&&(i=s)}else{while(++n<r&&((i=t.call(e,e[n],n))==null||i!=i))i=undefined;while(++n<r)(s=t.call(e,e[n],n))!=null&&s>i&&(i=s)}return i},d3.extent=function(e,t){var n=-1,r=e.length,i,s,o;if(arguments.length===1){while(++n<r&&((i=o=e[n])==null||i!=i))i=o=undefined;while(++n<r)(s=e[n])!=null&&(i>s&&(i=s),o<s&&(o=s))}else{while(++n<r&&((i=o=t.call(e,e[n],n))==null||i!=i))i=undefined;while(++n<r)(s=t.call(e,e[n],n))!=null&&(i>s&&(i=s),o<s&&(o=s))}return[i,o]},d3.random={normal:function(e,t){return arguments.length<2&&(t=1),arguments.length<1&&(e=0),function(){var n,r,i;do n=Math.random()*2-1,r=Math.random()*2-1,i=n*n+r*r;while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}}},d3.sum=function(e,t){var n=0,r=e.length,i,s=-1;if(arguments.length===1)while(++s<r)isNaN(i=+e[s])||(n+=i);else while(++s<r)isNaN(i=+t.call(e,e[s],s))||(n+=i);return n},d3.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=e[r-1],s=n-r;return s?i+s*(e[r]-i):i},d3.transpose=function(e){return d3.zip.apply(d3,e)},d3.zip=function(){if(!(i=arguments.length))return[];for(var e=-1,t=d3.min(arguments,b),n=new Array(t);++e<t;)for(var r=-1,i,s=n[e]=new Array(i);++r<i;)s[r]=arguments[r][e];return n},d3.bisector=function(e){return{left:function(t,n,r,i){arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);while(r<i){var s=r+i>>1;e.call(t,t[s],s)<n?r=s+1:i=s}return r},right:function(t,n,r,i){arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);while(r<i){var s=r+i>>1;n<e.call(t,t[s],s)?i=s:r=s+1}return r}}};var w=d3.bisector(function(e){return e});d3.bisectLeft=w.left,d3.bisect=d3.bisectRight=w.right,d3.first=function(e,t){var n=0,r=e.length,i=e[0],s;arguments.length===1&&(t=d3.ascending);while(++n<r)t.call(e,i,s=e[n])>0&&(i=s);return i},d3.last=function(e,t){var n=0,r=e.length,i=e[0],s;arguments.length===1&&(t=d3.ascending);while(++n<r)t.call(e,i,s=e[n])<=0&&(i=s);return i},d3.nest=function(){function s(n,o){if(o>=t.length)return i?i.call(e,n):r?n.sort(r):n;var u=-1,a=n.length,l=t[o++],c,h,p=new f,d,v={};while(++u<a)(d=p.get(c=l(h=n[u])))?d.push(h):p.set(c,[h]);return p.forEach(function(e){v[e]=s(p.get(e),o)}),v}function o(e,r){if(r>=t.length)return e;var i=[],s=n[r++],u;for(u in e)i.push({key:u,values:o(e[u],r)});return s&&i.sort(function(e,t){return s(e.key,t.key)}),i}var e={},t=[],n=[],r,i;return e.map=function(e){return s(e,0)},e.entries=function(e){return o(s(e,0),0)},e.key=function(n){return t.push(n),e},e.sortKeys=function(r){return n[t.length-1]=r,e},e.sortValues=function(t){return r=t,e},e.rollup=function(t){return i=t,e},e},d3.keys=function(e){var t=[];for(var n in e)t.push(n);return t},d3.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},d3.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},d3.permute=function(e,t){var n=[],r=-1,i=t.length;while(++r<i)n[r]=e[t[r]];return n},d3.merge=function(e){return Array.prototype.concat.apply([],e)},d3.split=function(e,t){var n=[],r=[],i,s=-1,o=e.length;arguments.length<2&&(t=E);while(++s<o)t.call(r,i=e[s],s)?r=[]:(r.length||n.push(r),r.push(i));return n},d3.range=function(e,t,n){arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0));if((t-e)/n===Infinity)throw new Error("infinite range");var r=[],i=x(Math.abs(n)),s=-1,o;e*=i,t*=i,n*=i;if(n<0)while((o=e+n*++s)>t)r.push(o/i);else while((o=e+n*++s)<t)r.push(o/i);return r},d3.requote=function(e){return e.replace(T,"\\$&")};var T=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;d3.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)},d3.xhr=function(e,t,n){var r=new XMLHttpRequest;arguments.length<3?(n=t,t=null):t&&r.overrideMimeType&&r.overrideMimeType(t),r.open("GET",e,!0),t&&r.setRequestHeader("Accept",t),r.onreadystatechange=function(){if(r.readyState===4){var e=r.status;n(e>=200&&e<300||e===304?r:null)}},r.send(null)},d3.text=function(e,t,n){function r(e){n(e&&e.responseText)}arguments.length<3&&(n=t,t=null),d3.xhr(e,t,r)},d3.json=function(e,t){d3.text(e,"application/json",function(e){t(e?JSON.parse(e):null)})},d3.html=function(e,t){d3.text(e,"text/html",function(e){if(e!=null){var n=document.createRange();n.selectNode(document.body),e=n.createContextualFragment(e)}t(e)})},d3.xml=function(e,t,n){function r(e){n(e&&e.responseXML)}arguments.length<3&&(n=t,t=null),d3.xhr(e,t,r)};var N={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};d3.ns={prefix:N,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&(n=e.substring(0,t),e=e.substring(t+1)),N.hasOwnProperty(n)?{space:N[n],local:e}:e}},d3.dispatch=function(){var e=new C,t=-1,n=arguments.length;while(++t<n)e[arguments[t]]=k(e);return e},C.prototype.on=function(e,t){var n=e.indexOf("."),r="";return n>0&&(r=e.substring(n+1),e=e.substring(0,n)),arguments.length<2?this[e].on(r):this[e].on(r,t)},d3.format=function(e){var t=L.exec(e),n=t[1]||" ",r=t[3]||"",i=t[5],s=+t[6],o=t[7],u=t[8],a=t[9],f=1,l="",c=!1;u&&(u=+u.substring(1)),i&&(n="0",o&&(s-=Math.floor((s-1)/4)));switch(a){case"n":o=!0,a="g";break;case"%":f=100,l="%",a="f";break;case"p":f=100,l="%",a="r";break;case"d":c=!0,u=0;break;case"s":f=-1,a="r"}return a=="r"&&!u&&(a="g"),a=A.get(a)||M,function(e){if(c&&e%1)return"";var t=e<0&&(e=-e)?"−":r;if(f<0){var h=d3.formatPrefix(e,u);e*=h.scale,l=h.symbol}else e*=f;e=a(e,u);if(i){var p=e.length+t.length;p<s&&(e=(new Array(s-p+1)).join(n)+e),o&&(e=_(e)),e=t+e}else{o&&(e=_(e)),e=t+e;var p=e.length;p<s&&(e=(new Array(s-p+1)).join(n)+e)}return e+l}};var L=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,A=d3.map({g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return d3.round(e,t=O(e,t)).toFixed(Math.max(0,Math.min(20,t)))}}),D=["y","z","a","f","p","n","μ","m","","k","M","G","T","P","E","Z","Y"].map(P);d3.formatPrefix=function(e,t){var n=0;return e&&(e<0&&(e*=-1),t&&(e=d3.round(e,O(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,Math.floor((n<=0?n+1:n-1)/3)*3))),D[8+n/3]};var H=W(2),B=W(3),j=function(){return z},F=d3.map({linear:j,poly:W,quad:function(){return H},cubic:function(){return B},sin:function(){return X},exp:function(){return V},circle:function(){return $},elastic:J,back:K,bounce:function(){return Q}}),I=d3.map({"in":z,out:R,"in-out":U,"out-in":function(e){return U(R(e))}});d3.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.substring(0,t):e,r=t>=0?e.substring(t+1):"in";return n=F.get(n)||j,r=I.get(r)||z,q(r(n.apply(null,Array.prototype.slice.call(arguments,1))))},d3.event=null,d3.interpolate=function(e,t){var n=d3.interpolators.length,r;while(--n>=0&&!(r=d3.interpolators[n](e,t)));return r},d3.interpolateNumber=function(e,t){return t-=e,function(n){return e+t*n}},d3.interpolateRound=function(e,t){return t-=e,function(n){return Math.round(e+t*n)}},d3.interpolateString=function(e,t){var n,r,i,s=0,o=0,u=[],a=[],f,l;et.lastIndex=0;for(r=0;n=et.exec(t);++r)n.index&&u.push(t.substring(s,o=n.index)),a.push({i:u.length,x:n[0]}),u.push(null),s=et.lastIndex;s<t.length&&u.push(t.substring(s));for(r=0,f=a.length;(n=et.exec(e))&&r<f;++r){l=a[r];if(l.x==n[0]){if(l.i)if(u[l.i+1]==null){u[l.i-1]+=l.x,u.splice(l.i,1);for(i=r+1;i<f;++i)a[i].i--}else{u[l.i-1]+=l.x+u[l.i+1],u.splice(l.i,2);for(i=r+1;i<f;++i)a[i].i-=2}else if(u[l.i+1]==null)u[l.i]=l.x;else{u[l.i]=l.x+u[l.i+1],u.splice(l.i+1,1);for(i=r+1;i<f;++i)a[i].i--}a.splice(r,1),f--,r--}else l.x=d3.interpolateNumber(parseFloat(n[0]),parseFloat(l.x))}while(r<f)l=a.pop(),u[l.i+1]==null?u[l.i]=l.x:(u[l.i]=l.x+u[l.i+1],u.splice(l.i+1,1)),f--;return u.length===1?u[0]==null?a[0].x:function(){return t}:function(e){for(r=0;r<f;++r)u[(l=a[r]).i]=l.x(e);return u.join("")}},d3.interpolateTransform=function(e,t){var n=[],r=[],i,s=d3.transform(e),o=d3.transform(t),u=s.translate,a=o.translate,f=s.rotate,l=o.rotate,c=s.skew,h=o.skew,p=s.scale,d=o.scale;return u[0]!=a[0]||u[1]!=a[1]?(n.push("translate(",null,",",null,")"),r.push({i:1,x:d3.interpolateNumber(u[0],a[0])},{i:3,x:d3.interpolateNumber(u[1],a[1])})):a[0]||a[1]?n.push("translate("+a+")"):n.push(""),f!=l?r.push({i:n.push(n.pop()+"rotate(",null,")")-2,x:d3.interpolateNumber(f,l)}):l&&n.push(n.pop()+"rotate("+l+")"),c!=h?r.push({i:n.push(n.pop()+"skewX(",null,")")-2,x:d3.interpolateNumber(c,h)}):h&&n.push(n.pop()+"skewX("+h+")"),p[0]!=d[0]||p[1]!=d[1]?(i=n.push(n.pop()+"scale(",null,",",null,")"),r.push({i:i-4,x:d3.interpolateNumber(p[0],d[0])},{i:i-2,x:d3.interpolateNumber(p[1],d[1])})):(d[0]!=1||d[1]!=1)&&n.push(n.pop()+"scale("+d+")"),i=r.length,function(e){var t=-1,s;while(++t<i)n[(s=r[t]).i]=s.x(e);return n.join("")}},d3.interpolateRgb=function(e,t){e=d3.rgb(e),t=d3.rgb(t);var n=e.r,r=e.g,i=e.b,s=t.r-n,o=t.g-r,u=t.b-i;return function(e){return"#"+ot(Math.round(n+s*e))+ot(Math.round(r+o*e))+ot(Math.round(i+u*e))}},d3.interpolateHsl=function(e,t){e=d3.hsl(e),t=d3.hsl(t);var n=e.h,r=e.s,i=e.l,s=t.h-n,o=t.s-r,u=t.l-i;return function(e){return pt(n+s*e,r+o*e,i+u*e).toString()}},d3.interpolateArray=function(e,t){var n=[],r=[],i=e.length,s=t.length,o=Math.min(e.length,t.length),u;for(u=0;u<o;++u)n.push(d3.interpolate(e[u],t[u]));for(;u<i;++u)r[u]=e[u];for(;u<s;++u)r[u]=t[u];return function(e){for(u=0;u<o;++u)r[u]=n[u](e);return r}},d3.interpolateObject=function(e,t){var n={},r={},i;for(i in e)i in t?n[i]=tt(i)(e[i],t[i]):r[i]=e[i];for(i in t)i in e||(r[i]=t[i]);return function(e){for(i in n)r[i]=n[i](e);return r}};var et=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;d3.interpolators=[d3.interpolateObject,function(e,t){return t instanceof Array&&d3.interpolateArray(e,t)},function(e,t){return(typeof e=="string"||typeof t=="string")&&d3.interpolateString(e+"",t+"")},function(e,t){return(typeof t=="string"?lt.has(t)||/^(#|rgb\(|hsl\()/.test(t):t instanceof st||t instanceof ht)&&d3.interpolateRgb(e,t)},function(e,t){return!isNaN(e=+e)&&!isNaN(t=+t)&&d3.interpolateNumber(e,t)}],d3.rgb=function(e,t,n){return arguments.length===1?e instanceof st?it(e.r,e.g,e.b):ut(""+e,it,pt):it(~~e,~~t,~~n)},st.prototype.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return!t&&!n&&!r?it(i,i,i):(t&&t<i&&(t=i),n&&n<i&&(n=i),r&&r<i&&(r=i),it(Math.min(255,Math.floor(t/e)),Math.min(255,Math.floor(n/e)),Math.min(255,Math.floor(r/e))))},st.prototype.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),it(Math.floor(e*this.r),Math.floor(e*this.g),Math.floor(e*this.b))},st.prototype.hsl=function(){return at(this.r,this.g,this.b)},st.prototype.toString=function(){return"#"+ot(this.r)+ot(this.g)+ot(this.b)};var lt=d3.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});lt.forEach(function(e,t){lt.set(e,ut(t,it,pt))}),d3.hsl=function(e,t,n){return arguments.length===1?e instanceof ht?ct(e.h,e.s,e.l):ut(""+e,at,ct):ct(+e,+t,+n)},ht.prototype.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),ct(this.h,this.s,this.l/e)},ht.prototype.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),ct(this.h,this.s,e*this.l)},ht.prototype.rgb=function(){return pt(this.h,this.s,this.l)},ht.prototype.toString=function(){return this.rgb().toString()};var vt=function(e,t){return t.querySelector(e)},mt=function(e,t){return t.querySelectorAll(e)},gt=document.documentElement,yt=gt.matchesSelector||gt.webkitMatchesSelector||gt.mozMatchesSelector||gt.msMatchesSelector||gt.oMatchesSelector,bt=function(e,t){return yt.call(e,t)};typeof Sizzle=="function"&&(vt=function(e,t){return Sizzle(e,t)[0]},mt=function(e,t){return Sizzle.uniqueSort(Sizzle(e,t))},bt=Sizzle.matchesSelector);var wt=[];d3.selection=function(){return Lt},d3.selection.prototype=wt,wt.select=function(e){var t=[],n,r,i,s;typeof e!="function"&&(e=Et(e));for(var o=-1,u=this.length;++o<u;){t.push(n=[]),n.parentNode=(i=this[o]).parentNode;for(var a=-1,f=i.length;++a<f;)(s=i[a])?(n.push(r=e.call(s,s.__data__,a)),r&&"__data__"in s&&(r.__data__=s.__data__)):n.push(null)}return dt(t)},wt.selectAll=function(e){var t=[],n,r;typeof e!="function"&&(e=St(e));for(var s=-1,o=this.length;++s<o;)for(var u=this[s],a=-1,f=u.length;++a<f;)if(r=u[a])t.push(n=i(e.call(r,r.__data__,a))),n.parentNode=r;return dt(t)},wt.attr=function(e,t){function r(){this.removeAttribute(e)}function i(){this.removeAttributeNS(e.space,e.local)}function s(){this.setAttribute(e,t)}function o(){this.setAttributeNS(e.space,e.local,t)}function u(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}function a(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}e=d3.ns.qualify(e);if(arguments.length<2){var n=this.node();return e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}return this.each(t==null?e.local?i:r:typeof t=="function"?e.local?a:u:e.local?o:s)},wt.classed=function(e,t){var n=e.split(xt),r=n.length,i=-1;if(arguments.length>1){while(++i<r)Tt.call(this,n[i],t);return this}while(++i<r)if(!Tt.call(this,n[i]))return!1;return!0};var xt=/\s+/g;wt.style=function(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function s(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return arguments.length<3&&(n=""),arguments.length<2?window.getComputedStyle(this.node(),null).getPropertyValue(e):this.each(t==null?r:typeof t=="function"?s:i)},wt.property=function(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}return arguments.length<2?this.node()[e]:this.each(t==null?n:typeof t=="function"?i:r)},wt.text=function(e){return arguments.length<1?this.node().textContent:this.each(typeof e=="function"?function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}:e==null?function(){this.textContent=""}:function(){this.textContent=e})},wt.html=function(e){return arguments.length<1?this.node().innerHTML:this.each(typeof e=="function"?function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}:e==null?function(){this.innerHTML=""}:function(){this.innerHTML=e})},wt.append=function(e){function t(){return this.appendChild(document.createElementNS(this.namespaceURI,e))}function n(){return this.appendChild(document.createElementNS(e.space,e.local))}return e=d3.ns.qualify(e),this.select(e.local?n:t)},wt.insert=function(e,t){function n(){return this.insertBefore(document.createElementNS(this.namespaceURI,e),vt(t,this))}function r(){return this.insertBefore(document.createElementNS(e.space,e.local),vt(t,this))}return e=d3.ns.qualify(e),this.select(e.local?r:n)},wt.remove=function(){return this.each(function(){var e=this.parentNode;e&&e.removeChild(this)})},wt.data=function(e,t){function o(e,n){var r,i=e.length,s=n.length,o=Math.min(i,s),c=Math.max(i,s),h=[],p=[],d=[],v,m;if(t){var g=new f,y=[],b,w=n.length;for(r=-1;++r<i;)b=t.call(v=e[r],v.__data__,r),g.has(b)?d[w++]=v:g.set(b,v),y.push(b);for(r=-1;++r<s;)b=t.call(n,m=n[r],r),g.has(b)?(h[r]=v=g.get(b),v.__data__=m,p[r]=d[r]=null):(p[r]=Nt(m),h[r]=d[r]=null),g.remove(b);for(r=-1;++r<i;)g.has(y[r])&&(d[r]=e[r])}else{for(r=-1;++r<o;)v=e[r],m=n[r],v?(v.__data__=m,h[r]=v,p[r]=d[r]=null):(p[r]=Nt(m),h[r]=d[r]=null);for(;r<s;++r)p[r]=Nt(n[r]),h[r]=d[r]=null;for(;r<c;++r)d[r]=e[r],p[r]=h[r]=null}p.update=h,p.parentNode=h.parentNode=d.parentNode=e.parentNode,u.push(p),a.push(h),l.push(d)}var n=-1,r=this.length,i,s;if(!arguments.length){e=new Array(r=(i=this[0]).length);while(++n<r)if(s=i[n])e[n]=s.__data__;return e}var u=At([]),a=dt([]),l=dt([]);if(typeof e=="function")while(++n<r)o(i=this[n],e.call(i,i.parentNode.__data__,n));else while(++n<r)o(i=this[n],e);return a.enter=function(){return u},a.exit=function(){return l},a},wt.datum=wt.map=function(e){return arguments.length<1?this.property("__data__"):this.property("__data__",e)},wt.filter=function(e){var t=[],n,r,i;typeof e!="function"&&(e=Ct(e));for(var s=0,o=this.length;s<o;s++){t.push(n=[]),n.parentNode=(r=this[s]).parentNode;for(var u=0,a=r.length;u<a;u++)(i=r[u])&&e.call(i,i.__data__,u)&&n.push(i)}return dt(t)},wt.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n=this[e],r=n.length-1,i=n[r],s;--r>=0;)if(s=n[r])i&&i!==s.nextSibling&&i.parentNode.insertBefore(s,i),i=s;return this},wt.sort=function(e){e=kt.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},wt.on=function(e,t,n){arguments.length<3&&(n=!1);var r="__on"+e,i=e.indexOf(".");return i>0&&(e=e.substring(0,i)),arguments.length<2?(i=this.node()[r])&&i._:this.each(function(i,s){function a(e){var n=d3.event;d3.event=e;try{t.call(o,o.__data__,s)}finally{d3.event=n}}var o=this,u=o[r];u&&(o.removeEventListener(e,u,u.$),delete o[r]),t&&(o.addEventListener(e,o[r]=a,a.$=n),a._=t)})},wt.each=function(e){for(var t=-1,n=this.length;++t<n;)for(var r=this[t],i=-1,s=r.length;++i<s;){var o=r[i];o&&e.call(o,o.__data__,i,t)}return this},wt.call=function(e){return e.apply(this,(arguments[0]=this,arguments)),this},wt.empty=function(){return!this.node()},wt.node=function(e){for(var t=0,n=this.length;t<n;t++)for(var r=this[t],i=0,s=r.length;i<s;i++){var o=r[i];if(o)return o}return null},wt.transition=function(){var e=[],t,n;for(var r=-1,i=this.length;++r<i;){e.push(t=[]);for(var s=this[r],o=-1,u=s.length;++o<u;)t.push((n=s[o])?{node:n,delay:Rt,duration:Ut}:null)}return Mt(e,jt||++Bt,Date.now())};var Lt=dt([[document]]);Lt[0].parentNode=gt,d3.select=function(e){return typeof e=="string"?Lt.select(e):dt([[e]])},d3.selectAll=function(e){return typeof e=="string"?Lt.selectAll(e):dt([i(e)])};var Ot=[];d3.selection.enter=At,d3.selection.enter.prototype=Ot,Ot.append=wt.append,Ot.insert=wt.insert,Ot.empty=wt.empty,Ot.node=wt.node,Ot.select=function(e){var t=[],n,r,i,s,o;for(var u=-1,a=this.length;++u<a;){i=(s=this[u]).update,t.push(n=[]),n.parentNode=s.parentNode;for(var f=-1,l=s.length;++f<l;)(o=s[f])?(n.push(i[f]=r=e.call(s.parentNode,o.__data__,f)),r.__data__=o.__data__):n.push(null)}return dt(t)};var _t={},Ht=[],Bt=0,jt=0,Ft=0,It=250,qt=d3.ease("cubic-in-out"),Rt=Ft,Ut=It,zt=qt;Ht.call=wt.call,d3.transition=function(e){return arguments.length?jt?e.transition():e:Lt.transition()},d3.transition.prototype=Ht,Ht.select=function(e){var t=[],n,r,i;typeof e!="function"&&(e=Et(e));for(var s=-1,o=this.length;++s<o;){t.push(n=[]);for(var u=this[s],a=-1,f=u.length;++a<f;)(i=u[a])&&(r=e.call(i.node,i.node.__data__,a))?("__data__"in i.node&&(r.__data__=i.node.__data__),n.push({node:r,delay:i.delay,duration:i.duration})):n.push(null)}return Mt(t,this.id,this.time).ease(this.ease())},Ht.selectAll=function(e){var t=[],n,r,i;typeof e!="function"&&(e=St(e));for(var s=-1,o=this.length;++s<o;)for(var u=this[s],a=-1,f=u.length;++a<f;)if(i=u[a]){r=e.call(i.node,i.node.__data__,a),t.push(n=[]);for(var l=-1,c=r.length;++l<c;)n.push({node:r[l],delay:i.delay,duration:i.duration})}return Mt(t,this.id,this.time).ease(this.ease())},Ht.attr=function(e,t){return this.attrTween(e,Pt(e,t))},Ht.attrTween=function(e,t){function r(e,r){var i=t.call(this,e,r,this.getAttribute(n));return i===_t?(this.removeAttribute(n),null):i&&function(e){this.setAttribute(n,i(e))}}function i(e,r){var i=t.call(this,e,r,this.getAttributeNS(n.space,n.local));return i===_t?(this.removeAttributeNS(n.space,n.local),null):i&&function(e){this.setAttributeNS(n.space,n.local,i(e))}}var n=d3.ns.qualify(e);return this.tween("attr."+e,n.local?i:r)},Ht.style=function(e,t,n){return arguments.length<3&&(n=""),this.styleTween(e,Pt(e,t),n)},Ht.styleTween=function(e,t,n){return arguments.length<3&&(n=""),this.tween("style."+e,function(r,i){var s=t.call(this,r,i,window.getComputedStyle(this,null).getPropertyValue(e));return s===_t?(this.style.removeProperty(e),null):s&&function(t){this.style.setProperty(e,s(t),n)}})},Ht.text=function(e){return this.tween("text",function(t,n){this.textContent=typeof e=="function"?e.call(this,t,n):e})},Ht.remove=function(){return this.each("end.transition",function(){var e;!this.__transition__&&(e=this.parentNode)&&e.removeChild(this)})},Ht.delay=function(e){var t=this;return t.each(typeof e=="function"?function(n,r,i){t[i][r].delay=e.apply(this,arguments)|0}:(e|=0,function(n,r,i){t[i][r].delay=e}))},Ht.duration=function(e){var t=this;return t.each(typeof e=="function"?function(n,r,i){t[i][r].duration=Math.max(1,e.apply(this,arguments)|0)}:(e=Math.max(1,e|0),function(n,r,i){t[i][r].duration=e}))},Ht.transition=function(){return this.select(p)};var Xt=null,Vt,$t;d3.timer=function(e,t,n){var r=!1,i,s=Xt;if(arguments.length<3){if(arguments.length<2)t=0;else if(!isFinite(t))return;n=Date.now()}while(s){if(s.callback===e){s.then=n,s.delay=t,r=!0;break}i=s,s=s.next}r||(Xt={callback:e,then:n,delay:t,next:Xt}),Vt||($t=clearTimeout($t),Vt=1,Qt(Jt))},d3.timer.flush=function(){var e,t=Date.now(),n=Xt;while(n)e=t-n.then,n.delay||(n.flush=n.callback(e)),n=n.next;Kt()};var Qt=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,17)};d3.transform=function(e){var t=document.createElementNS(d3.ns.prefix.svg,"g"),n={a:1,b:0,c:0,d:1,e:0,f:0};return(d3.transform=function(e){t.setAttribute("transform",e);var r=t.transform.baseVal.consolidate();return new Gt(r?r.matrix:n)})(e)},Gt.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var tn=180/Math.PI;d3.mouse=function(e){return rn(e,Y())};var nn=/WebKit/.test(navigator.userAgent)?-1:0;d3.touches=function(e,t){return arguments.length<2&&(t=Y().touches),t?i(t).map(function(t){var n=rn(e,t);return n.identifier=t.identifier,n}):[]},d3.scale={},d3.scale.linear=function(){return ln([0,1],[0,1],d3.interpolate,!1)},d3.scale.log=function(){return yn(d3.scale.linear(),wn)};var bn=d3.format(".0e");wn.pow=function(e){return Math.pow(10,e)},En.pow=function(e){return-Math.pow(10,-e)},d3.scale.pow=function(){return Sn(d3.scale.linear(),1)},d3.scale.sqrt=function(){return d3.scale.pow().exponent(.5)},d3.scale.ordinal=function(){return Tn([],{t:"range",x:[]})},d3.scale.category10=function(){return d3.scale.ordinal().range(Nn)},d3.scale.category20=function(){return d3.scale.ordinal().range(Cn)},d3.scale.category20b=function(){return d3.scale.ordinal().range(kn)},d3.scale.category20c=function(){return d3.scale.ordinal().range(Ln)};var Nn=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],Cn=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],kn=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],Ln=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];d3.scale.quantile=function(){return An([],[])},d3.scale.quantize=function(){return On(0,1,[0,1])},d3.scale.identity=function(){return Mn([0,1])},d3.svg={},d3.svg.arc=function(){function i(){var i=e.apply(this,arguments),s=t.apply(this,arguments),o=n.apply(this,arguments)+_n,u=r.apply(this,arguments)+_n,a=(u<o&&(a=o,o=u,u=a),u-o),f=a<Math.PI?"0":"1",l=Math.cos(o),c=Math.sin(o),h=Math.cos(u),p=Math.sin(u);return a>=Dn?i?"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+ -s+"A"+s+","+s+" 0 1,1 0,"+s+"M0,"+i+"A"+i+","+i+" 0 1,0 0,"+ -i+"A"+i+","+i+" 0 1,0 0,"+i+"Z":"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+ -s+"A"+s+","+s+" 0 1,1 0,"+s+"Z":i?"M"+s*l+","+s*c+"A"+s+","+s+" 0 "+f+",1 "+s*h+","+s*p+"L"+i*h+","+i*p+"A"+i+","+i+" 0 "+f+",0 "+i*l+","+i*c+"Z":"M"+s*l+","+s*c+"A"+s+","+s+" 0 "+f+",1 "+s*h+","+s*p+"L0,0"+"Z"}var e=Pn,t=Hn,n=Bn,r=jn;return i.innerRadius=function(t){return arguments.length?(e=m(t),i):e},i.outerRadius=function(e){return arguments.length?(t=m(e),i):t},i.startAngle=function(e){return arguments.length?(n=m(e),i):n},i.endAngle=function(e){return arguments.length?(r=m(e),i):r},i.centroid=function(){var i=(e.apply(this,arguments)+t.apply(this,arguments))/2,s=(n.apply(this,arguments)+r.apply(this,arguments))/2+_n;return[Math.cos(s)*i,Math.sin(s)*i]},i};var _n=-Math.PI/2,Dn=2*Math.PI-1e-6;d3.svg.line=function(){return Fn(h)};var Rn="linear",Un=d3.map({linear:zn,"step-before":Wn,"step-after":Xn,basis:Gn,"basis-open":Yn,"basis-closed":Zn,bundle:er,cardinal:Jn,"cardinal-open":Vn,"cardinal-closed":$n,monotone:fr}),nr=[0,2/3,1/3,0],rr=[0,1/3,2/3,0],ir=[0,1/6,2/3,1/6];d3.svg.line.radial=function(){var e=Fn(lr);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Wn.reverse=Xn,Xn.reverse=Wn,d3.svg.area=function(){return cr(Object)},d3.svg.area.radial=function(){var e=cr(lr);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},d3.svg.chord=function(){function s(n,r){var i=o(this,e,n,r),s=o(this,t,n,r);return"M"+i.p0+a(i.r,i.p1,i.a1-i.a0)+(u(i,s)?f(i.r,i.p1,i.r,i.p0):f(i.r,i.p1,s.r,s.p0)+a(s.r,s.p1,s.a1-s.a0)+f(s.r,s.p1,i.r,i.p0))+"Z"}function o(e,t,s,o){var u=t.call(e,s,o),a=n.call(e,u,o),f=r.call(e,u,o)+_n,l=i.call(e,u,o)+_n;return{r:a,a0:f,a1:l,p0:[a*Math.cos(f),a*Math.sin(f)],p1:[a*Math.cos(l),a*Math.sin(l)]}}function u(e,t){return e.a0==t.a0&&e.a1==t.a1}function a(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Math.PI)+",1 "+t}function f(e,t,n,r){return"Q 0,0 "+r}var e=hr,t=pr,n=dr,r=Bn,i=jn;return s.radius=function(e){return arguments.length?(n=m(e),s):n},s.source=function(t){return arguments.length?(e=m(t),s):e},s.target=function(e){return arguments.length?(t=m(e),s):t},s.startAngle=function(e){return arguments.length?(r=m(e),s):r},s.endAngle=function(e){return arguments.length?(i=m(e),s):i},s},d3.svg.diagonal=function(){function r(r,i){var s=e.call(this,r,i),o=t.call(this,r,i),u=(s.y+o.y)/2,a=[s,{x:s.x,y:u},{x:o.x,y:u},o];return a=a.map(n),"M"+a[0]+"C"+a[1]+" "+a[2]+" "+a[3]}var e=hr,t=pr,n=gr;return r.source=function(t){return arguments.length?(e=m(t),r):e},r.target=function(e){return arguments.length?(t=m(e),r):t},r.projection=function(e){return arguments.length?(n=e,r):n},r},d3.svg.diagonal.radial=function(){var e=d3.svg.diagonal(),t=gr,n=e.projection;return e.projection=function(e){return arguments.length?n(yr(t=e)):t},e},d3.svg.mouse=d3.mouse,d3.svg.touches=d3.touches,d3.svg.symbol=function(){function n(n,r){return(Sr.get(e.call(this,n,r))||Er)(t.call(this,n,r))}var e=wr,t=br;return n.type=function(t){return arguments.length?(e=m(t),n):e},n.size=function(e){return arguments.length?(t=m(e),n):t},n};var Sr=d3.map({circle:Er,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+ -3*t+","+ -t+"H"+ -t+"V"+ -3*t+"H"+t+"V"+ -t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+ -t+"V"+t+"H"+ -3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Tr)),n=t*Tr;return"M0,"+ -t+"L"+n+",0"+" 0,"+t+" "+ -n+",0"+"Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+ -t+","+ -t+"L"+t+","+ -t+" "+t+","+t+" "+ -t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/xr),n=t*xr/2;return"M0,"+n+"L"+t+","+ -n+" "+ -t+","+ -n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/xr),n=t*xr/2;return"M0,"+ -n+"L"+t+","+n+" "+ -t+","+n+"Z"}});d3.svg.symbolTypes=Sr.keys();var xr=Math.sqrt(3),Tr=Math.tan(30*Math.PI/180);d3.svg.axis=function(){function l(l){l.each(function(){var l=d3.select(this),c=u==null?e.ticks?e.ticks.apply(e,o):e.domain():u,h=a==null?e.tickFormat?e.tickFormat.apply(e,o):String:a,p=kr(e,c,f),d=l.selectAll(".minor").data(p,String),v=d.enter().insert("line","g").attr("class","tick minor").style("opacity",1e-6),m=d3.transition(d.exit()).style("opacity",1e-6).remove(),g=d3.transition(d).style("opacity",1),y=l.selectAll("g").data(c,String),b=y.enter().insert("g","path").style("opacity",1e-6),w=d3.transition(y.exit()).style("opacity",1e-6).remove(),E=d3.transition(y).style("opacity",1),S,x=un(e),T=l.selectAll(".domain").data([0]),N=T.enter().append("path").attr("class","domain"),C=d3.transition(T),k=e.copy(),L=this.__chart__||k;this.__chart__=k,b.append("line").attr("class","tick"),b.append("text"),E.select("text").text(h);switch(t){case"bottom":S=Nr,v.attr("y2",r),g.attr("x2",0).attr("y2",r),b.select("line").attr("y2",n),b.select("text").attr("y",Math.max(n,0)+s),E.select("line").attr("x2",0).attr("y2",n),E.select("text").attr("x",0).attr("y",Math.max(n,0)+s).attr("dy",".71em").attr("text-anchor","middle"),C.attr("d","M"+x[0]+","+i+"V0H"+x[1]+"V"+i);break;case"top":S=Nr,v.attr("y2",-r),g.attr("x2",0).attr("y2",-r),b.select("line").attr("y2",-n),b.select("text").attr("y",-(Math.max(n,0)+s)),E.select("line").attr("x2",0).attr("y2",-n),E.select("text").attr("x",0).attr("y",-(Math.max(n,0)+s)).attr("dy","0em").attr("text-anchor","middle"),C.attr("d","M"+x[0]+","+ -i+"V0H"+x[1]+"V"+ -i);break;case"left":S=Cr,v.attr("x2",-r),g.attr("x2",-r).attr("y2",0),b.select("line").attr("x2",-n),b.select("text").attr("x",-(Math.max(n,0)+s)),E.select("line").attr("x2",-n).attr("y2",0),E.select("text").attr("x",-(Math.max(n,0)+s)).attr("y",0).attr("dy",".32em").attr("text-anchor","end"),C.attr("d","M"+ -i+","+x[0]+"H0V"+x[1]+"H"+ -i);break;case"right":S=Cr,v.attr("x2",r),g.attr("x2",r).attr("y2",0),b.select("line").attr("x2",n),b.select("text").attr("x",Math.max(n,0)+s),E.select("line").attr("x2",n).attr("y2",0),E.select("text").attr("x",Math.max(n,0)+s).attr("y",0).attr("dy",".32em").attr("text-anchor","start"),C.attr("d","M"+i+","+x[0]+"H0V"+x[1]+"H"+i)}if(e.ticks)b.call(S,L),E.call(S,k),w.call(S,k),v.call(S,L),g.call(S,k),m.call(S,k);else{var A=k.rangeBand()/2,O=function(e){return k(e)+A};b.call(S,O),E.call(S,O)}})}var e=d3.scale.linear(),t="bottom",n=6,r=6,i=6,s=3,o=[10],u=null,a,f=0;return l.scale=function(t){return arguments.length?(e=t,l):e},l.orient=function(e){return arguments.length?(t=e,l):t},l.ticks=function(){return arguments.length?(o=arguments,l):o},l.tickValues=function(e){return arguments.length?(u=e,l):u},l.tickFormat=function(e){return arguments.length?(a=e,l):a},l.tickSize=function(e,t,s){if(!arguments.length)return n;var o=arguments.length-1;return n=+e,r=o>1?+t:n,i=o>0?+arguments[o]:n,l},l.tickPadding=function(e){return arguments.length?(s=+e,l):s},l.tickSubdivide=function(e){return arguments.length?(f=+e,l):f},l},d3.svg.brush=function(){function o(e){e.each(function(){var e=d3.select(this),i=e.selectAll(".background").data([0]),s=e.selectAll(".extent").data([0]),c=e.selectAll(".resize").data(r,String),h;e.style("pointer-events","all").on("mousedown.brush",l).on("touchstart.brush",l),i.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),s.enter().append("rect").attr("class","extent").style("cursor","move"),c.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Lr[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),c.style("display",o.empty()?"none":null),c.exit().remove(),t&&(h=un(t),i.attr("x",h[0]).attr("width",h[1]-h[0]),a(e)),n&&(h=un(n),i.attr("y",h[0]).attr("height",h[1]-h[0]),f(e)),u(e)})}function u(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+i[+/e$/.test(e)][0]+","+i[+/^s/.test(e)][1]+")"})}function a(e){e.select(".extent").attr("x",i[0][0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",i[1][0]-i[0][0])}function f(e){e.select(".extent").attr("y",i[0][1]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",i[1][1]-i[0][1])}function l(){function x(){var e=d3.event.changedTouches;return e?d3.touches(r,e)[0]:d3.mouse(r)}function T(){d3.event.keyCode==32&&(m||(g=null,y[0]-=i[1][0],y[1]-=i[1][1],m=2),G())}function N(){d3.event.keyCode==32&&m==2&&(y[0]+=i[1][0],y[1]+=i[1][1],m=0,G())}function C(){var e=x(),r=!1;b&&(e[0]+=b[0],e[1]+=b[1]),m||(d3.event.altKey?(g||(g=[(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]),y[0]=i[+(e[0]<g[0])][0],y[1]=i[+(e[1]<g[1])][1]):g=null),d&&k(e,t,0)&&(a(h),r=!0),v&&k(e,n,1)&&(f(h),r=!0),r&&(u(h),c({type:"brush",mode:m?"move":"resize"}))}function k(e,t,n){var r=un(t),o=r[0],u=r[1],a=y[n],f=i[1][n]-i[0][n],l,c;m&&(o-=a,u-=f+a),l=Math.max(o,Math.min(u,e[n])),m?c=(l+=a)+f:(g&&(a=Math.max(o,Math.min(u,2*g[n]-l))),a<l?(c=l,l=a):c=a);if(i[0][n]!==l||i[1][n]!==c)return s=null,i[0][n]=l,i[1][n]=c,!0}function L(){C(),h.style("pointer-events","all").selectAll(".resize").style("display",o.empty()?"none":null),d3.select("body").style("cursor",null),w.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),c({type:"brushend"}),G()}var r=this,l=d3.select(d3.event.target),c=e.of(r,arguments),h=d3.select(r),p=l.datum(),d=!/^(n|s)$/.test(p)&&t,v=!/^(e|w)$/.test(p)&&n,m=l.classed("extent"),g,y=x(),b,w=d3.select(window).on("mousemove.brush",C).on("mouseup.brush",L).on("touchmove.brush",C).on("touchend.brush",L).on("keydown.brush",T).on("keyup.brush",N);if(m)y[0]=i[0][0]-y[0],y[1]=i[0][1]-y[1];else if(p){var E=+/w$/.test(p),S=+/^n/.test(p);b=[i[1-E][0]-y[0],i[1-S][1]-y[1]],y[0]=i[E][0],y[1]=i[S][1]}else d3.event.altKey&&(g=y.slice());h.style("pointer-events","none").selectAll(".resize").style("display",null),d3.select("body").style("cursor",l.style("cursor")),c({type:"brushstart"}),C(),G()}var e=Z(o,"brushstart","brush","brushend"),t=null,n=null,r=Ar[0],i=[[0,0],[0,0]],s;return o.x=function(e){return arguments.length?(t=e,r=Ar[!t<<1|!n],o):t},o.y=function(e){return arguments.length?(n=e,r=Ar[!t<<1|!n],o):n},o.extent=function(e){var r,u,a,f,l;return arguments.length?(s=[[0,0],[0,0]],t&&(r=e[0],u=e[1],n&&(r=r[0],u=u[0]),s[0][0]=r,s[1][0]=u,t.invert&&(r=t(r),u=t(u)),u<r&&(l=r,r=u,u=l),i[0][0]=r|0,i[1][0]=u|0),n&&(a=e[0],f=e[1],t&&(a=a[1],f=f[1]),s[0][1]=a,s[1][1]=f,n.invert&&(a=n(a),f=n(f)),f<a&&(l=a,a=f,f=l),i[0][1]=a|0,i[1][1]=f|0),o):(e=s||i,t&&(r=e[0][0],u=e[1][0],s||(r=i[0][0],u=i[1][0],t.invert&&(r=t.invert(r),u=t.invert(u)),u<r&&(l=r,r=u,u=l))),n&&(a=e[0][1],f=e[1][1],s||(a=i[0][1],f=i[1][1],n.invert&&(a=n.invert(a),f=n.invert(f)),f<a&&(l=a,a=f,f=l))),t&&n?[[r,a],[u,f]]:t?[r,u]:n&&[a,f])},o.clear=function(){return s=null,i[0][0]=i[0][1]=i[1][0]=i[1][1]=0,o},o.empty=function(){return t&&i[0][0]===i[1][0]||n&&i[0][1]===i[1][1]},d3.rebind(o,e,"on")};var Lr={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ar=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];d3.behavior={},d3.behavior.drag=function(){function n(){this.on("mousedown.drag",r).on("touchstart.drag",r)}function r(){function f(){var e=n.parentNode,t=d3.event.changedTouches;return t?d3.touches(e,t)[0]:d3.mouse(e)}function l(){if(!n.parentNode)return c();var e=f(),t=e[0]-o[0],i=e[1]-o[1];u|=t|i,o=e,G(),r({type:"drag",x:e[0]+s[0],y:e[1]+s[1],dx:t,dy:i})}function c(){r({type:"dragend"}),u&&(G(),d3.event.target===i&&a.on("click.drag",h,!0)),a.on("mousemove.drag",null).on("touchmove.drag",null).on("mouseup.drag",null).on("touchend.drag",null)}function h(){G(),a.on("click.drag",null)}var n=this,r=e.of(n,arguments),i=d3.event.target,s,o=f(),u=0,a=d3.select(window).on("mousemove.drag",l).on("touchmove.drag",l).on("mouseup.drag",c,!0).on("touchend.drag",c,!0);t?(s=t.apply(n,arguments),s=[s.x-o[0],s.y-o[1]]):s=[0,0],G(),r({type:"dragstart"})}var e=Z(n,"drag","dragstart","dragend"),t=null;return n.origin=function(e){return arguments.length?(t=e,n):t},d3.rebind(n,e,"on")},d3.behavior.zoom=function(){function c(){this.on("mousedown.zoom",g).on("mousewheel.zoom",y).on("mousemove.zoom",b).on("DOMMouseScroll.zoom",y).on("dblclick.zoom",w).on("touchstart.zoom",E).on("touchmove.zoom",S).on("touchend.zoom",E)}function h(t){return[(t[0]-e[0])/n,(t[1]-e[1])/n]}function p(t){return[t[0]*n+e[0],t[1]*n+e[1]]}function d(e){n=Math.max(i[0],Math.min(i[1],e))}function v(t,n){n=p(n),e[0]+=t[0]-n[0],e[1]+=t[1]-n[1]}function m(t){u&&u.domain(o.range().map(function(t){return(t-e[0])/n}).map(o.invert)),f&&f.domain(a.range().map(function(t){return(t-e[1])/n}).map(a.invert)),d3.event.preventDefault(),t({type:"zoom",scale:n,translate:e})}function g(){function u(){r=1,v(d3.mouse(e),o),m(t)}function a(){r&&G(),i.on("mousemove.zoom",null).on("mouseup.zoom",null),r&&d3.event.target===n&&i.on("click.zoom",f,!0)}function f(){G(),i.on("click.zoom",null)}var e=this,t=s.of(e,arguments),n=d3.event.target,r=0,i=d3.select(window).on("mousemove.zoom",u).on("mouseup.zoom",a),o=h(d3.mouse(e));window.focus(),G()}function y(){t||(t=h(d3.mouse(this))),d(Math.pow(2,_r()*.002)*n),v(d3.mouse(this),t),m(s.of(this,arguments))}function b(){t=null}function w(){var e=d3.mouse(this),t=h(e);d(d3.event.shiftKey?n/2:n*2),v(e,t),m(s.of(this,arguments))}function E(){var e=d3.touches(this),i=Date.now();r=n,t={},e.forEach(function(e){t[e.identifier]=h(e)}),G();if(e.length===1&&i-l<500){var o=e[0],u=h(e[0]);d(n*2),v(o,u),m(s.of(this,arguments))}l=i}function S(){var e=d3.touches(this),n=e[0],i=t[n.identifier];if(o=e[1]){var o,u=t[o.identifier];n=[(n[0]+o[0])/2,(n[1]+o[1])/2],i=[(i[0]+u[0])/2,(i[1]+u[1])/2],d(d3.event.scale*r)}v(n,i),m(s.of(this,arguments))}var e=[0,0],t,n=1,r,i=Mr,s=Z(c,"zoom"),o,u,a,f,l;return c.translate=function(t){return arguments.length?(e=t.map(Number),c):e},c.scale=function(e){return arguments.length?(n=+e,c):n},c.scaleExtent=function(e){return arguments.length?(i=e==null?Mr:e.map(Number),c):i},c.x=function(e){return arguments.length?(u=e,o=e.copy(),c):u},c.y=function(e){return arguments.length?(f=e,a=e.copy(),c):f},d3.rebind(c,s,"on")};var Or,Mr=[0,Infinity];d3.layout={},d3.layout.bundle=function(){return function(e){var t=[],n=-1,r=e.length;while(++n<r)t.push(Dr(e[n]));return t}},d3.layout.chord=function(){function f(){var e={},f=[],c=d3.range(i),h=[],p,d,v,m,g;t=[],n=[],p=0,m=-1;while(++m<i){d=0,g=-1;while(++g<i)d+=r[m][g];f.push(d),h.push(d3.range(i)),p+=d}o&&c.sort(function(e,t){return o(f[e],f[t])}),u&&h.forEach(function(e,t){e.sort(function(e,n){return u(r[t][e],r[t][n])})}),p=(2*Math.PI-s*i)/p,d=0,m=-1;while(++m<i){v=d,g=-1;while(++g<i){var y=c[m],b=h[y][g],w=r[y][b],E=d,S=d+=w*p;e[y+"-"+b]={index:y,subindex:b,startAngle:E,endAngle:S,value:w}}n[y]={index:y,startAngle:v,endAngle:d,value:(d-v)/p},d+=s}m=-1;while(++m<i){g=m-1;while(++g<i){var x=e[m+"-"+g],T=e[g+"-"+m];(x.value||T.value)&&t.push(x.value<T.value?{source:T,target:x}:{source:x,target:T})}}a&&l()}function l(){t.sort(function(e,t){return a((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var e={},t,n,r,i,s=0,o,u,a;return e.matrix=function(s){return arguments.length?(i=(r=s)&&r.length,t=n=null,e):r},e.padding=function(r){return arguments.length?(s=r,t=n=null,e):s},e.sortGroups=function(r){return arguments.length?(o=r,t=n=null,e):o},e.sortSubgroups=function(n){return arguments.length?(u=n,t=null,e):u},e.sortChords=function(n){return arguments.length?(a=n,t&&l(),e):a},e.chords=function(){return t||f(),t},e.groups=function(){return n||f(),n},e},d3.layout.force=function(){function b(e){return function(t,n,r,i,s){if(t.point!==e){var o=t.cx-e.x,u=t.cy-e.y,a=1/Math.sqrt(o*o+u*u);if((i-n)*a<l){var f=t.charge*a*a;return e.px-=o*f,e.py-=u*f,!0}if(t.point&&isFinite(a)){var f=t.pointCharge*a*a;e.px-=o*f,e.py-=u*f}}return!t.charge}}function w(t){Fr(jr=t),Br=e}var e={},t=d3.dispatch("start","tick","end"),n=[1,1],r,i,s=.9,o=zr,u=Wr,a=-30,f=.1,l=.8,c,p=[],d=[],v,g,y;return e.tick=function(){if((i*=.99)<.005)return t.end({type:"end",alpha:i=0}),!0;var e=p.length,r=d.length,o,u,l,c,h,m,w,E,S;for(u=0;u<r;++u){l=d[u],c=l.source,h=l.target,E=h.x-c.x,S=h.y-c.y;if(m=E*E+S*S)m=i*g[u]*((m=Math.sqrt(m))-v[u])/m,E*=m,S*=m,h.x-=E*(w=c.weight/(h.weight+c.weight)),h.y-=S*w,c.x+=E*(w=1-w),c.y+=S*w}if(w=i*f){E=n[0]/2,S=n[1]/2,u=-1;if(w)while(++u<e)l=p[u],l.x+=(E-l.x)*w,l.y+=(S-l.y)*w}if(a){Ur(o=d3.geom.quadtree(p),i,y),u=-1;while(++u<e)(l=p[u]).fixed||o.visit(b(l))}u=-1;while(++u<e)l=p[u],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*s,l.y-=(l.py-(l.py=l.y))*s);t.tick({type:"tick",alpha:i})},e.nodes=function(t){return arguments.length?(p=t,e):p},e.links=function(t){return arguments.length?(d=t,e):d},e.size=function(t){return arguments.length?(n=t,e):n},e.linkDistance=function(t){return arguments.length?(o=m(t),e):o},e.distance=e.linkDistance,e.linkStrength=function(t){return arguments.length?(u=m(t),e):u},e.friction=function(t){return arguments.length?(s=t,e):s},e.charge=function(t){return arguments.length?(a=typeof t=="function"?t:+t,e):a},e.gravity=function(t){return arguments.length?(f=t,e):f},e.theta=function(t){return arguments.length?(l=t,e):l},e.alpha=function(n){return arguments.length?(i?n>0?i=n:i=0:n>0&&(t.start({type:"start",alpha:i=n}),d3.timer(e.tick)),e):i},e.start=function(){function m(e,n){var r=b(t),i=-1,s=r.length,o;while(++i<s)if(!isNaN(o=r[i][e]))return o;return Math.random()*n}function b(){if(!c){c=[];for(r=0;r<i;++r)c[r]=[];for(r=0;r<s;++r){var e=d[r];c[e.source.index].push(e.target),c[e.target.index].push(e.source)}}return c[t]}var t,r,i=p.length,s=d.length,f=n[0],l=n[1],c,h;for(t=0;t<i;++t)(h=p[t]).index=t,h.weight=0;v=[],g=[];for(t=0;t<s;++t)h=d[t],typeof h.source=="number"&&(h.source=p[h.source]),typeof h.target=="number"&&(h.target=p[h.target]),v[t]=o.call(this,h,t),g[t]=u.call(this,h,t),++h.source.weight,++h.target.weight;for(t=0;t<i;++t)h=p[t],isNaN(h.x)&&(h.x=m("x",f)),isNaN(h.y)&&(h.y=m("y",l)),isNaN(h.px)&&(h.px=h.x),isNaN(h.py)&&(h.py=h.y);y=[];if(typeof a=="function")for(t=0;t<i;++t)y[t]=+a.call(this,p[t],t);else for(t=0;t<i;++t)y[t]=a;return e.resume()},e.resume=function(){return e.alpha(.1)},e.stop=function(){return e.alpha(0)},e.drag=function(){r||(r=d3.behavior.drag().origin(h).on("dragstart",w).on("drag",Rr).on("dragend",qr)),this.on("mouseover.force",Fr).on("mouseout.force",Ir).call(r)},d3.rebind(e,t,"on")};var Br,jr;d3.layout.partition=function(){function n(e,t,r,i){var s=e.children;e.x=t,e.y=e.depth*i,e.dx=r,e.dy=i;if(s&&(u=s.length)){var o=-1,u,a,f;r=e.value?r/e.value:0;while(++o<u)n(a=s[o],t,f=a.value*r,i),t+=f}}function r(e){var t=e.children,n=0;if(t&&(s=t.length)){var i=-1,s;while(++i<s)n=Math.max(n,r(t[i]))}return 1+n}function i(i,s){var o=e.call(this,i,s);return n(o[0],0,t[0],t[1]/r(o[0])),o}var e=d3.layout.hierarchy(),t=[1,1];return i.size=function(e){return arguments.length?(t=e,i):t},si(i,e)},d3.layout.pie=function(){function i(s,o){var u=s.map(function(t,n){return+e.call(i,t,n)}),a=+(typeof n=="function"?n.apply(this,arguments):n),f=((typeof r=="function"?r.apply(this,arguments):r)-n)/d3.sum(u),l=d3.range(s.length);t!=null&&l.sort(t===Xr?function(e,t){return u[t]-u[e]}:function(e,n){return t(s[e],s[n])});var c=[];return l.forEach(function(e){c[e]={data:s[e],value:d=u[e],startAngle:a,endAngle:a+=d*f}}),c}var e=Number,t=Xr,n=0,r=2*Math.PI;return i.value=function(t){return arguments.length?(e=t,i):e},i.sort=function(e){return arguments.length?(t=e,i):t},i.startAngle=function(e){return arguments.length?(n=e,i):n},i.endAngle=function(e){return arguments.length?(r=e,i):r},i};var Xr={};d3.layout.stack=function(){function o(u,a){var f=u.map(function(t,n){return e.call(o,t,n)}),l=f.map(function(e,t){return e.map(function(e,t){return[i.call(o,e,t),s.call(o,e,t)]})}),c=t.call(o,l,a);f=d3.permute(f,c),l=d3.permute(l,c);var h=n.call(o,l,a),p=f.length,d=f[0].length,v,m,g;for(m=0;m<d;++m){r.call(o,f[0][m],g=h[m],l[0][m][1]);for(v=1;v<p;++v)r.call(o,f[v][m],g+=l[v-1][m][1],l[v][m][1])}return u}var e=h,t=Gr,n=Yr,r=Jr,i=Vr,s=$r;return o.values=function(t){return arguments.length?(e=t,o):e},o.order=function(e){return arguments.length?(t=typeof e=="function"?e:Kr.get(e)||Gr,o):t},o.offset=function(e){return arguments.length?(n=typeof e=="function"?e:Qr.get(e)||Yr,o):n},o.x=function(e){return arguments.length?(i=e,o):i},o.y=function(e){return arguments.length?(s=e,o):s},o.out=function(e){return arguments.length?(r=e,o):r},o};var Kr=d3.map({"inside-out":function(e){var t=e.length,n,r,i=e.map(Zr),s=e.map(ei),o=d3.range(t).sort(function(e,t){return i[e]-i[t]}),u=0,a=0,f=[],l=[];for(n=0;n<t;++n)r=o[n],u<a?(u+=s[r],f.push(r)):(a+=s[r],l.push(r));return l.reverse().concat(f)},reverse:function(e){return d3.range(e.length).reverse()},"default":Gr}),Qr=d3.map({silhouette:function(e){var t=e.length,n=e[0].length,r=[],i=0,s,o,u,a=[];for(o=0;o<n;++o){for(s=0,u=0;s<t;s++)u+=e[s][o][1];u>i&&(i=u),r.push(u)}for(o=0;o<n;++o)a[o]=(i-r[o])/2;return a},wiggle:function(e){var t=e.length,n=e[0],r=n.length,i=0,s,o,u,a,f,l,c,h,p,d=[];d[0]=h=p=0;for(o=1;o<r;++o){for(s=0,a=0;s<t;++s)a+=e[s][o][1];for(s=0,f=0,c=n[o][0]-n[o-1][0];s<t;++s){for(u=0,l=(e[s][o][1]-e[s][o-1][1])/(2*c);u<s;++u)l+=(e[u][o][1]-e[u][o-1][1])/c;f+=l*e[s][o][1]}d[o]=h-=a?f/a*c:0,h<p&&(p=h)}for(o=0;o<r;++o)d[o]-=p;return d},expand:function(e){var t=e.length,n=e[0].length,r=1/t,i,s,o,u=[];for(s=0;s<n;++s){for(i=0,o=0;i<t;i++)o+=e[i][s][1];if(o)for(i=0;i<t;i++)e[i][s][1]/=o;else for(i=0;i<t;i++)e[i][s][1]=r}for(s=0;s<n;++s)u[s]=0;return u},zero:Yr});d3.layout.histogram=function(){function i(i,s){var o=[],u=i.map(t,this),a=n.call(this,u,s),f=r.call(this,a,u,s),l,s=-1,c=u.length,h=f.length-1,p=e?1:1/c,d;while(++s<h)l=o[s]=[],l.dx=f[s+1]-(l.x=f[s]),l.y=0;if(h>0){s=-1;while(++s<c)d=u[s],d>=a[0]&&d<=a[1]&&(l=o[d3.bisect(f,d,1,h)-1],l.y+=p,l.push(i[s]))}return o}var e=!0,t=Number,n=ii,r=ni;return i.value=function(e){return arguments.length?(t=e,i):t},i.range=function(e){return arguments.length?(n=m(e),i):n},i.bins=function(e){return arguments.length?(r=typeof e=="number"?function(t){return ri(t,e)}:m(e),i):r},i.frequency=function(t){return arguments.length?(e=!!t,i):e},i},d3.layout.hierarchy=function(){function r(i,o,u){var a=t.call(s,i,o),f=li?i:{data:i};f.depth=o,u.push(f);if(a&&(c=a.length)){var l=-1,c,h=f.children=[],p=0,v=o+1;while(++l<c)d=r(a[l],v,u),d.parent=f,h.push(d),p+=d.value;e&&h.sort(e),n&&(f.value=p)}else n&&(f.value=+n.call(s,i,o)||0);return f}function i(e,t){var r=e.children,o=0;if(r&&(a=r.length)){var u=-1,a,f=t+1;while(++u<a)o+=i(r[u],f)}else n&&(o=+n.call(s,li?e:e.data,t)||0);return n&&(e.value=o),o}function s(e){var t=[];return r(e,0,t),t}var e=ai,t=oi,n=ui;return s.sort=function(t){return arguments.length?(e=t,s):e},s.children=function(e){return arguments.length?(t=e,s):t},s.value=function(e){return arguments.length?(n=e,s):n},s.revalue=function(e){return i(e,0),e},s};var li=!1;d3.layout.pack=function(){function n(n,r){var i=e.call(this,n,r),s=i[0];s.x=0,s.y=0,yi(s);var o=t[0],u=t[1],a=1/Math.max(2*s.r/o,2*s.r/u);return bi(s,o/2,u/2,a),i}var e=d3.layout.hierarchy().sort(ci),t=[1,1];return n.size=function(e){return arguments.length?(t=e,n):t},si(n,e)},d3.layout.cluster=function(){function r(r,i){var s=e.call(this,r,i),o=s[0],u,a=0,f,l;_i(o,function(e){var n=e.children;n&&n.length?(e.x=Si(n),e.y=Ei(n)):(e.x=u?a+=t(e,u):0,e.y=0,u=e)});var c=xi(o),h=Ti(o),p=c.x-t(c,h)/2,d=h.x+t(h,c)/2;return _i(o,function(e){e.x=(e.x-p)/(d-p)*n[0],e.y=(1-(o.y?e.y/o.y:1))*n[1]}),s}var e=d3.layout.hierarchy().sort(null).value(null),t=Ni,n=[1,1];return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(e){return arguments.length?(n=e,r):n},si(r,e)},d3.layout.tree=function(){function r(r,i){function u(e,n){var r=e.children,i=e._tree;if(r&&(s=r.length)){var s,o=r[0],a,l=o,c,h=-1;while(++h<s)c=r[h],u(c,a),l=f(c,a,l),a=c;Di(e);var p=.5*(o._tree.prelim+c._tree.prelim);n?(i.prelim=n._tree.prelim+t(e,n),i.mod=i.prelim-p):i.prelim=p}else n&&(i.prelim=n._tree.prelim+t(e,n))}function a(e,t){e.x=e._tree.prelim+t;var n=e.children;if(n&&(i=n.length)){var r=-1,i;t+=e._tree.mod;while(++r<i)a(n[r],t)}}function f(e,n,r){if(n){var i=e,s=e,o=n,u=e.parent.children[0],a=i._tree.mod,f=s._tree.mod,l=o._tree.mod,c=u._tree.mod,h;while(o=ki(o),i=Ci(i),o&&i)u=Ci(u),s=ki(s),s._tree.ancestor=e,h=o._tree.prelim+l-i._tree.prelim-a+t(o,i),h>0&&(Pi(Hi(o,e,r),e,h),a+=h,f+=h),l+=o._tree.mod,a+=i._tree.mod,c+=u._tree.mod,f+=s._tree.mod;o&&!ki(s)&&(s._tree.thread=o,s._tree.mod+=l-f),i&&!Ci(u)&&(u._tree.thread=i,u._tree.mod+=a-c,r=e)}return r}var s=e.call(this,r,i),o=s[0];_i(o,function(e,t){e._tree={ancestor:e,prelim:0,mod:0,change:0,shift:0,number:t?t._tree.number+1:0}}),u(o),a(o,-o._tree.prelim);var l=Li(o,Oi),c=Li(o,Ai),h=Li(o,Mi),p=l.x-t(l,c)/2,d=c.x+t(c,l)/2,v=h.depth||1;return _i(o,function(e){e.x=(e.x-p)/(d-p)*n[0],e.y=e.depth/v*n[1],delete e._tree}),s}var e=d3.layout.hierarchy().sort(null).value(null),t=Ni,n=[1,1];return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(e){return arguments.length?(n=e,r):n},si(r,e)},d3.layout.treemap=function(){function a(e,t){var n=-1,r=e.length,i,s;while(++n<r)s=(i=e[n]).value*(t<0?0:t),i.area=isNaN(s)||s<=0?0:s}function f(e){var t=e.children;if(t&&t.length){var n=i(e),r=[],s=t.slice(),o,u=Infinity,l,p=Math.min(n.dx,n.dy),d;a(s,n.dx*n.dy/e.value),r.area=0;while((d=s.length)>0)r.push(o=s[d-1]),r.area+=o.area,(l=c(r,p))<=u?(s.pop(),u=l):(r.area-=r.pop().area,h(r,p,n,!1),p=Math.min(n.dx,n.dy),r.length=r.area=0,u=Infinity);r.length&&(h(r,p,n,!0),r.length=r.area=0),t.forEach(f)}}function l(e){var t=e.children;if(t&&t.length){var n=i(e),r=t.slice(),s,o=[];a(r,n.dx*n.dy/e.value),o.area=0;while(s=r.pop())o.push(s),o.area+=s.area,s.z!=null&&(h(o,s.z?n.dx:n.dy,n,!r.length),o.length=o.area=0);t.forEach(l)}}function c(e,t){var n=e.area,r,i=0,s=Infinity,o=-1,a=e.length;while(++o<a){if(!(r=e[o].area))continue;r<s&&(s=r),r>i&&(i=r)}return n*=n,t*=t,n?Math.max(t*i*u/n,n/(t*s*u)):Infinity}function h(e,n,r,i){var s=-1,o=e.length,u=r.x,a=r.y,f=n?t(e.area/n):0,l;if(n==r.dx){if(i||f>r.dy)f=r.dy;while(++s<o)l=e[s],l.x=u,l.y=a,l.dy=f,u+=l.dx=Math.min(r.x+r.dx-u,f?t(l.area/f):0);l.z=!0,l.dx+=r.x+r.dx-u,r.y+=f,r.dy-=f}else{if(i||f>r.dx)f=r.dx;while(++s<o)l=e[s],l.x=u,l.y=a,l.dx=f,a+=l.dy=Math.min(r.y+r.dy-a,f?t(l.area/f):0);l.z=!1,l.dy+=r.y+r.dy-a,r.x+=f,r.dx-=f}}function p(t){var r=o||e(t),i=r[0];return i.x=0,i.y=0,i.dx=n[0],i.dy=n[1],o&&e.revalue(i),a([i],i.dx*i.dy/i.value),(o?l:f)(i),s&&(o=r),r}var e=d3.layout.hierarchy(),t=Math.round,n=[1,1],r=null,i=Bi,s=!1,o,u=.5*(1+Math.sqrt(5));return p.size=function(e){return arguments.length?(n=e,p):n},p.padding=function(e){function t(t){var n=e.call(p,t,t.depth);return n==null?Bi(t):ji(t,typeof n=="number"?[n,n,n,n]:n)}function n(t){return ji(t,e)}if(!arguments.length)return r;var s;return i=(r=e)==null?Bi:(s=typeof e)==="function"?t:s==="number"?(e=[e,e,e,e],n):n,p},p.round=function(e){return arguments.length?(t=e?Math.round:Number,p):t!=Number},p.sticky=function(e){return arguments.length?(s=e,o=null,p):s},p.ratio=function(e){return arguments.length?(u=e,p):u},si(p,e)},d3.csv=function(e,t){d3.text(e,"text/csv",function(e){t(e&&d3.csv.parse(e))})},d3.csv.parse=function(e){var t;return d3.csv.parseRows(e,function(e,n){if(n){var r={},i=-1,s=t.length;while(++i<s)r[t[i]]=e[i];return r}return t=e,null})},d3.csv.parseRows=function(e,t){function f(){if(s.lastIndex>=e.length)return r;if(a)return a=!1,n;var t=s.lastIndex;if(e.charCodeAt(t)===34){var i=t;while(i++<e.length)if(e.charCodeAt(i)===34){if(e.charCodeAt(i+1)!==34)break;i++}s.lastIndex=i+2;var o=e.charCodeAt(i+1);return o===13?(a=!0,e.charCodeAt(i+2)===10&&s.lastIndex++):o===10&&(a=!0),e.substring(t+1,i).replace(/""/g,'"')}var u=s.exec(e);return u?(a=u[0].charCodeAt(0)!==44,e.substring(t,u.index)):(s.lastIndex=e.length,e.substring(t))}var n={},r={},i=[],s=/\r\n|[,\r\n]/g,o=0,u,a;s.lastIndex=0;while((u=f())!==r){var l=[];while(u!==n&&u!==r)l.push(u),u=f();if(t&&!(l=t(l,o++)))continue;i.push(l)}return i},d3.csv.format=function(e){return e.map(Fi).join("\n")},d3.geo={};var qi=Math.PI/180;d3.geo.azimuthal=function(){function a(t){var s=t[0]*qi-i,a=t[1]*qi,f=Math.cos(s),l=Math.sin(s),c=Math.cos(a),h=Math.sin(a),p=e!=="orthographic"?u*h+o*c*f:null,d,v=e==="stereographic"?1/(1+p):e==="gnomonic"?1/p:e==="equidistant"?(d=Math.acos(p),d?d/Math.sin(d):0):e==="equalarea"?Math.sqrt(2/(1+p)):1,m=v*c*l,g=v*(u*c*f-o*h);return[n*m+r[0],n*g+r[1]]}var e="orthographic",t,n=200,r=[480,250],i,s,o,u;return a.invert=function(t){var s=(t[0]-r[0])/n,a=(t[1]-r[1])/n,f=Math.sqrt(s*s+a*a),l=e==="stereographic"?2*Math.atan(f):e==="gnomonic"?Math.atan(f):e==="equidistant"?f:e==="equalarea"?2*Math.asin(.5*f):Math.asin(f),c=Math.sin(l),h=Math.cos(l);return[(i+Math.atan2(s*c,f*o*h+a*u*c))/qi,Math.asin(h*u-(f?a*c*o/f:0))/qi]},a.mode=function(t){return arguments.length?(e=t+"",a):e},a.origin=function(e){return arguments.length?(t=e,i=t[0]*qi,s=t[1]*qi,o=Math.cos(s),u=Math.sin(s),a):t},a.scale=function(e){return arguments.length?(n=+e,a):n},a.translate=function(e){return arguments.length?(r=[+e[0],+e[1]],a):r},a.origin([0,0])},d3.geo.albers=function(){function a(e){var t=s*(qi*e[0]-i),a=Math.sqrt(o-2*s*Math.sin(qi*e[1]))/s;return[n*a*Math.sin(t)+r[0],n*(a*Math.cos(t)-u)+r[1]]}function f(){var n=qi*t[0],r=qi*t[1],f=qi*e[1],l=Math.sin(n),c=Math.cos(n);return i=qi*e[0],s=.5*(l+Math.sin(r)),o=c*c+2*s*l,u=Math.sqrt(o-2*s*Math.sin(f))/s,a}var e=[-98,38],t=[29.5,45.5],n=1e3,r=[480,250],i,s,o,u;return a.invert=function(e){var t=(e[0]-r[0])/n,a=(e[1]-r[1])/n,f=u+a,l=Math.atan2(t,f),c=Math.sqrt(t*t+f*f);return[(i+l/s)/qi,Math.asin((o-c*c*s*s)/(2*s))/qi]},a.origin=function(t){return arguments.length?(e=[+t[0],+t[1]],f()):e},a.parallels=function(e){return arguments.length?(t=[+e[0],+e[1]],f()):t},a.scale=function(e){return arguments.length?(n=+e,a):n},a.translate=function(e){return arguments.length?(r=[+e[0],+e[1]],a):r},f()},d3.geo.albersUsa=function(){function i(i){var s=i[0],o=i[1];return(o>50?t:s<-140?n:o<21?r:e)(i)}var e=d3.geo.albers(),t=d3.geo.albers().origin([-160,60]).parallels([55,65]),n=d3.geo.albers().origin([-160,20]).parallels([8,18]),r=d3.geo.albers().origin([-60,10]).parallels([8,18]);return i.scale=function(s){return arguments.length?(e.scale(s),t.scale(s*.6),n.scale(s),r.scale(s*1.5),i.translate(e.translate())):e.scale()},i.translate=function(s){if(!arguments.length)return e.translate();var o=e.scale()/1e3,u=s[0],a=s[1];return e.translate(s),t.translate([u-400*o,a+170*o]),n.translate([u-190*o,a+200*o]),r.translate([u+580*o,a+430*o]),i},i.scale(e.scale())},d3.geo.bonne=function(){function o(o){var u=o[0]*qi-n,a=o[1]*qi-r;if(i){var f=s+i-a,l=u*Math.cos(a)/f;u=f*Math.sin(l),a=f*Math.cos(l)-s}else u*=Math.cos(a),a*=-1;return[e*u+t[0],e*a+t[1]]}var e=200,t=[480,250],n,r,i,s;return o.invert=function(r){var o=(r[0]-t[0])/e,u=(r[1]-t[1])/e;if(i){var a=s+u,f=Math.sqrt(o*o+a*a);u=s+i-f,o=n+f*Math.atan2(o,a)/Math.cos(u)}else u*=-1,o/=Math.cos(u);return[o/qi,u/qi]},o.parallel=function(e){return arguments.length?(s=1/Math.tan(i=e*qi),o):i/qi},o.origin=function(e){return arguments.length?(n=e[0]*qi,r=e[1]*qi,o):[n/qi,r/qi]},o.scale=function(t){return arguments.length?(e=+t,o):e},o.translate=function(e){return arguments.length?(t=[+e[0],+e[1]],o):t},o.origin([0,0]).parallel(45)},d3.geo.equirectangular=function(){function n(n){var r=n[0]/360,i=-n[1]/360;return[e*r+t[0],e*i+t[1]]}var e=500,t=[480,250];return n.invert=function(n){var r=(n[0]-t[0])/e,i=(n[1]-t[1])/e;return[360*r,-360*i]},n.scale=function(t){return arguments.length?(e=+t,n):e},n.translate=function(e){return arguments.length?(t=[+e[0],+e[1]],n):t},n},d3.geo.mercator=function(){function n(n){var r=n[0]/360,i=-(Math.log(Math.tan(Math.PI/4+n[1]*qi/2))/qi)/360;return[e*r+t[0],e*Math.max(-0.5,Math.min(.5,i))+t[1]]}var e=500,t=[480,250];return n.invert=function(n){var r=(n[0]-t[0])/e,i=(n[1]-t[1])/e;return[360*r,2*Math.atan(Math.exp(-360*i*qi))/qi-90]},n.scale=function(t){return arguments.length?(e=+t,n):e},n.translate=function(e){return arguments.length?(t=[+e[0],+e[1]],n):t},n},d3.geo.path=function(){function r(n,r){return typeof e=="function"&&(t=Ui(e.apply(this,arguments))),s(n)||null}function i(e){return n(e).join(",")}function u(e){var t=l(e[0]),n=0,r=e.length;while(++n<r)t-=l(e[n]);return t}function a(e){var t=d3.geom.polygon(e[0].map(n)),r=t.area(),i=t.centroid(r<0?(r*=-1,1):-1),s=i[0],o=i[1],u=r,a=0,f=e.length;while(++a<f)t=d3.geom.polygon(e[a].map(n)),r=t.area(),i=t.centroid(r<0?(r*=-1,1):-1),s-=i[0],o-=i[1],u-=r;return[s,o,6*u]}function l(e){return Math.abs(d3.geom.polygon(e.map(n)).area())}var e=4.5,t=Ui(e),n=d3.geo.albersUsa(),s=Ri({FeatureCollection:function(e){var t=[],n=e.features,r=-1,i=n.length;while(++r<i)t.push(s(n[r].geometry));return t.join("")},Feature:function(e){return s(e.geometry)},Point:function(e){return"M"+i(e.coordinates)+t},MultiPoint:function(e){var n=[],r=e.coordinates,s=-1,o=r.length;while(++s<o)n.push("M",i(r[s]),t);return n.join("")},LineString:function(e){var t=["M"],n=e.coordinates,r=-1,s=n.length;while(++r<s)t.push(i(n[r]),"L");return t.pop(),t.join("")},MultiLineString:function(e){var t=[],n=e.coordinates,r=-1,s=n.length,o,u,a;while(++r<s){o=n[r],u=-1,a=o.length,t.push("M");while(++u<a)t.push(i(o[u]),"L");t.pop()}return t.join("")},Polygon:function(e){var t=[],n=e.coordinates,r=-1,s=n.length,o,u,a;while(++r<s){o=n[r],u=-1;if((a=o.length-1)>0){t.push("M");while(++u<a)t.push(i(o[u]),"L");t[t.length-1]="Z"}}return t.join("")},MultiPolygon:function(e){var t=[],n=e.coordinates,r=-1,s=n.length,o,u,a,f,l,c;while(++r<s){o=n[r],u=-1,a=o.length;while(++u<a){f=o[u],l=-1;if((c=f.length-1)>0){t.push("M");while(++l<c)t.push(i(f[l]),"L");t[t.length-1]="Z"}}}return t.join("")},GeometryCollection:function(e){var t=[],n=e.geometries,r=-1,i=n.length;while(++r<i)t.push(s(n[r]));return t.join("")}}),o=r.area=Ri({FeatureCollection:function(e){var t=0,n=e.features,r=-1,i=n.length;while(++r<i)t+=o(n[r]);return t},Feature:function(e){return o(e.geometry)},Polygon:function(e){return u(e.coordinates)},MultiPolygon:function(e){var t=0,n=e.coordinates,r=-1,i=n.length;while(++r<i)t+=u(n[r]);return t},GeometryCollection:function(e){var t=0,n=e.geometries,r=-1,i=n.length;while(++r<i)t+=o(n[r]);return t}},0),f=r.centroid=Ri({Feature:function(e){return f(e.geometry)},Polygon:function(e){var t=a(e.coordinates);return[t[0]/t[2],t[1]/t[2]]},MultiPolygon:function(e){var t=0,n=e.coordinates,r,i=0,s=0,o=0,u=-1,f=n.length;while(++u<f)r=a(n[u]),i+=r[0],s+=r[1],o+=r[2];return[i/o,s/o]}});return r.projection=function(e){return n=e,r},r.pointRadius=function(n){return typeof n=="function"?e=n:(e=+n,t=Ui(e)),r},r},d3.geo.bounds=function(e){var t=Infinity,n=Infinity,r=-Infinity,i=-Infinity;return zi(e,function(e,s){e<t&&(t=e),e>r&&(r=e),s<n&&(n=s),s>i&&(i=s)}),[[t,n],[r,i]]};var Wi={Feature:Xi,FeatureCollection:Vi,GeometryCollection:$i,LineString:Ji,MultiLineString:Ki,MultiPoint:Ji,MultiPolygon:Qi,Point:Gi,Polygon:Yi};d3.geo.circle=function(){function i(){}function s(e){return r.distance(e)<n}function u(e){var t=-1,i=e.length,s=[],o,u,f,l,c;while(++t<i)c=r.distance(f=e[t]),c<n?(u&&s.push(ts(u,f)((l-n)/(l-c))),s.push(f),o=u=null):(u=f,!o&&s.length&&(s.push(ts(s[s.length-1],u)((n-l)/(c-l))),o=u)),l=c;return u&&s.length&&(c=r.distance(f=s[0]),s.push(ts(u,f)((l-n)/(l-c)))),a(s)}function a(e){var t=0,n=e.length,i,s,o=n?[e[0]]:e,u,a=r.source();while(++t<n){u=r.source(e[t-1])(e[t]).coordinates;for(i=0,s=u.length;++i<s;)o.push(u[i])}return r.source(a),o}var e=[0,0],t=89.99,n=t*qi,r=d3.geo.greatArc().target(h);i.clip=function(t){return r.source(typeof e=="function"?e.apply(this,arguments):e),o(t)};var o=Ri({FeatureCollection:function(e){var t=e.features.map(o).filter(h);return t&&(e=Object.create(e),e.features=t,e)},Feature:function(e){var t=o(e.geometry);return t&&(e=Object.create(e),e.geometry=t,e)},Point:function(e){return s(e.coordinates)&&e},MultiPoint:function(e){var t=e.coordinates.filter(s);return t.length&&{type:e.type,coordinates:t}},LineString:function(e){var t=u(e.coordinates);return t.length&&(e=Object.create(e),e.coordinates=t,e)},MultiLineString:function(e){var t=e.coordinates.map(u).filter(function(e){return e.length});return t.length&&(e=Object.create(e),e.coordinates=t,e)},Polygon:function(e){var t=e.coordinates.map(u);return t[0].length&&(e=Object.create(e),e.coordinates=t,e)},MultiPolygon:function(e){var t=e.coordinates.map(function(e){return e.map(u)}).filter(function(e){return e[0].length});return t.length&&(e=Object.create(e),e.coordinates=t,e)},GeometryCollection:function(e){var t=e.geometries.map(o).filter(h);return t.length&&(e=Object.create(e),e.geometries=t,e)}});return i.origin=function(t){return arguments.length?(e=t,i):e},i.angle=function(e){return arguments.length?(n=(t=+e)*qi,i):t},i.precision=function(e){return arguments.length?(r.precision(e),i):r.precision()},i},d3.geo.greatArc=function(){function r(){var r=typeof e=="function"?e.apply(this,arguments):e,i=typeof t=="function"?t.apply(this,arguments):t,s=ts(r,i),o=n/s.d,u=0,a=[r];while((u+=o)<1)a.push(s(u));return a.push(i),{type:"LineString",coordinates:a}}var e=Zi,t=es,n=6*qi;return r.distance=function(){var n=typeof e=="function"?e.apply(this,arguments):e,r=typeof t=="function"?t.apply(this,arguments):t;return ts(n,r).d},r.source=function(t){return arguments.length?(e=t,r):e},r.target=function(e){return arguments.length?(t=e,r):t},r.precision=function(e){return arguments.length?(n=e*qi,r):n/qi},r},d3.geo.greatCircle=d3.geo.circle,d3.geom={},d3.geom.contour=function(e,t){var n=t||is(e),r=[],i=n[0],s=n[1],o=0,u=0,a=NaN,f=NaN,l=0;do l=0,e(i-1,s-1)&&(l+=1),e(i,s-1)&&(l+=2),e(i-1,s)&&(l+=4),e(i,s)&&(l+=8),l===6?(o=f===-1?-1:1,u=0):l===9?(o=0,u=a===1?-1:1):(o=ns[l],u=rs[l]),o!=a&&u!=f&&(r.push([i,s]),a=o,f=u),i+=o,s+=u;while(n[0]!=i||n[1]!=s);return r};var ns=[1,0,1,1,-1,0,-1,1,0,0,0,0,-1,0,-1,NaN],rs=[0,-1,0,0,0,-1,0,0,1,-1,1,1,0,-1,0,NaN];d3.geom.hull=function(e){if(e.length<3)return[];var t=e.length,n=t-1,r=[],i=[],s,o,u=0,a,f,l,c,h,p,d,v;for(s=1;s<t;++s)e[s][1]<e[u][1]?u=s:e[s][1]==e[u][1]&&(u=e[s][0]<e[u][0]?s:u);for(s=0;s<t;++s){if(s===u)continue;f=e[s][1]-e[u][1],a=e[s][0]-e[u][0],r.push({angle:Math.atan2(f,a),index:s})}r.sort(function(e,t){return e.angle-t.angle}),d=r[0].angle,p=r[0].index,h=0;for(s=1;s<n;++s)o=r[s].index,d==r[s].angle?(a=e[p][0]-e[u][0],f=e[p][1]-e[u][1],l=e[o][0]-e[u][0],c=e[o][1]-e[u][1],a*a+f*f>=l*l+c*c?r[s].index=-1:(r[h].index=-1,d=r[s].angle,h=s,p=o)):(d=r[s].angle,h=s,p=o);i.push(u);for(s=0,o=0;s<2;++o)r[o].index!==-1&&(i.push(r[o].index),s++);v=i.length;for(;o<n;++o){if(r[o].index===-1)continue;while(!ss(i[v-2],i[v-1],r[o].index,e))--v;i[v++]=r[o].index}var m=[];for(s=0;s<v;++s)m.push(e[i[s]]);return m},d3.geom.polygon=function(e){return e.area=function(){var t=0,n=e.length,r=e[n-1][0]*e[0][1],i=e[n-1][1]*e[0][0];while(++t<n)r+=e[t-1][0]*e[t][1],i+=e[t-1][1]*e[t][0];return(i-r)*.5},e.centroid=function(t){var n=-1,r=e.length,i=0,s=0,o,u=e[r-1],a;arguments.length||(t=-1/(6*e.area()));while(++n<r)o=u,u=e[n],a=o[0]*u[1]-u[0]*o[1],i+=(o[0]+u[0])*a,s+=(o[1]+u[1])*a;return[i*t,s*t]},e.clip=function(t){var n,r=-1,i=e.length,s,o,u=e[i-1],a,f,l;while(++r<i){n=t.slice(),t.length=0,a=e[r],f=n[(o=n.length)-1],s=-1;while(++s<o)l=n[s],os(l,u,a)?(os(f,u,a)||t.push(us(f,l,u,a)),t.push(l)):os(f,u,a)&&t.push(us(f,l,u,a)),f=l;u=a}return t},e},d3.geom.voronoi=function(e){var t=e.map(function(){return[]});return fs(e,function(e){var n,r,i,s,o,u;e.a===1&&e.b>=0?(n=e.ep.r,r=e.ep.l):(n=e.ep.l,r=e.ep.r),e.a===1?(o=n?n.y:-1e6,i=e.c-e.b*o,u=r?r.y:1e6,s=e.c-e.b*u):(i=n?n.x:-1e6,o=e.c-e.a*i,s=r?r.x:1e6,u=e.c-e.a*s);var a=[i,o],f=[s,u];t[e.region.l.index].push(a,f),t[e.region.r.index].push(a,f)}),t.map(function(t,n){var r=e[n][0],i=e[n][1];return t.forEach(function(e){e.angle=Math.atan2(e[0]-r,e[1]-i)}),t.sort(function(e,t){return e.angle-t.angle}).filter(function(e,n){return!n||e.angle-t[n-1].angle>1e-10})})};var as={l:"r",r:"l"};d3.geom.delaunay=function(e){var t=e.map(function(){return[]}),n=[];return fs(e,function(n){t[n.region.l.index].push(e[n.region.r.index])}),t.forEach(function(t,r){var i=e[r],s=i[0],o=i[1];t.forEach(function(e){e.angle=Math.atan2(e[0]-s,e[1]-o)}),t.sort(function(e,t){return e.angle-t.angle});for(var u=0,a=t.length-1;u<a;u++)n.push([i,t[u],t[u+1]])}),n},d3.geom.quadtree=function(e,t,n,r,i){function l(e,t,n,r,i,s){if(isNaN(t.x)||isNaN(t.y))return;if(e.leaf){var o=e.point;o?Math.abs(o.x-t.x)+Math.abs(o.y-t.y)<.01?c(e,t,n,r,i,s):(e.point=null,c(e,o,n,r,i,s),c(e,t,n,r,i,s)):e.point=t}else c(e,t,n,r,i,s)}function c(e,t,n,r,i,s){var o=(n+i)*.5,u=(r+s)*.5,a=t.x>=o,f=t.y>=u,c=(f<<1)+a;e.leaf=!1,e=e.nodes[c]||(e.nodes[c]=ls()),a?n=o:i=o,f?r=u:s=u,l(e,t,n,r,i,s)}var s,o=-1,u=e.length;u&&isNaN(e[0].x)&&(e=e.map(hs));if(arguments.length<5)if(arguments.length===3)i=r=n,n=t;else{t=n=Infinity,r=i=-Infinity;while(++o<u)s=e[o],s.x<t&&(t=s.x),s.y<n&&(n=s.y),s.x>r&&(r=s.x),s.y>i&&(i=s.y);var a=r-t,f=i-n;a>f?i=n+a:r=t+f}var h=ls();return h.add=function(e){l(h,e,t,n,r,i)},h.visit=function(e){cs(e,h,t,n,r,i)},e.forEach(h.add),h},d3.time={};var ps=Date;ds.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){vs.setUTCDate.apply(this._,arguments)},setDay:function(){vs.setUTCDay.apply(this._,arguments)},setFullYear:function(){vs.setUTCFullYear.apply(this._,arguments)},setHours:function(){vs.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){vs.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){vs.setUTCMinutes.apply(this._,arguments)},setMonth:function(){vs.setUTCMonth.apply(this._,arguments)},setSeconds:function(){vs.setUTCSeconds.apply(this._,arguments)},setTime:function(){vs.setTime.apply(this._,arguments)}};var vs=Date.prototype;d3.time.format=function(e){function n(n){var r=[],i=-1,s=0,o,u;while(++i<t)e.charCodeAt(i)==37&&(r.push(e.substring(s,i),(u=Es[o=e.charAt(++i)])?u(n):o),s=i+1);return r.push(e.substring(s,i)),r.join("")}var t=e.length;return n.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},r=ms(n,e,t,0);if(r!=t.length)return null;"p"in n&&(n.H=n.H%12+n.p*12);var i=new ps;return i.setFullYear(n.y,n.m,n.d),i.setHours(n.H,n.M,n.S,n.L),i},n.toString=function(){return e},n};var gs=d3.format("02d"),ys=d3.format("03d"),bs=d3.format("04d"),ws=d3.format("2d"),Es={a:function(e){return ks[e.getDay()].substring(0,3)},A:function(e){return ks[e.getDay()]},b:function(e){return Ds[e.getMonth()].substring(0,3)},B:function(e){return Ds[e.getMonth()]},c:d3.time.format("%a %b %e %H:%M:%S %Y"),d:function(e){return gs(e.getDate())},e:function(e){return ws(e.getDate())},H:function(e){return gs(e.getHours())},I:function(e){return gs(e.getHours()%12||12)},j:function(e){return ys(1+d3.time.dayOfYear(e))},L:function(e){return ys(e.getMilliseconds())},m:function(e){return gs(e.getMonth()+1)},M:function(e){return gs(e.getMinutes())},p:function(e){return e.getHours()>=12?"PM":"AM"},S:function(e){return gs(e.getSeconds())},U:function(e){return gs(d3.time.sundayOfYear(e))},w:function(e){return e.getDay()},W:function(e){return gs(d3.time.mondayOfYear(e))},x:d3.time.format("%m/%d/%y"),X:d3.time.format("%H:%M:%S"),y:function(e){return gs(e.getFullYear()%100)},Y:function(e){return bs(e.getFullYear()%1e4)},Z:Ks,"%":function(e){return"%"}},Ss={a:xs,A:Ts,b:Ls,B:Os,c:Ps,d:Rs,e:Rs,H:Us,I:Us,L:Xs,m:qs,M:zs,p:$s,S:Ws,x:Hs,X:Bs,y:Fs,Y:js},Ns=/^(?:sun|mon|tue|wed|thu|fri|sat)/i,Cs=/^(?:Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday)/i,ks=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],As=d3.map({jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11}),Ms=/^(?:January|February|March|April|May|June|July|August|September|October|November|December)/ig,_s=d3.map({january:0,february:1,march:2,april:3,may:4,june:5,july:6,august:7,september:8,october:9,november:10,december:11}),Ds=["January","February","March","April","May","June","July","August","September","October","November","December"],Vs=/\s*\d+/,Js=d3.map({am:0,pm:1});d3.time.format.utc=function(e){function n(e){try{ps=ds;var n=new ps;return n._=e,t(n)}finally{ps=Date}}var t=d3.time.format(e);return n.parse=function(e){try{ps=ds;var n=t.parse(e);return n&&n._}finally{ps=Date}},n.toString=t.toString,n};var Qs=d3.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");d3.time.format.iso=Date.prototype.toISOString?Gs:Qs,Gs.parse=function(e){return new Date(e)},Gs.toString=Qs.toString,d3.time.second=Ys(function(e){return new ps(Math.floor(e/1e3)*1e3)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*1e3)},function(e){return e.getSeconds()}),d3.time.seconds=d3.time.second.range,d3.time.seconds.utc=d3.time.second.utc.range,d3.time.minute=Ys(function(e){return new ps(Math.floor(e/6e4)*6e4)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*6e4)},function(e){return e.getMinutes()}),d3.time.minutes=d3.time.minute.range,d3.time.minutes.utc=d3.time.minute.utc.range,d3.time.hour=Ys(function(e){var t=e.getTimezoneOffset()/60;return new ps((Math.floor(e/36e5-t)+t)*36e5)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*36e5)},function(e){return e.getHours()}),d3.time.hours=d3.time.hour.range,d3.time.hours.utc=d3.time.hour.utc.range,d3.time.day=Ys(function(e){return new ps(e.getFullYear(),e.getMonth(),e.getDate())},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),d3.time.days=d3.time.day.range,d3.time.days.utc=d3.time.day.utc.range,d3.time.dayOfYear=function(e){var t=d3.time.year(e);return Math.floor((e-t)/864e5-(e.getTimezoneOffset()-t.getTimezoneOffset())/1440)},ks.forEach(function(e,t){e=e.toLowerCase(),t=7-t;var n=d3.time[e]=Ys(function(e){return(e=d3.time.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+Math.floor(t)*7)},function(e){var n=d3.time.year(e).getDay();return Math.floor((d3.time.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});d3.time[e+"s"]=n.range,d3.time[e+"s"].utc=n.utc.range,d3.time[e+"OfYear"]=function(e){var n=d3.time.year(e).getDay();return Math.floor((d3.time.dayOfYear(e)+(n+t)%7)/7)}}),d3.time.week=d3.time.sunday,d3.time.weeks=d3.time.sunday.range,d3.time.weeks.utc=d3.time.sunday.utc.range,d3.time.weekOfYear=d3.time.sundayOfYear,d3.time.month=Ys(function(e){return new ps(e.getFullYear(),e.getMonth(),1)},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),d3.time.months=d3.time.month.range,d3.time.months.utc=d3.time.month.utc.range,d3.time.year=Ys(function(e){return new ps(e.getFullYear(),0,1)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),d3.time.years=d3.time.year.range,d3.time.years.utc=d3.time.year.utc.range;var oo=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],uo=[[d3.time.second,1],[d3.time.second,5],[d3.time.second,15],[d3.time.second,30],[d3.time.minute,1],[d3.time.minute,5],[d3.time.minute,15],[d3.time.minute,30],[d3.time.hour,1],[d3.time.hour,3],[d3.time.hour,6],[d3.time.hour,12],[d3.time.day,1],[d3.time.day,2],[d3.time.week,1],[d3.time.month,1],[d3.time.month,3],[d3.time.year,1]],ao=[[d3.time.format("%Y"),function(e){return!0}],[d3.time.format("%B"),function(e){return e.getMonth()}],[d3.time.format("%b %d"),function(e){return e.getDate()!=1}],[d3.time.format("%a %d"),function(e){return e.getDay()&&e.getDate()!=1}],[d3.time.format("%I %p"),function(e){return e.getHours()}],[d3.time.format("%I:%M"),function(e){return e.getMinutes()}],[d3.time.format(":%S"),function(e){return e.getSeconds()}],[d3.time.format(".%L"),function(e){return e.getMilliseconds()}]],fo=d3.scale.linear(),lo=ro(ao);uo.year=function(e,t){return fo.domain(e.map(so)).ticks(t).map(io)},d3.time.scale=function(){return eo(d3.scale.linear(),uo,lo)};var co=uo.map(function(e){return[e[0].utc,e[1]]}),ho=[[d3.time.format.utc("%Y"),function(e){return!0}],[d3.time.format.utc("%B"),function(e){return e.getUTCMonth()}],[d3.time.format.utc("%b %d"),function(e){return e.getUTCDate()!=1}],[d3.time.format.utc("%a %d"),function(e){return e.getUTCDay()&&e.getUTCDate()!=1}],[d3.time.format.utc("%I %p"),function(e){return e.getUTCHours()}],[d3.time.format.utc("%I:%M"),function(e){return e.getUTCMinutes()}],[d3.time.format.utc(":%S"),function(e){return e.getUTCSeconds()}],[d3.time.format.utc(".%L"),function(e){return e.getUTCMilliseconds()}]],po=ro(ho);co.year=function(e,t){return fo.domain(e.map(mo)).ticks(t).map(vo)},d3.time.scale.utc=function(){return eo(d3.scale.linear(),co,po)}}(),define("d3",function(){}),function(){var e={};window.Handlebars=e,e.VERSION="1.0.beta.6",e.helpers={},e.partials={},e.registerHelper=function(e,t,n){n&&(t.not=n),this.helpers[e]=t},e.registerPartial=function(e,t){this.partials[e]=t},e.registerHelper("helperMissing",function(e){if(arguments.length===2)return undefined;throw new Error("Could not find property '"+e+"'")});var t=Object.prototype.toString,n="[object Function]";e.registerHelper("blockHelperMissing",function(e,r){var i=r.inverse||function(){},s=r.fn,o="",u=t.call(e);u===n&&(e=e.call(this));if(e===!0)return s(this);if(e===!1||e==null)return i(this);if(u==="[object Array]"){if(e.length>0)for(var a=0,f=e.length;a<f;a++)o+=s(e[a]);else o=i(this);return o}return s(e)}),e.registerHelper("each",function(e,t){var n=t.fn,r=t.inverse,i="";if(e&&e.length>0)for(var s=0,o=e.length;s<o;s++)i+=n(e[s]);else i=r(this);return i}),e.registerHelper("if",function(r,i){var s=t.call(r);return s===n&&(r=r.call(this)),!r||e.Utils.isEmpty(r)?i.inverse(this):i.fn(this)}),e.registerHelper("unless",function(t,n){var r=n.fn,i=n.inverse;return n.fn=i,n.inverse=r,e.helpers["if"].call(this,t,n)}),e.registerHelper("with",function(e,t){return t.fn(e)}),e.registerHelper("log",function(t){e.log(t)});var r=function(){var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,statements:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,OPEN_PARTIAL:24,params:25,hash:26,param:27,STRING:28,INTEGER:29,BOOLEAN:30,hashSegments:31,hashSegment:32,ID:33,EQUALS:34,pathSegments:35,SEP:36,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"OPEN_PARTIAL",28:"STRING",29:"INTEGER",30:"BOOLEAN",33:"ID",34:"EQUALS",36:"SEP"},productions_:[0,[3,2],[4,3],[4,1],[4,0],[6,1],[6,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[7,2],[17,3],[17,2],[17,2],[17,1],[25,2],[25,1],[27,1],[27,1],[27,1],[27,1],[26,1],[31,2],[31,1],[32,3],[32,3],[32,3],[32,3],[21,1],[35,3],[35,1]],performAction:function(e,t,n,r,i,s,o){var u=s.length-1;switch(i){case 1:return s[u-1];case 2:this.$=new r.ProgramNode(s[u-2],s[u]);break;case 3:this.$=new r.ProgramNode(s[u]);break;case 4:this.$=new r.ProgramNode([]);break;case 5:this.$=[s[u]];break;case 6:s[u-1].push(s[u]),this.$=s[u-1];break;case 7:this.$=new r.InverseNode(s[u-2],s[u-1],s[u]);break;case 8:this.$=new r.BlockNode(s[u-2],s[u-1],s[u]);break;case 9:this.$=s[u];break;case 10:this.$=s[u];break;case 11:this.$=new r.ContentNode(s[u]);break;case 12:this.$=new r.CommentNode(s[u]);break;case 13:this.$=new r.MustacheNode(s[u-1][0],s[u-1][1]);break;case 14:this.$=new r.MustacheNode(s[u-1][0],s[u-1][1]);break;case 15:this.$=s[u-1];break;case 16:this.$=new r.MustacheNode(s[u-1][0],s[u-1][1]);break;case 17:this.$=new r.MustacheNode(s[u-1][0],s[u-1][1],!0);break;case 18:this.$=new r.PartialNode(s[u-1]);break;case 19:this.$=new r.PartialNode(s[u-2],s[u-1]);break;case 20:break;case 21:this.$=[[s[u-2]].concat(s[u-1]),s[u]];break;case 22:this.$=[[s[u-1]].concat(s[u]),null];break;case 23:this.$=[[s[u-1]],s[u]];break;case 24:this.$=[[s[u]],null];break;case 25:s[u-1].push(s[u]),this.$=s[u-1];break;case 26:this.$=[s[u]];break;case 27:this.$=s[u];break;case 28:this.$=new r.StringNode(s[u]);break;case 29:this.$=new r.IntegerNode(s[u]);break;case 30:this.$=new r.BooleanNode(s[u]);break;case 31:this.$=new r.HashNode(s[u]);break;case 32:s[u-1].push(s[u]),this.$=s[u-1];break;case 33:this.$=[s[u]];break;case 34:this.$=[s[u-2],s[u]];break;case 35:this.$=[s[u-2],new r.StringNode(s[u])];break;case 36:this.$=[s[u-2],new r.IntegerNode(s[u])];break;case 37:this.$=[s[u-2],new r.BooleanNode(s[u])];break;case 38:this.$=new r.IdNode(s[u]);break;case 39:s[u-2].push(s[u]),this.$=s[u-2];break;case 40:this.$=[s[u]]}},table:[{3:1,4:2,5:[2,4],6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{1:[3]},{5:[1,16]},{5:[2,3],7:17,8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,19],20:[2,3],22:[1,13],23:[1,14],24:[1,15]},{5:[2,5],14:[2,5],15:[2,5],16:[2,5],19:[2,5],20:[2,5],22:[2,5],23:[2,5],24:[2,5]},{4:20,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],24:[1,15]},{4:21,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],24:[1,15]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],24:[2,9]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],24:[2,10]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],24:[2,11]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],24:[2,12]},{17:22,21:23,33:[1,25],35:24},{17:26,21:23,33:[1,25],35:24},{17:27,21:23,33:[1,25],35:24},{17:28,21:23,33:[1,25],35:24},{21:29,33:[1,25],35:24},{1:[2,1]},{6:30,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{5:[2,6],14:[2,6],15:[2,6],16:[2,6],19:[2,6],20:[2,6],22:[2,6],23:[2,6],24:[2,6]},{17:22,18:[1,31],21:23,33:[1,25],35:24},{10:32,20:[1,33]},{10:34,20:[1,33]},{18:[1,35]},{18:[2,24],21:40,25:36,26:37,27:38,28:[1,41],29:[1,42],30:[1,43],31:39,32:44,33:[1,45],35:24},{18:[2,38],28:[2,38],29:[2,38],30:[2,38],33:[2,38],36:[1,46]},{18:[2,40],28:[2,40],29:[2,40],30:[2,40],33:[2,40],36:[2,40]},{18:[1,47]},{18:[1,48]},{18:[1,49]},{18:[1,50],21:51,33:[1,25],35:24},{5:[2,2],8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,2],22:[1,13],23:[1,14],24:[1,15]},{14:[2,20],15:[2,20],16:[2,20],19:[2,20],22:[2,20],23:[2,20],24:[2,20]},{5:[2,7],14:[2,7],15:[2,7],16:[2,7],19:[2,7],20:[2,7],22:[2,7],23:[2,7],24:[2,7]},{21:52,33:[1,25],35:24},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],24:[2,8]},{14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],24:[2,14]},{18:[2,22],21:40,26:53,27:54,28:[1,41],29:[1,42],30:[1,43],31:39,32:44,33:[1,45],35:24},{18:[2,23]},{18:[2,26],28:[2,26],29:[2,26],30:[2,26],33:[2,26]},{18:[2,31],32:55,33:[1,56]},{18:[2,27],28:[2,27],29:[2,27],30:[2,27],33:[2,27]},{18:[2,28],28:[2,28],29:[2,28],30:[2,28],33:[2,28]},{18:[2,29],28:[2,29],29:[2,29],30:[2,29],33:[2,29]},{18:[2,30],28:[2,30],29:[2,30],30:[2,30],33:[2,30]},{18:[2,33],33:[2,33]},{18:[2,40],28:[2,40],29:[2,40],30:[2,40],33:[2,40],34:[1,57],36:[2,40]},{33:[1,58]},{14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],24:[2,13]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],24:[2,16]},{5:[2,17],14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],24:[2,17]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],24:[2,18]},{18:[1,59]},{18:[1,60]},{18:[2,21]},{18:[2,25],28:[2,25],29:[2,25],30:[2,25],33:[2,25]},{18:[2,32],33:[2,32]},{34:[1,57]},{21:61,28:[1,62],29:[1,63],30:[1,64],33:[1,25],35:24},{18:[2,39],28:[2,39],29:[2,39],30:[2,39],33:[2,39],36:[2,39]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],24:[2,19]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],24:[2,15]},{18:[2,34],33:[2,34]},{18:[2,35],33:[2,35]},{18:[2,36],33:[2,36]},{18:[2,37],33:[2,37]}],defaultActions:{16:[2,1],37:[2,23],53:[2,21]},parseError:function(e,t){throw new Error(e)},parse:function(e){function t(e){i.length=i.length-2*e,s.length=s.length-e,o.length=o.length-e}function n(){var e;return e=r.lexer.lex()||1,typeof e!="number"&&(e=r.symbols_[e]||e),e}var r=this,i=[0],s=[null],o=[],u=this.table,a="",f=0,l=0,c=0,h=2,p=1;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,typeof this.lexer.yylloc=="undefined"&&(this.lexer.yylloc={});var d=this.lexer.yylloc;o.push(d),typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);var v,m,g,y,b,w,E={},S,x,T,N;for(;;){g=i[i.length-1],this.defaultActions[g]?y=this.defaultActions[g]:(v==null&&(v=n()),y=u[g]&&u[g][v]);if(typeof y=="undefined"||!y.length||!y[0])if(!c){N=[];for(S in u[g])this.terminals_[S]&&S>2&&N.push("'"+this.terminals_[S]+"'");var C="";this.lexer.showPosition?C="Parse error on line "+(f+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+N.join(", ")+", got '"+this.terminals_[v]+"'":C="Parse error on line "+(f+1)+": Unexpected "+(v==1?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(C,{text:this.lexer.match,token:this.terminals_[v]||v,line:this.lexer.yylineno,loc:d,expected:N})}if(y[0]instanceof Array&&y.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+v);switch(y[0]){case 1:i.push(v),s.push(this.lexer.yytext),o.push(this.lexer.yylloc),i.push(y[1]),v=null,m?(v=m,m=null):(l=this.lexer.yyleng,a=this.lexer.yytext,f=this.lexer.yylineno,d=this.lexer.yylloc,c>0&&c--);break;case 2:x=this.productions_[y[1]][1],E.$=s[s.length-x],E._$={first_line:o[o.length-(x||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(x||1)].first_column,last_column:o[o.length-1].last_column},w=this.performAction.call(E,a,l,f,this.yy,y[1],s,o);if(typeof w!="undefined")return w;x&&(i=i.slice(0,-1*x*2),s=s.slice(0,-1*x),o=o.slice(0,-1*x)),i.push(this.productions_[y[1]][0]),s.push(E.$),o.push(E._$),T=u[i[i.length-2]][i[i.length-1]],i.push(T);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parseError)throw new Error(e);this.yy.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.match+=e,this.matched+=e;var t=e.match(/\n/);return t&&this.yylineno++,this._input=this._input.slice(1),e},unput:function(e){return this._input=e+this._input,this},more:function(){return this._more=!0,this},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=(new Array(e.length+1)).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,r;this._more||(this.yytext="",this.match="");var i=this._currentRules();for(var s=0;s<i.length;s++){t=this._input.match(this.rules[i[s]]);if(t){r=t[0].match(/\n.*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-1:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,i[s],this.conditionStack[this.conditionStack.length-1]);if(e)return e;return}}if(this._input==="")return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return typeof e!="undefined"?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.performAction=function(e,t,n,r){var i=r;switch(n){case 0:t.yytext.slice(-1)!=="\\"&&this.begin("mu"),t.yytext.slice(-1)==="\\"&&(t.yytext=t.yytext.substr(0,t.yyleng-1),this.begin("emu"));if(t.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return 24;case 4:return 16;case 5:return 20;case 6:return 19;case 7:return 19;case 8:return 23;case 9:return 23;case 10:return t.yytext=t.yytext.substr(3,t.yyleng-5),this.popState(),15;case 11:return 22;case 12:return 34;case 13:return 33;case 14:return 33;case 15:return 36;case 16:break;case 17:return this.popState(),18;case 18:return this.popState(),18;case 19:return t.yytext=t.yytext.substr(1,t.yyleng-2).replace(/\\"/g,'"'),28;case 20:return 30;case 21:return 30;case 22:return 29;case 23:return 33;case 24:return t.yytext=t.yytext.substr(1,t.yyleng-2),33;case 25:return"INVALID";case 26:return 5}},e.rules=[/^[^\x00]*?(?=(\{\{))/,/^[^\x00]+/,/^[^\x00]{2,}?(?=(\{\{))/,/^\{\{>/,/^\{\{#/,/^\{\{\//,/^\{\{\^/,/^\{\{\s*else\b/,/^\{\{\{/,/^\{\{&/,/^\{\{![\s\S]*?\}\}/,/^\{\{/,/^=/,/^\.(?=[} ])/,/^\.\./,/^[\/.]/,/^\s+/,/^\}\}\}/,/^\}\}/,/^"(\\["]|[^"])*"/,/^true(?=[}\s])/,/^false(?=[}\s])/,/^[0-9]+(?=[}\s])/,/^[a-zA-Z0-9_$-]+(?=[=}\s\/.])/,/^\[[^\]]*\]/,/^./,/^$/],e.conditions={mu:{rules:[3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26],inclusive:!1},emu:{rules:[2],inclusive:!1},INITIAL:{rules:[0,1,26],inclusive:!0}},e}();return e.lexer=t,e}();typeof require!="undefined"&&typeof exports!="undefined"&&(exports.parser=r,exports.parse=function(){return r.parse.apply(r,arguments)},exports.main=function(e){if(!e[1])throw new Error("Usage: "+e[0]+" FILE");if(typeof process!="undefined")var t=require("fs").readFileSync(require("path").join(process.cwd(),e[1]),"utf8");else var n=require("file").path(require("file").cwd()),t=n.join(e[1]).read({charset:"utf-8"});return exports.parser.parse(t)},typeof module!="undefined"&&require.main===module&&exports.main(typeof process!="undefined"?process.argv.slice(1):require("system").args)),e.Parser=r,e.parse=function(t){return e.Parser.yy=e.AST,e.Parser.parse(t)},e.print=function(t){return(new e.PrintVisitor).accept(t)},e.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){}},e.log=function(t,n){e.logger.log(t,n)},function(){e.AST={},e.AST.ProgramNode=function(t,n){this.type="program",this.statements=t,n&&(this.inverse=new e.AST.ProgramNode(n))},e.AST.MustacheNode=function(e,t,n){this.type="mustache",this.id=e[0],this.params=e.slice(1),this.hash=t,this.escaped=!n},e.AST.PartialNode=function(e,t){this.type="partial",this.id=e,this.context=t};var t=function(t,n){if(t.original!==n.original)throw new e.Exception(t.original+" doesn't match "+n.original)};e.AST.BlockNode=function(e,n,r){t(e.id,r),this.type="block",this.mustache=e,this.program=n},e.AST.InverseNode=function(e,n,r){t(e.id,r),this.type="inverse",this.mustache=e,this.program=n},e.AST.ContentNode=function(e){this.type="content",this.string=e},e.AST.HashNode=function(e){this.type="hash",this.pairs=e},e.AST.IdNode=function(e){this.type="ID",this.original=e.join(".");var t=[],n=0;for(var r=0,i=e.length;r<i;r++){var s=e[r];s===".."?n++:s==="."||s==="this"?this.isScoped=!0:t.push(s)}this.parts=t,this.string=t.join("."),this.depth=n,this.isSimple=t.length===1&&n===0},e.AST.StringNode=function(e){this.type="STRING",this.string=e},e.AST.IntegerNode=function(e){this.type="INTEGER",this.integer=e},e.AST.BooleanNode=function(e){this.type="BOOLEAN",this.bool=e},e.AST.CommentNode=function(e){this.type="comment",this.comment=e}}(),e.Exception=function(e){var t=Error.prototype.constructor.apply(this,arguments);for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);this.message=t.message},e.Exception.prototype=new Error,e.SafeString=function(e){this.string=e},e.SafeString.prototype.toString=function(){return this.string.toString()},function(){var t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=/&(?!\w+;)|[<>"'`]/g,r=/[&<>"'`]/,i=function(e){return t[e]||"&amp;"};e.Utils={escapeExpression:function(t){return t instanceof e.SafeString?t.toString():t==null||t===!1?"":r.test(t)?t.replace(n,i):t},isEmpty:function(e){return typeof e=="undefined"?!0:e===null?!0:e===!1?!0:Object.prototype.toString.call(e)==="[object Array]"&&e.length===0?!0:!1}}}(),e.Compiler=function(){},e.JavaScriptCompiler=function(){},function(t,n){t.OPCODE_MAP={appendContent:1,getContext:2,lookupWithHelpers:3,lookup:4,append:5,invokeMustache:6,appendEscaped:7,pushString:8,truthyOrFallback:9,functionOrFallback:10,invokeProgram:11,invokePartial:12,push:13,assignToHash:15,pushStringParam:16},t.MULTI_PARAM_OPCODES={appendContent:1,getContext:1,lookupWithHelpers:2,lookup:1,invokeMustache:3,pushString:1,truthyOrFallback:1,functionOrFallback:1,invokeProgram:3,invokePartial:1,push:1,assignToHash:1,pushStringParam:1},t.DISASSEMBLE_MAP={};for(var r in t.OPCODE_MAP){var i=t.OPCODE_MAP[r];t.DISASSEMBLE_MAP[i]=r}t.multiParamSize=function(e){return t.MULTI_PARAM_OPCODES[t.DISASSEMBLE_MAP[e]]},t.prototype={compiler:t,disassemble:function(){var e=this.opcodes,n,r,i=[],s,o,u;for(var a=0,f=e.length;a<f;a++){n=e[a];if(n==="DECLARE")o=e[++a],u=e[++a],i.push("DECLARE "+o+" = "+u);else{s=t.DISASSEMBLE_MAP[n];var l=t.multiParamSize(n),c=[];for(var h=0;h<l;h++)r=e[++a],typeof r=="string"&&(r='"'+r.replace("\n","\\n")+'"'),c.push(r);s=s+" "+c.join(" "),i.push(s)}}return i.join("\n")},guid:0,compile:function(e,t){this.children=[],this.depths={list:[]},this.options=t;var n=this.options.knownHelpers;this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0};if(n)for(var r in n)this.options.knownHelpers[r]=n[r];return this.program(e)},accept:function(e){return this[e.type](e)},program:function(e){var t=e.statements,n;this.opcodes=[];for(var r=0,i=t.length;r<i;r++)n=t[r],this[n.type](n);return this.isSimple=i===1,this.depths.list=this.depths.list.sort(function(e,t){return e-t}),this},compileProgram:function(e){var t=(new this.compiler).compile(e,this.options),n=this.guid++;this.usePartial=this.usePartial||t.usePartial,this.children[n]=t;for(var r=0,i=t.depths.list.length;r<i;r++){depth=t.depths.list[r];if(depth<2)continue;this.addDepth(depth-1)}return n},block:function(e){var t=e.mustache,n,r,i,s,o=this.setupStackForMustache(t),u=this.compileProgram(e.program);e.program.inverse&&(s=this.compileProgram(e.program.inverse),this.declare("inverse",s)),this.opcode("invokeProgram",u,o.length,!!t.hash),this.declare("inverse",null),this.opcode("append")},inverse:function(e){var t=this.setupStackForMustache(e.mustache),n=this.compileProgram(e.program);this.declare("inverse",n),this.opcode("invokeProgram",null,t.length,!!e.mustache.hash),this.declare("inverse",null),this.opcode("append")},hash:function(e){var t=e.pairs,n,r;this.opcode("push","{}");for(var i=0,s=t.length;i<s;i++)n=t[i],r=n[1],this.accept(r),this.opcode("assignToHash",n[0])},partial:function(e){var t=e.id;this.usePartial=!0,e.context?this.ID(e.context):this.opcode("push","depth0"),this.opcode("invokePartial",t.original),this.opcode("append")},content:function(e){this.opcode("appendContent",e.string)},mustache:function(e){var t=this.setupStackForMustache(e);this.opcode("invokeMustache",t.length,e.id.original,!!e.hash),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ID:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth),this.opcode("lookupWithHelpers",e.parts[0]||null,e.isScoped||!1);for(var t=1,n=e.parts.length;t<n;t++)this.opcode("lookup",e.parts[t])},STRING:function(e){this.opcode("pushString",e.string)},INTEGER:function(e){this.opcode("push",e.integer)},BOOLEAN:function(e){this.opcode("push",e.bool)},comment:function(){},pushParams:function(e){var t=e.length,n;while(t--)n=e[t],this.options.stringParams?(n.depth&&this.addDepth(n.depth),this.opcode("getContext",n.depth||0),this.opcode("pushStringParam",n.string)):this[n.type](n)},opcode:function(e,n,r,i){this.opcodes.push(t.OPCODE_MAP[e]),n!==undefined&&this.opcodes.push(n),r!==undefined&&this.opcodes.push(r),i!==undefined&&this.opcodes.push(i)},declare:function(e,t){this.opcodes.push("DECLARE"),this.opcodes.push(e),this.opcodes.push(t)},addDepth:function(e){if(e===0)return;this.depths[e]||(this.depths[e]=!0,this.depths.list.push(e))},setupStackForMustache:function(e){var t=e.params;return this.pushParams(t),e.hash&&this.hash(e.hash),this.ID(e.id),t}},n.prototype={nameLookup:function(e,t,r){return/^[0-9]+$/.test(t)?e+"["+t+"]":n.isValidJavaScriptVariableName(t)?e+"."+t:e+"['"+t+"']"},appendToBuffer:function(e){return this.environment.isSimple?"return "+e+";":"buffer += "+e+";"},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(e,t,n,r){this.environment=e,this.options=t||{},this.name=this.environment.name,this.isChild=!!n,this.context=n||{programs:[],aliases:{self:"this"},registers:{list:[]}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.compileChildren(e,t);var i=e.opcodes,s;this.i=0;for(f=i.length;this.i<f;this.i++)s=this.nextOpcode(0),s[0]==="DECLARE"?(this.i=this.i+2,this[s[1]]=s[2]):(this.i=this.i+s[1].length,this[s[0]].apply(this,s[1]));return this.createFunctionContext(r)},nextOpcode:function(e){var n=this.environment.opcodes,r=n[this.i+e],i,s,o,u;if(r==="DECLARE")return i=n[this.i+1],s=n[this.i+2],["DECLARE",i,s];i=t.DISASSEMBLE_MAP[r],o=t.multiParamSize(r),u=[];for(var a=0;a<o;a++)u.push(n[this.i+a+1+e]);return[i,u]},eat:function(e){this.i=this.i+e.length},preamble:function(){var e=[];this.useRegister("foundHelper");if(!this.isChild){var t=this.namespace,n="helpers = helpers || "+t+".helpers;";this.environment.usePartial&&(n=n+" partials = partials || "+t+".partials;"),e.push(n)}else e.push("");this.environment.isSimple?e.push(""):e.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=e},createFunctionContext:function(t){var n=this.stackVars;this.isChild||(n=n.concat(this.context.registers.list)),n.length>0&&(this.source[1]=this.source[1]+", "+n.join(", "));if(!this.isChild){var r=[];for(var i in this.context.aliases)this.source[1]=this.source[1]+", "+i+"="+this.context.aliases[i]}this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.source.push("return buffer;");var s=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"];for(var o=0,u=this.environment.depths.list.length;o<u;o++)s.push("depth"+this.environment.depths.list[o]);if(t)return s.push(this.source.join("\n  ")),Function.apply(this,s);var f="function "+(this.name||"")+"("+s.join(",")+") {\n  "+this.source.join("\n  ")+"}";return e.log(e.logger.DEBUG,f+"\n\n"),f},appendContent:function(e){this.source.push(this.appendToBuffer(this.quotedString(e)))},append:function(){var e=this.popStack();this.source.push("if("+e+" || "+e+" === 0) { "+this.appendToBuffer(e)+" }"),this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){var e=this.nextOpcode(1),t="";this.context.aliases.escapeExpression="this.escapeExpression",e[0]==="appendContent"&&(t=" + "+this.quotedString(e[1][0]),this.eat(e)),this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"+t))},getContext:function(e){this.lastContext!==e&&(this.lastContext=e)},lookupWithHelpers:function(e,t){if(e){var n=this.nextStack();this.usingKnownHelper=!1;var r;!t&&this.options.knownHelpers[e]?(r=n+" = "+this.nameLookup("helpers",e,"helper"),this.usingKnownHelper=!0):t||this.options.knownHelpersOnly?r=n+" = "+this.nameLookup("depth"+this.lastContext,e,"context"):(this.register("foundHelper",this.nameLookup("helpers",e,"helper")),r=n+" = foundHelper || "+this.nameLookup("depth"+this.lastContext,e,"context")),r+=";",this.source.push(r)}else this.pushStack("depth"+this.lastContext)},lookup:function(e){var t=this.topStack();this.source.push(t+" = ("+t+" === null || "+t+" === undefined || "+t+" === false ? "+t+" : "+this.nameLookup(t,e,"context")+");")},pushStringParam:function(e){this.pushStack("depth"+this.lastContext),this.pushString(e)},pushString:function(e){this.pushStack(this.quotedString(e))},push:function(e){this.pushStack(e)},invokeMustache:function(e,t,n){this.populateParams(e,this.quotedString(t),"{}",null,n,function(e,t,n){this.usingKnownHelper||(this.context.aliases.helperMissing="helpers.helperMissing",this.context.aliases.undef="void 0",this.source.push("else if("+n+"=== undef) { "+e+" = helperMissing.call("+t+"); }"),e!==n&&this.source.push("else { "+e+" = "+n+"; }"))})},invokeProgram:function(e,t,n){var r=this.programExpression(this.inverse),i=this.programExpression(e);this.populateParams(t,null,i,r,n,function(e,t,n){this.usingKnownHelper||(this.context.aliases.blockHelperMissing="helpers.blockHelperMissing",this.source.push("else { "+e+" = blockHelperMissing.call("+t+"); }"))})},populateParams:function(e,t,n,r,i,s){var o=i||this.options.stringParams||r||this.options.data,u=this.popStack(),a,f=[],l,c,h;o?(this.register("tmp1",n),h="tmp1"):h="{ hash: {} }";if(o){var p=i?this.popStack():"{}";this.source.push("tmp1.hash = "+p+";")}this.options.stringParams&&this.source.push("tmp1.contexts = [];");for(var d=0;d<e;d++)l=this.popStack(),f.push(l),this.options.stringParams&&this.source.push("tmp1.contexts.push("+this.popStack()+");");r&&(this.source.push("tmp1.fn = tmp1;"),this.source.push("tmp1.inverse = "+r+";")),this.options.data&&this.source.push("tmp1.data = data;"),f.push(h),this.populateCall(f,u,t||u,s,n!=="{}")},populateCall:function(e,t,n,r,i){var s=["depth0"].concat(e).join(", "),o=["depth0"].concat(n).concat(e).join(", "),u=this.nextStack();if(this.usingKnownHelper)this.source.push(u+" = "+t+".call("+s+");");else{this.context.aliases.functionType='"function"';var a=i?"foundHelper && ":"";this.source.push("if("+a+"typeof "+t+" === functionType) { "+u+" = "+t+".call("+s+"); }")}r.call(this,u,o,t),this.usingKnownHelper=!1},invokePartial:function(e){params=[this.nameLookup("partials",e,"partial"),"'"+e+"'",this.popStack(),"helpers","partials"],this.options.data&&params.push("data"),this.pushStack("self.invokePartial("+params.join(", ")+");")},assignToHash:function(e){var t=this.popStack(),n=this.topStack();this.source.push(n+"['"+e+"'] = "+t+";")},compiler:n,compileChildren:function(e,t){var n=e.children,r,i;for(var s=0,o=n.length;s<o;s++){r=n[s],i=new this.compiler,this.context.programs.push("");var u=this.context.programs.length;r.index=u,r.name="program"+u,this.context.programs[u]=i.compile(r,t,this.context)}},programExpression:function(e){if(e==null)return"self.noop";var t=this.environment.children[e],n=t.depths.list,r=[t.index,t.name,"data"];for(var i=0,s=n.length;i<s;i++)depth=n[i],depth===1?r.push("depth0"):r.push("depth"+(depth-1));return n.length===0?"self.program("+r.join(", ")+")":(r.shift(),"self.programWithDepth("+r.join(", ")+")")},register:function(e,t){this.useRegister(e),this.source.push(e+" = "+t+";")},useRegister:function(e){this.context.registers[e]||(this.context.registers[e]=!0,this.context.registers.list.push(e))},pushStack:function(e){return this.source.push(this.nextStack()+" = "+e+";"),"stack"+this.stackSlot},nextStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),"stack"+this.stackSlot},popStack:function(){return"stack"+this.stackSlot--},topStack:function(){return"stack"+this.stackSlot},quotedString:function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r")+'"'}};var s="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),o=n.RESERVED_WORDS={};for(var u=0,f=s.length;u<f;u++)o[s[u]]=!0;n.isValidJavaScriptVariableName=function(e){return!n.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(e)?!0:!1}}(e.Compiler,e.JavaScriptCompiler),e.precompile=function(t,n){n=n||{};var r=e.parse(t),i=(new e.Compiler).compile(r,n);return(new e.JavaScriptCompiler).compile(i,n)},e.compile=function(t,n){function r(){var r=e.parse(t),i=(new e.Compiler).compile(r,n),s=(new e.JavaScriptCompiler).compile(i,n,undefined,!0);return e.template(s)}n=n||{};var i;return function(e,t){return i||(i=r()),i.call(this,e,t)}},e.VM={template:function(t){var n={escapeExpression:e.Utils.escapeExpression,invokePartial:e.VM.invokePartial,programs:[],program:function(t,n,r){var i=this.programs[t];return r?e.VM.program(n,r):i?i:(i=this.programs[t]=e.VM.program(n),i)},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop};return function(r,i){return i=i||{},t.call(n,e,r,i.helpers,i.partials,i.data)}},programWithDepth:function(e,t,n){var r=Array.prototype.slice.call(arguments,2);return function(n,i){return i=i||{},e.apply(this,[n,i.data||t].concat(r))}},program:function(e,t){return function(n,r){return r=r||{},e(n,r.data||t)}},noop:function(){return""},invokePartial:function(t,n,r,i,s,o){options={helpers:i,partials:s,data:o};if(t===undefined)throw new e.Exception("The partial "+n+" could not be found");if(t instanceof Function)return t(r,options);if(!e.compile)throw new e.Exception("The partial "+n+" could not be compiled when running in runtime-only mode");return s[n]=e.compile(t),s[n](r,options)}},e.template=e.VM.template}(),function(){"undefined"==typeof Ember&&(Ember={},"undefined"!=typeof window&&(window.Em=window.Ember=Em=Ember)),Ember.isNamespace=!0,Ember.toString=function(){return"Ember"},Ember.VERSION="0.9.8.1",Ember.ENV="undefined"==typeof ENV?{}:ENV,Ember.EXTEND_PROTOTYPES=Ember.ENV.EXTEND_PROTOTYPES!==!1,Ember.SHIM_ES5=Ember.ENV.SHIM_ES5===!1?!1:Ember.EXTEND_PROTOTYPES,Ember.CP_DEFAULT_CACHEABLE=!!Ember.ENV.CP_DEFAULT_CACHEABLE,Ember.VIEW_PRESERVES_CONTEXT=!!Ember.ENV.VIEW_PRESERVES_CONTEXT,Ember.K=function(){return this},"undefined"==typeof Ember.assert&&(Ember.assert=Ember.K),"undefined"==typeof Ember.warn&&(Ember.warn=Ember.K),"undefined"==typeof Ember.deprecate&&(Ember.deprecate=Ember.K),"undefined"==typeof Ember.deprecateFunc&&(Ember.deprecateFunc=function(e,t){return t}),"undefined"==typeof ember_assert&&(window.ember_assert=Ember.K),"undefined"==typeof ember_warn&&(window.ember_warn=Ember.K),"undefined"==typeof ember_deprecate&&(window.ember_deprecate=Ember.K),"undefined"==typeof ember_deprecateFunc&&(window.ember_deprecateFunc=function(e,t){return t}),Ember.Logger=window.console||{log:Ember.K,warn:Ember.K,error:Ember.K}}(),function(){var e=Ember.platform={};e.create=Object.create;if(!e.create){var t=function(){},n=t.prototype;e.create=function(r,i){t.prototype=r,r=new t,t.prototype=n;if(i!==undefined)for(var s in i){if(!i.hasOwnProperty(s))continue;e.defineProperty(r,s,i[s])}return r},e.create.isSimulated=!0}var r=Object.defineProperty,i,s;if(r)try{r({},"a",{get:function(){}})}catch(o){r=null}r&&(i=function(){var e={};return r(e,"a",{configurable:!0,enumerable:!0,get:function(){},set:function(){}}),r(e,"a",{configurable:!0,enumerable:!0,writable:!0,value:!0}),e.a===!0}(),s=function(){try{return r(document.createElement("div"),"definePropertyOnDOM",{}),!0}catch(e){}return!1}(),i?s||(r=function(e,t,n){var r;return typeof Node=="object"?r=e instanceof Node:r=typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.nodeName=="string",r?e[t]=n.value:Object.defineProperty(e,t,n)}):r=null),e.defineProperty=r,e.hasPropertyAccessors=!0,e.defineProperty||(e.hasPropertyAccessors=!1,e.defineProperty=function(e,t,n){e[t]=n.value},e.defineProperty.isSimulated=!0)}(),function(){var e="__ember"+ +(new Date),t,n,r;t=0,n=[],r={};var i=Ember.GUID_DESC={configurable:!0,writable:!0,enumerable:!1},s=Ember.platform.defineProperty,o=Ember.platform.create;Ember.GUID_KEY=e,Ember.generateGuid=function(n,r){r||(r="ember");var o=r+t++;return n&&(i.value=o,s(n,e,i),i.value=null),o},Ember.guidFor=function(i){if(i===undefined)return"(undefined)";if(i===null)return"(null)";var s,o,u=typeof i;switch(u){case"number":return o=n[i],o||(o=n[i]="nu"+i),o;case"string":return o=r[i],o||(o=r[i]="st"+t++),o;case"boolean":return i?"(true)":"(false)";default:if(i[e])return i[e];if(i===Object)return"(Object)";if(i===Array)return"(Array)";return Ember.generateGuid(i,"ember")}};var u={writable:!0,configurable:!1,enumerable:!1,value:null},a=Ember.GUID_KEY+"_meta";Ember.META_KEY=a;var f={descs:{},watching:{}};Object.freeze&&Object.freeze(f);var l=Ember.platform.defineProperty.isSimulated?o:function(e){return e};Ember.meta=function(e,t){var n=e[a];return t===!1?n||f:(n?n.source!==e&&(n=o(n),n.descs=o(n.descs),n.values=o(n.values),n.watching=o(n.watching),n.lastSetValues={},n.cache={},n.source=e,s(e,a,u),n=e[a]=l(n)):(s(e,a,u),n=e[a]=l({descs:{},watching:{},values:{},lastSetValues:{},cache:{},source:e}),n.descs.constructor=null),n)},Ember.getMeta=function(e,t){var n=Ember.meta(e,!1);return n[t]},Ember.setMeta=function(e,t,n){var r=Ember.meta(e,!0);return r[t]=n,n},Ember.metaPath=function(e,t,n){var r=Ember.meta(e,n),i,s;for(var u=0,a=t.length;u<a;u++){i=t[u],s=r[i];if(!s){if(!n)return undefined;s=r[i]={__ember_source__:e}}else if(s.__ember_source__!==e){if(!n)return undefined;s=r[i]=o(s),s.__ember_source__=e}r=s}return s},Ember.wrap=function(e,t){function n(){}var r=function(){var r,i=this._super;return this._super=t||n,r=e.apply(this,arguments),this._super=i,r};return r.base=e,r},Ember.isArray=function(e){return!e||e.setInterval?!1:Array.isArray&&Array.isArray(e)?!0:Ember.Array&&Ember.Array.detect(e)?!0:e.length!==undefined&&"object"==typeof e?!0:!1},Ember.makeArray=function(e){return e===null||e===undefined?[]:Ember.isArray(e)?e:[e]}}(),function(){function e(e){return e.indexOf("*")===-1||e==="*"?e:e.replace(/(^|.)\*/,function(e,t){return t==="."?e:t+"."})}function t(t){t=e(t);if(t==="*")return t;var n=t.charAt(0);return n==="."?"this"+t:t}function n(t,n){var r=n.length,i,s,o;n=e(n),i=0;while(t&&i<r){s=n.indexOf(".",i),s<0&&(s=r),o=n.slice(i,s),t=o==="*"?t:u(t,o);if(t&&t.isDestroyed)return undefined;i=s+1}return t}function r(e){return e.match(v)[0]}function i(t,n){var i=d.test(n),s=!i&&p.test(n),o;if(!t||s)t=window;i&&(n=n.slice(5)),n=e(n),t===window&&(o=r(n),t=u(t,o),n=n.slice(o.length+1));if(!n||n.length===0)throw new Error("Invalid Path");return c[0]=t,c[1]=n,c}var s=Ember.platform.hasPropertyAccessors&&Ember.ENV.USE_ACCESSORS;Ember.USE_ACCESSORS=!!s;var o=Ember.meta,u,a;u=function(e,t){t===undefined&&"string"==typeof e&&(t=e,e=Ember);if(!e)return undefined;var n=e[t];return n===undefined&&"function"==typeof e.unknownProperty&&(n=e.unknownProperty(t)),n},a=function(e,t,n){return"object"!=typeof e||t in e?e[t]=n:"function"==typeof e.setUnknownProperty?e.setUnknownProperty(t,n):"function"==typeof e.unknownProperty?e.unknownProperty(t,n):e[t]=n,n};if(!s){var f=u,l=a;u=function(e,t){t===undefined&&"string"==typeof e&&(t=e,e=Ember);if(!e)return undefined;var n=o(e,!1).descs[t];return n?n.get(e,t):f(e,t)},a=function(e,t,n){var r=o(e,!1).descs[t];return r?r.set(e,t,n):l(e,t,n),n}}Ember.get=u,Ember.set=a;var c=[],h=/^([A-Z$]|([0-9][A-Z$]))/,p=/^([A-Z$]|([0-9][A-Z$])).*[\.\*]/,d=/^this[\.\*]/,v=/^([^\.\*]+)/;Ember.normalizePath=t,Ember.normalizeTuple=function(e,n){return i(e,t(n))},Ember.normalizeTuple.primitive=i,Ember.getWithDefault=function(e,t,n){var r=Ember.get(e,t);return r===undefined?n:r},Ember.getPath=function(r,s){var o,a,f;if(s==="")return r;!s&&"string"==typeof r&&(s=r,r=null),s=e(s);if(r===null&&s.indexOf(".")<0)return u(window,s);s=t(s),o=d.test(s);if(!r||o){var l=i(r,s);r=l[0],s=l[1],l.length=0}return n(r,s)},Ember.setPath=function(e,n,r,i){var s;arguments.length===2&&"string"==typeof e&&(r=n,n=e,e=null),n=t(n);if(n.indexOf(".")>0)s=n.slice(n.lastIndexOf(".")+1),n=n.slice(0,n.length-(s.length+1)),n!=="this"&&(e=Ember.getPath(e,n));else{if(h.test(n))throw new Error("Invalid Path");s=n}if(!s||s.length===0||s==="*")throw new Error("Invalid Path");if(!e){if(i)return;throw new Error("Object in path "+n+" could not be found or was destroyed.")}return Ember.set(e,s,r)},Ember.trySetPath=function(e,t,n){return arguments.length===2&&"string"==typeof e&&(n=t,t=e,e=null),Ember.setPath(e,t,n,!0)},Ember.isGlobalPath=function(e){return!d.test(e)&&h.test(e)}}(),function(){function e(e,t,n){n=n||a(e,!1).values;if(n){var r=n[t];if(r!==undefined)return r;if(e.unknownProperty)return e.unknownProperty(t)}}function t(e,t,n){var r=a(e),i;return i=r.watching[t]>0&&n!==r.values[t],i&&Ember.propertyWillChange(e,t),r.values[t]=n,i&&Ember.propertyDidChange(e,t),n}function n(t){var n=y[t];return n||(n=y[t]=function(){return e(this,t)}),n}function r(e){var n=b[e];return n||(n=b[e]=function(n){return t(this,e,n)}),n}function i(e,t){return t==="toString"?"function"!=typeof e.toString:!!e[t]}var s=Ember.USE_ACCESSORS,o=Ember.GUID_KEY,u=Ember.META_KEY,a=Ember.meta,f=Ember.platform.create,l=Ember.platform.defineProperty,c,h,p={writable:!0,configurable:!0,enumerable:!0,value:null},d=Ember.Descriptor=function(){},v=d.setup=function(e,t,n){p.value=n,l(e,t,p),p.value=null},m=Ember.Descriptor.prototype;m.set=function(e,t,n){return e[t]=n,n},m.get=function(t,n){return e(t,n,t)},m.setup=v,m.teardown=function(e,t){return e[t]},m.val=function(e,t){return e[t]},s||(Ember.Descriptor.MUST_USE_GETTER=function(){!(this instanceof Ember.Object)},Ember.Descriptor.MUST_USE_SETTER=function(){this instanceof Ember.Object&&!this.isDestroyed});var g={configurable:!0,enumerable:!0,set:Ember.Descriptor.MUST_USE_SETTER},y={},b={};h=new Ember.Descriptor,Ember.platform.hasPropertyAccessors?(h.get=e,h.set=t,s?h.setup=function(e,t,i){g.get=n(t),g.set=r(t),l(e,t,g),g.get=g.set=null,i!==undefined&&(a(e).values[t]=i)}:h.setup=function(e,t,r){g.get=n(t),l(e,t,g),g.get=null,r!==undefined&&(a(e).values[t]=r)},h.teardown=function(e,t){var n=a(e).values[t];return delete a(e).values[t],n}):h.set=function(e,t,n){var r=a(e),i;return i=r.watching[t]>0&&n!==e[t],i&&Ember.propertyWillChange(e,t),e[t]=n,i&&Ember.propertyDidChange(e,t),n},Ember.SIMPLE_PROPERTY=new Ember.Descriptor,c=Ember.SIMPLE_PROPERTY,c.unwatched=h.unwatched=c,c.watched=h.watched=h,Ember.defineProperty=function(e,t,n,r){var s=a(e,!1),o=s.descs,u=s.watching[t]>0,f=!0;return r===undefined?(f=!1,r=i(o,t)?o[t].teardown(e,t):e[t]):i(o,t)&&o[t].teardown(e,t),n||(n=c),n instanceof Ember.Descriptor?(s=a(e,!0),o=s.descs,n=(u?n.watched:n.unwatched)||n,o[t]=n,n.setup(e,t,r,u)):(o[t]&&(a(e).descs[t]=null),l(e,t,n)),f&&u&&Ember.overrideChains(e,t,s),this},Ember.create=function(e,t){var n=f(e,t);return o in n&&Ember.generateGuid(n,"ember"),u in n&&Ember.rewatch(n),n},Ember.createPrototype=function(e,t){var n=f(e,t);return a(n,!0).proto=n,o in n&&Ember.generateGuid(n,"ember"),u in n&&Ember.rewatch(n),n}}(),function(){function e(e,t){var n=u(e),r,i;return r=n.deps,r?r.__emberproto__!==e&&(r=n.deps=c(r),r.__emberproto__=e):r=n.deps={__emberproto__:e},i=r[t],i?i.__emberproto__!==e&&(i=r[t]=c(i),i.__emberproto__=e):i=r[t]={__emberproto__:e},i}function t(t,n,r){var i=e(t,r);i[n]=(i[n]||0)+1,Ember.watch(t,r)}function n(t,n,r){var i=e(t,r);i[n]=(i[n]||0)-1,Ember.unwatch(t,r)}function r(e,n,r){var i=e._dependentKeys,s=i?i.length:0;for(var o=0;o<s;o++)t(n,r,i[o])}function i(e,t){this.func=e,this._cacheable=t&&t.cacheable!==undefined?t.cacheable:Ember.CP_DEFAULT_CACHEABLE,this._dependentKeys=t&&t.dependentKeys}function s(e,t){var n=t._cacheable,r=t.func;return n?function(){var t,n=u(this).cache;return e in n?n[e]:(t=n[e]=r.call(this,e),t)}:function(){return r.call(this,e)}}function o(e,t){var n=t._cacheable,r=t.func;return function(i){var s=u(this,n),o=s.source===this&&s.watching[e]>0,f,l,c;return l=t._suspended,t._suspended=this,o=o&&s.lastSetValues[e]!==a(i),o&&(s.lastSetValues[e]=a(i),Ember.propertyWillChange(this,e)),n&&delete s.cache[e],f=r.call(this,e,i),n&&(s.cache[e]=f),o&&Ember.propertyDidChange(this,e),t._suspended=l,f}}var u=Ember.meta,a=Ember.guidFor,f=Ember.USE_ACCESSORS,l=Array.prototype.slice,c=Ember.platform.create,h=Ember.platform.defineProperty;Ember.ComputedProperty=i,i.prototype=new Ember.Descriptor;var p={configurable:!0,enumerable:!0,get:function(){return undefined},set:Ember.Descriptor.MUST_USE_SETTER},d=i.prototype;d.cacheable=function(e){return this._cacheable=e!==!1,this},d.volatile=function(){return this.cacheable(!1)},d.property=function(){return this._dependentKeys=l.call(arguments),this},d.meta=function(e){return this._meta=e,this},d.setup=function(e,t,n){p.get=s(t,this),p.set=o(t,this),h(e,t,p),p.get=p.set=null,r(this,e,t)},d.teardown=function(e,t){var r=this._dependentKeys,i=r?r.length:0;for(var s=0;s<i;s++)n(e,t,r[s]);return this._cacheable&&delete u(e).cache[t],null},d.didChange=function(e,t){this._cacheable&&this._suspended!==e&&delete u(e).cache[t]},d.get=function(e,t){var n,r;if(this._cacheable){r=u(e).cache;if(t in r)return r[t];n=r[t]=this.func.call(e,t)}else n=this.func.call(e,t);return n},d.set=function(e,t,n){var r=this._cacheable,i=u(e,r),s=i.source===e&&i.watching[t]>0,o,f,l;return f=this._suspended,this._suspended=e,s=s&&i.lastSetValues[t]!==a(n),s&&(i.lastSetValues[t]=a(n),Ember.propertyWillChange(e,t)),r&&delete i.cache[t],o=this.func.call(e,t,n),r&&(i.cache[t]=o),s&&Ember.propertyDidChange(e,t),this._suspended=f,o},d.val=function(e,t){return u(e,!1).values[t]},Ember.platform.hasPropertyAccessors?f||(d.setup=function(e,t){h(e,t,p),r(this,e,t)}):d.setup=function(e,t,n){e[t]=undefined,r(this,e,t)},Ember.computed=function(e){var t;arguments.length>1&&(t=l.call(arguments,0,-1),e=l.call(arguments,-1)[0]);var n=new i(e);return t&&n.property.apply(n,t),n},Ember.cacheFor=function(e,t){var n=u(e,!1).cache;if(n&&t in n)return n[t]}}(),function(){var e=function(e){return e&&Function.prototype.toString.call(e).indexOf("[native code]")>-1},t=e(Array.prototype.map)?Array.prototype.map:function(e){if(this===void 0||this===null)throw new TypeError;var t=Object(this),n=t.length>>>0;if(typeof e!="function")throw new TypeError;var r=new Array(n),i=arguments[1];for(var s=0;s<n;s++)s in t&&(r[s]=e.call(i,t[s],s,t));return r},n=e(Array.prototype.forEach)?Array.prototype.forEach:function(e){if(this===void 0||this===null)throw new TypeError;var t=Object(this),n=t.length>>>0;if(typeof e!="function")throw new TypeError;var r=arguments[1];for(var i=0;i<n;i++)i in t&&e.call(r,t[i],i,t)},r=e(Array.prototype.indexOf)?Array.prototype.indexOf:function(e,t){t===null||t===undefined?t=0:t<0&&(t=Math.max(0,this.length+t));for(var n=t,r=this.length;n<r;n++)if(this[n]===e)return n;return-1};Ember.ArrayUtils={map:function(e){var n=Array.prototype.slice.call(arguments,1);return e.map?e.map.apply(e,n):t.apply(e,n)},forEach:function(e){var t=Array.prototype.slice.call(arguments,1);return e.forEach?e.forEach.apply(e,t):n.apply(e,t)},indexOf:function(e){var t=Array.prototype.slice.call(arguments,1);return e.indexOf?e.indexOf.apply(e,t):r.apply(e,t)},indexesOf:function(e){var t=Array.prototype.slice.call(arguments,1);return t[0]===undefined?[]:Ember.ArrayUtils.map(t[0],function(t){return Ember.ArrayUtils.indexOf(e,t)})},removeObject:function(e,t){var n=this.indexOf(e,t);n!==-1&&e.splice(n,1)}},Ember.SHIM_ES5&&(Array.prototype.map||(Array.prototype.map=t),Array.prototype.forEach||(Array.prototype.forEach=n),Array.prototype.indexOf||(Array.prototype.indexOf=r))}(),function(){function e(e,t,n){h&&!n?g.push(e,t):Ember.sendEvent(e,t)}function t(){y.clear(),g.flush()}function n(e){return e+a}function r(e){return e+f}function i(e){return e.slice(0,-7)}function s(e){return e.slice(0,-7)}function o(e){return function(t,n,r){var s=r[0],o=i(r[1]),u,a=e.slice();n.length>2&&(u=Ember.getPath(Ember.isGlobalPath(o)?window:s,o)),a.unshift(s,o,u),n.apply(t,a)}}function u(e,t,n){var r=n[0],i=s(n[1]),o;t.length>2&&(o=Ember.getPath(r,i)),t.call(e,r,i,o)}var a=":change",f=":before",l=Ember.guidFor,c=Ember.normalizePath,h=0,p=Array.prototype.slice,d=Ember.ArrayUtils.forEach,v=function(){this.targetSet={}};v.prototype.add=function(e,t){var n=this.targetSet,r=Ember.guidFor(e),i=n[r];return i||(n[r]=i={}),i[t]?!1:i[t]=!0},v.prototype.clear=function(){this.targetSet={}};var m=function(){this.targetSet={},this.queue=[]};m.prototype.push=function(e,t){var n=this.targetSet,r=this.queue,i=Ember.guidFor(e),s=n[i],o;s||(n[i]=s={}),o=s[t],o===undefined?s[t]=r.push(Ember.deferEvent(e,t))-1:r[o]=Ember.deferEvent(e,t)},m.prototype.flush=function(){var e=this.queue;this.queue=[],this.targetSet={};for(var t=0,n=e.length;t<n;++t)e[t]()};var g=new m,y=new v;Ember.beginPropertyChanges=function(){return h++,this},Ember.endPropertyChanges=function(){h--,h<=0&&t()},Ember.changeProperties=function(e,t){Ember.beginPropertyChanges();try{e.call(t)}finally{Ember.endPropertyChanges()}},Ember.setProperties=function(e,t){return Ember.changeProperties(function(){for(var n in t)t.hasOwnProperty(n)&&Ember.set(e,n,t[n])}),e};var b=o([]);Ember.addObserver=function(e,t,r,i){t=c(t);var s;if(arguments.length>4){var u=p.call(arguments,4);s=o(u)}else s=b;return Ember.addListener(e,n(t),r,i,s),Ember.watch(e,t),this},Ember.observersFor=function(e,t){return Ember.listenersFor(e,n(t))},Ember.removeObserver=function(e,t,r,i){return t=c(t),Ember.unwatch(e,t),Ember.removeListener(e,n(t),r,i),this},Ember.addBeforeObserver=function(e,t,n,i){return t=c(t),Ember.addListener(e,r(t),n,i,u),Ember.watch(e,t),this},Ember._suspendObserver=function(e,t,r,i,s){return Ember._suspendListener(e,n(t),r,i,s)},Ember.beforeObserversFor=function(e,t){return Ember.listenersFor(e,r(t))},Ember.removeBeforeObserver=function(e,t,n,i){return t=c(t),Ember.unwatch(e,t),Ember.removeListener(e,r(t),n,i),this},Ember.notifyObservers=function(t,r){if(t.isDestroying)return;e(t,n(r))},Ember.notifyBeforeObservers=function(t,n){if(t.isDestroying)return;var i,s,o=!1;if(h){if(!y.add(t,n))return;o=!0}e(t,r(n),o)}}(),function(){function e(e){return e.match(C)[0]}function t(e){return e==="*"||!k.test(e)}function n(e,t,n,r,i){var s=v(t);r[s]||(r[s]={});if(r[s][n])return;r[s][n]=!0;var o=i.deps;o=o&&o[n];if(o)for(var u in o){if(L[u])continue;e(t,u)}}function r(e,t,r){if(e.isDestroying)return;var i=A,s=!i;s&&(i=A={}),n(p,e,t,i,r),s&&(A=null)}function i(e,t,r){if(e.isDestroying)return;var i=O,s=!i;s&&(i=O={}),n(d,e,t,i,r),s&&(O=null)}function s(e,t,n){if(!e||"object"!=typeof e)return;var r=m(e),i=r.chainWatchers;if(!i||i.__emberproto__!==e)i=r.chainWatchers={__emberproto__:e};i[t]||(i[t]={}),i[t][v(n)]=n,Ember.watch(e,t)}function o(e,t,n){if(!e||"object"!=typeof e)return;var r=m(e,!1),i=r.chainWatchers;if(!i||i.__emberproto__!==e)return;i[t]&&delete i[t][v(n)],Ember.unwatch(e,t)}function u(){if(M.length===0)return;var e=M;M=[],N(e,function(e){e[0].add(e[1])})}function a(e){return m(e,!1).proto===e}function f(e){var t=m(e),n=t.chains;return n?n.value()!==e&&(n=t.chains=n.copy(e)):n=t.chains=new _(null,null,e),n}function l(e,t,n,r,i){var s=t.chainWatchers;if(!s||s.__emberproto__!==e)return;s=s[n];if(!s)return;for(var o in s){if(!s.hasOwnProperty(o))continue;s[o][r](i)}}function c(e,t,n){l(e,n,t,"willChange")}function h(e,t,n){l(e,n,t,"didChange")}function p(e,t){var n=m(e,!1),i=n.proto,s=n.descs[t];if(i===e)return;s&&s.willChange&&s.willChange(e,t),r(e,t,n),c(e,t,n),Ember.notifyBeforeObservers(e,t)}function d(e,t){var n=m(e,!1),r=n.proto,s=n.descs[t];if(r===e)return;s&&s.didChange&&s.didChange(e,t),i(e,t,n),h(e,t,n),Ember.notifyObservers(e,t)}var v=Ember.guidFor,m=Ember.meta,g=Ember.get,y=Ember.set,b=Ember.normalizeTuple.primitive,w=Ember.normalizePath,E=Ember.SIMPLE_PROPERTY,S=Ember.GUID_KEY,x=Ember.META_KEY,T=Ember.notifyObservers,N=Ember.ArrayUtils.forEach,C=/^([^\.\*]+)/,k=/[\.\*]/,L={__emberproto__:!0},A,O,M=[],_=function(e,t,n,r){var i;this._parent=e,this._key=t,this._watching=n===undefined,this._value=n,this._separator=r||".",this._paths={},this._watching&&(this._object=e.value(),this._object&&s(this._object,this._key,this)),this._parent&&this._parent._key==="@each"&&this.value()},D=_.prototype;D.value=function(){if(this._value===undefined&&this._watching){var e=this._parent.value();this._value=e&&!a(e)?g(e,this._key):undefined}return this._value},D.destroy=function(){if(this._watching){var e=this._object;e&&o(e,this._key,this),this._watching=!1}},D.copy=function(e){var t=new _(null,null,e,this._separator),n=this._paths,r;for(r in n){if(n[r]<=0)continue;t.add(r)}return t},D.add=function(t){var n,r,i,s,o,u;u=this._paths,u[t]=(u[t]||0)+1,n=this.value(),r=b(n,t);if(r[0]&&r[0]===n)t=r[1],i=e(t),t=t.slice(i.length+1);else{if(!r[0]){M.push([this,t]),r.length=0;return}s=r[0],i=t.slice(0,0-(r[1].length+1)),o=t.slice(i.length,i.length+1),t=r[1]}r.length=0,this.chain(i,t,s,o)},D.remove=function(t){var n,r,i,s,o;o=this._paths,o[t]>0&&o[t]--,n=this.value(),r=b(n,t),r[0]===n?(t=r[1],i=e(t),t=t.slice(i.length+1)):(s=r[0],i=t.slice(0,0-(r[1].length+1)),t=r[1]),r.length=0,this.unchain(i,t)},D.count=0,D.chain=function(t,n,r,i){var s=this._chains,o;s||(s=this._chains={}),o=s[t],o||(o=s[t]=new _(this,t,r,i)),o.count++,n&&n.length>0&&(t=e(n),n=n.slice(t.length+1),o.chain(t,n))},D.unchain=function(t,n){var r=this._chains,i=r[t];n&&n.length>1&&(t=e(n),n=n.slice(t.length+1),i.unchain(t,n)),i.count--,i.count<=0&&(delete r[i._key],i.destroy())},D.willChange=function(){var e=this._chains;if(e)for(var t in e){if(!e.hasOwnProperty(t))continue;e[t].willChange()}this._parent&&this._parent.chainWillChange(this,this._key,1)},D.chainWillChange=function(e,t,n){this._key&&(t=this._key+this._separator+t),this._parent?this._parent.chainWillChange(this,t,n+1):(n>1&&Ember.propertyWillChange(this.value(),t),t="this."+t,this._paths[t]>0&&Ember.propertyWillChange(this.value(),t))},D.chainDidChange=function(e,t,n){this._key&&(t=this._key+this._separator+t),this._parent?this._parent.chainDidChange(this,t,n+1):(n>1&&Ember.propertyDidChange(this.value(),t),t="this."+t,this._paths[t]>0&&Ember.propertyDidChange(this.value(),t))},D.didChange=function(e){if(this._watching){var t=this._parent.value();t!==this._object&&(o(this._object,this._key,this),this._object=t,s(t,this._key,this)),this._value=undefined,this._parent&&this._parent._key==="@each"&&this.value()}var n=this._chains;if(n)for(var r in n){if(!n.hasOwnProperty(r))continue;n[r].didChange(e)}if(e)return;this._parent&&this._parent.chainDidChange(this,this._key,1)},Ember.overrideChains=function(e,t,n){l(e,n,t,"didChange",!0)};var P=Ember.SIMPLE_PROPERTY.watched;Ember.watch=function(e,n){if(n==="length"&&Ember.typeOf(e)==="array")return this;var r=m(e),i=r.watching,s;return n=w(n),i[n]?i[n]=(i[n]||0)+1:(i[n]=1,t(n)?(s=r.descs[n],s=s?s.watched:P,s&&Ember.defineProperty(e,n,s)):f(e).add(n)),this},Ember.isWatching=function(e,t){return!!m(e).watching[t]},Ember.watch.flushPending=u,Ember.unwatch=function(e,n){if(n==="length"&&Ember.typeOf(e)==="array")return this;var r=m(e).watching,i,s;return n=w(n),r[n]===1?(r[n]=0,t(n)?(i=m(e).descs[n],i=i?i.unwatched:E,i&&Ember.defineProperty(e,n,i)):f(e).remove(n)):r[n]>1&&r[n]--,this},Ember.rewatch=function(e){var t=m(e,!1),n=t.chains,r=t.bindings,i,s;return S in e&&!e.hasOwnProperty(S)&&Ember.generateGuid(e,"ember"),n&&n.value()!==e&&f(e),this},Ember.propertyWillChange=p,Ember.propertyDidChange=d;var H=[];Ember.destroy=function(e){var t=e[x],n,r,i,s;if(t){e[x]=null,n=t.chains;if(n){H.push(n);while(H.length>0){n=H.pop(),r=n._chains;if(r)for(i in r)r.hasOwnProperty(i)&&H.push(r[i]);n._watching&&(s=n._object,s&&o(s,n._key,n))}}}}}(),function(){function e(e,t,n,r){var i=d(n);return m(e,["listeners",t,i],r)}function t(e,t){var n=p(e,!1).listeners;return n?n[t]||!1:!1}function n(e,t,n){if(!e)return!1;for(var r in e){if(g[r])continue;var i=e[r];if(i)for(var s in i){if(g[s])continue;var o=i[s];if(o&&t(o,n)===!0)return!0}}return!1}function r(e,t){var n=e.method,r=e.target,i=e.xform;r||(r=t[0]),"string"==typeof n&&(n=r[n]),i?i(r,n,t):n.apply(r,t)}function i(t,n,r,i,s){!i&&"function"==typeof r&&(i=r,r=null);var o=e(t,n,r,!0),u=d(i);o[u]?o[u].xform=s:o[u]={target:r,method:i,xform:s},"function"==typeof t.didAddListener&&t.didAddListener(n,r,i)}function s(t,n,r,i){!i&&"function"==typeof r&&(i=r,r=null);var s=e(t,n,r,!0),o=d(i);s&&s[o]&&(s[o]=null),t&&"function"==typeof t.didRemoveListener&&t.didRemoveListener(n,r,i)}function o(t,n,r,i,s){!i&&"function"==typeof r&&(i=r,r=null);var o=e(t,n,r,!0),u=d(i),a=o&&o[u];o[u]=null;try{return s.call(r)}finally{o[u]=a}}function u(e){var t=p(e,!1).listeners,n=[];if(t)for(var r in t)!g[r]&&t[r]&&n.push(r);return n}function a(e,i){e!==Ember&&"function"==typeof e.sendEvent&&e.sendEvent.apply(e,v.call(arguments,1));var s=t(e,i);return n(s,r,arguments),!0}function f(e,i){var s=t(e,i),o=[],u=arguments;return n(s,function(e){o.push(e)}),function(){e!==Ember&&"function"==typeof e.sendEvent&&e.sendEvent.apply(e,v.call(u,1));for(var t=0,n=o.length;t<n;++t)r(o[t],u)}}function l(e,r){var i=t(e,r);if(n(i,function(){return!0}))return!0;var s=m(e,["listeners"],!0);return s[r]=null,!1}function c(e,r){var i=t(e,r),s=[];return n(i,function(e){s.push([e.target,e.method])}),s}var h=Ember.platform.create,p=Ember.meta,d=Ember.guidFor,v=Array.prototype.slice,m=Ember.metaPath,g={__ember_source__:!0};Ember.addListener=i,Ember.removeListener=s,Ember._suspendListener=o,Ember.sendEvent=a,Ember.hasListeners=l,Ember.watchedEvents=u,Ember.listenersFor=c,Ember.deferEvent=f}(),function(){function e(e,t,n,r){t===undefined&&(t=e,e=undefined),"string"==typeof t&&(t=e[t]),n&&r>0&&(n=n.length>r?s.call(n,r):null);if("function"!=typeof Ember.onerror)return t.apply(e||this,n||[]);try{return t.apply(e||this,n||[])}catch(i){Ember.onerror(i)}}function t(){c=null,l.currentRunLoop&&l.end()}function n(){var t=+(new Date),r=-1;for(var i in h){if(!h.hasOwnProperty(i))continue;var s=h[i];if(s&&s.expires)if(t>=s.expires)delete h[i],e(s.target,s.method,s.args,2);else if(r<0||s.expires<r)r=s.expires}r>0&&setTimeout(n,r- +(new Date))}function r(t,n){n[this.tguid]&&delete n[this.tguid][this.mguid],h[t]&&e(this.target,this.method,this.args,2),delete h[t]}function i(){d=null;for(var t in h){if(!h.hasOwnProperty(t))continue;var n=h[t];n.next&&(delete h[t],e(n.target,n.method,n.args,2))}}var s=Array.prototype.slice,o=Ember.ArrayUtils.forEach,u,a=function(){},f=function(e){var t;return this instanceof f?t=this:t=new a,t._prev=e||null,t.onceTimers={},t};a.prototype=f.prototype,f.prototype={end:function(){this.flush()},prev:function(){return this._prev},schedule:function(e,t,n){var r=this._queues,i;r||(r=this._queues={}),i=r[e],i||(i=r[e]=[]);var o=arguments.length>3?s.call(arguments,3):null;return i.push({target:t,method:n,args:o}),this},flush:function(t){function n(t){e(t.target,t.method,t.args)}var r=this._queues,i,s,a,f,l;if(!r)return this;Ember.watch.flushPending();if(t)while(this._queues&&(f=this._queues[t])){this._queues[t]=null;if(t==="sync"){l=Ember.LOG_BINDINGS,l&&Ember.Logger.log("Begin: Flush Sync Queue"),Ember.beginPropertyChanges();try{o(f,n)}finally{Ember.endPropertyChanges()}l&&Ember.Logger.log("End: Flush Sync Queue")}else o(f,n)}else{i=Ember.run.queues,a=i.length;do{this._queues=null;for(s=0;s<a;s++){t=i[s],f=r[t];if(f)if(t==="sync"){l=Ember.LOG_BINDINGS,l&&Ember.Logger.log("Begin: Flush Sync Queue"),Ember.beginPropertyChanges();try{o(f,n)}finally{Ember.endPropertyChanges()}l&&Ember.Logger.log("End: Flush Sync Queue")}else o(f,n)}}while(r=this._queues)}return u=null,this}},Ember.RunLoop=f,Ember.run=function(t,n){var r,i;l.begin();try{if(t||n)r=e(t,n,arguments,2)}finally{l.end()}return r};var l=Ember.run;Ember.run.begin=function(){l.currentRunLoop=new f(l.currentRunLoop)},Ember.run.end=function(){try{l.currentRunLoop.end()}finally{l.currentRunLoop=l.currentRunLoop.prev()}},Ember.run.queues=["sync","actions","destroy","timers"],Ember.run.schedule=function(e,t,n){var r=l.autorun();r.schedule.apply(r,arguments)};var c;Ember.run.autorun=function(){return l.currentRunLoop||(l.begin(),Ember.testing?l.end():c||(c=setTimeout(t,1))),l.currentRunLoop},Ember.run.sync=function(){l.autorun(),l.currentRunLoop.flush("sync")};var h={},p=!1;Ember.run.later=function(e,t){var r,i,o,u,a;return arguments.length===2&&"function"==typeof e?(a=t,t=e,e=undefined,r=[e,t]):(r=s.call(arguments),a=r.pop()),i=+(new Date)+a,o={target:e,method:t,expires:i,args:r},u=Ember.guidFor(o),h[u]=o,l.once(h,n),u},Ember.run.once=function(e,t){var n=Ember.guidFor(e),i=Ember.guidFor(t),o,u,a=l.autorun().onceTimers;return o=a[n]&&a[n][i],o&&h[o]?h[o].args=s.call(arguments):(u={target:e,method:t,args:s.call(arguments),tguid:n,mguid:i},o=Ember.guidFor(u),h[o]=u,a[n]||(a[n]={}),a[n][i]=o,l.schedule("actions",u,r,o,a)),o};var d=!1;Ember.run.next=function(e,t){var n,r;return n={target:e,method:t,args:s.call(arguments),next:!0},r=Ember.guidFor(n),h[r]=n,d||(d=setTimeout(i,1)),r},Ember.run.cancel=function(e){delete h[e]}}(),function(){function e(e){return e instanceof Array?e:e===undefined||e===null?[]:[e]}function t(e,t){return e instanceof Array?e.length>1?t:e[0]:e}function n(e,t,n,r){var i=e._typeTransform;i&&(t=i(t,e._placeholder));var s=e._transforms,o=s?s.length:0,u;for(u=0;u<o;u++){var a=s[u][r];a&&(t=a.call(this,t,n))}return t}function r(e){return e===undefined||e===null||e===""||Ember.isArray(e)&&l(e,"length")===0}function i(e,t){return c(d(t)?window:e,t)}function s(e,t){var r=t._operation,s;return r?s=r(e,t._from,t._operand):s=i(e,t._from),n(t,s,e,"to")}function o(e,t){var r=c(e,t._to);return n(t,r,e,"from")}function u(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}Ember.LOG_BINDINGS=!!Ember.ENV.LOG_BINDINGS,Ember.BENCHMARK_BINDING_NOTIFICATIONS=!!Ember.ENV.BENCHMARK_BINDING_NOTIFICATIONS,Ember.BENCHMARK_BINDING_SETUP=!!Ember.ENV.BENCHMARK_BINDING_SETUP,Ember.MULTIPLE_PLACEHOLDER="@@MULT@@",Ember.EMPTY_PLACEHOLDER="@@EMPTY@@";var a={to:function(e){return!!e}},f={to:function(e){return!e}},l=Ember.get,c=Ember.getPath,h=Ember.setPath,p=Ember.guidFor,d=Ember.isGlobalPath,v=function(e,t,n){return i(e,t)&&i(e,n)},m=function(e,t,n){return i(e,t)||i(e,n)},g=function(){},y=function(e,t){var n;return this instanceof y?n=this:n=new g,n._direction="fwd",n._from=t,n._to=e,n};g.prototype=y.prototype,y.prototype={copy:function(){var e=new y(this._to,this._from);return this._oneWay&&(e._oneWay=!0),this._transforms&&(e._transforms=this._transforms.slice(0)),this._typeTransform&&(e._typeTransform=this._typeTransform,e._placeholder=this._placeholder),this._operand&&(e._operand=this._operand,e._operation=this._operation),e},from:function(e){return this._from=e,this},to:function(e){return this._to=e,this},oneWay:function(e){return this._oneWay=e===undefined?!0:!!e,this},transform:function(e){return"function"==typeof e&&(e={to:e}),this._transforms||(this._transforms=[]),this._transforms.push(e),this},resetTransforms:function(){return this._transforms=null,this},single:function(e){return e===undefined&&(e=Ember.MULTIPLE_PLACEHOLDER),this._typeTransform=t,this._placeholder=e,this},multiple:function(){return this._typeTransform=e,this._placeholder=null,this},bool:function(){return this.transform(a),this},notEmpty:function(e){if(e===null||e===undefined)e=Ember.EMPTY_PLACEHOLDER;return this.transform({to:function(t){return r(t)?e:t}}),this},notNull:function(e){if(e===null||e===undefined)e=Ember.EMPTY_PLACEHOLDER;return this.transform({to:function(t){return t===null||t===undefined?e:t}}),this},not:function(){return this.transform(f),this},isNull:function(){return this.transform(function(e){return e===null||e===undefined}),this},toString:function(){var e=this._oneWay?"[oneWay]":"";return"Ember.Binding<"+p(this)+">("+this._from+" -> "+this._to+")"+e},connect:function(e){var t=this._oneWay,n=this._operand;return Ember.addObserver(e,this._from,this,this.fromDidChange),n&&Ember.addObserver(e,n,this,this.fromDidChange),t||Ember.addObserver(e,this._to,this,this.toDidChange),Ember.meta(e,!1).proto!==e&&this._scheduleSync(e,"fwd"),this._readyToSync=!0,this},disconnect:function(e){var t=this._oneWay,n=this._operand;return Ember.removeObserver(e,this._from,this,this.fromDidChange),n&&Ember.removeObserver(e,n,this,this.fromDidChange),t||Ember.removeObserver(e,this._to,this,this.toDidChange),this._readyToSync=!1,this},fromDidChange:function(e){this._scheduleSync(e,"fwd")},toDidChange:function(e){this._scheduleSync(e,"back")},_scheduleSync:function(e,t){var n=p(e),r=this[n];r||(Ember.run.schedule("sync",this,this._sync,e),this[n]=t),r==="back"&&t==="fwd"&&(this[n]="fwd")},_sync:function(e){var t=Ember.LOG_BINDINGS;if(e.isDestroyed||!this._readyToSync)return;var n=p(e),r=this[n],i=this._from,u=this._to;delete this[n];if(r==="fwd"){var a=s(e,this);t&&Ember.Logger.log(" ",this.toString(),"->",a,e),this._oneWay?Ember.trySetPath(Ember.isGlobalPath(u)?window:e,u,a):Ember._suspendObserver(e,u,this,this.toDidChange,function(){Ember.trySetPath(Ember.isGlobalPath(u)?window:e,u,a)})}else if(r==="back"){var f=o(e,this);t&&Ember.Logger.log(" ",this.toString(),"<-",f,e),Ember._suspendObserver(e,i,this,this.fromDidChange,function(){Ember.trySetPath(Ember.isGlobalPath(i)?window:e,i,f)})}}},u(y,{from:function(){var e=this,t=new e;return t.from.apply(t,arguments)},to:function(){var e=this,t=new e;return t.to.apply(t,arguments)},oneWay:function(e,t){var n=this,r=new n(null,e);return r.oneWay(t)},single:function(e,t){var n=this,r=new n(null,e);return r.single(t)},multiple:function(e){var t=this,n=new t(null,e);return n.multiple()},transform:function(e,t){t||(t=e,e=null);var n=this,r=new n(null,e);return r.transform(t)},notEmpty:function(e,t){var n=this,r=new n(null,e);return r.notEmpty(t)},notNull:function(e,t){var n=this,r=new n(null,e);return r.notNull(t)},bool:function(e){var t=this,n=new t(null,e);return n.bool()},not:function(e){var t=this,n=new t(null,e);return n.not()},isNull:function(e){var t=this,n=new t(null,e);return n.isNull()},and:function(e,t){var n=this,r=(new n(null,e)).oneWay();return r._operand=t,r._operation=v,r},or:function(e,t){var n=this,r=(new n(null,e)).oneWay();return r._operand=t,r._operation=m,r},registerTransform:function(e,t){this.prototype[e]=t,this[e]=function(t){var n=this,r=new n(null,t),i;return i=Array.prototype.slice.call(arguments,1),r[e].apply(r,i)}}}),Ember.Binding=y,Ember.bind=function(e,t,n){return(new Ember.Binding(t,n)).connect(e)},Ember.oneWay=function(e,t,n){return(new Ember.Binding(t,n)).oneWay().connect(e)}}(),function(){function e(e,t){var n=Ember.meta(e,t!==!1),r=n.mixins;return t===!1?r||T:(r?r.__emberproto__!==e&&(r=n.mixins=C(r),r.__emberproto__=e):r=n.mixins={__emberproto__:e},r)}function t(e,t){return t&&t.length>0&&(e.mixins=w(t,function(e){if(e instanceof d)return e;var t=new d;return t.properties=e,t})),e}function n(e){return"function"!=typeof e||e.isMethod===!1?!1:E(k,e)<0}function r(e,t,i,s,o){function u(e){delete i[e],delete s[e]}var a=e.length,f,l,c,h,p,v,g,y;for(f=0;f<a;f++){l=e[f];if(!l)throw new Error("Null value found in Ember.mixin()");if(l instanceof d){c=Ember.guidFor(l);if(t[c])continue;t[c]=l,h=l.properties}else h=l;if(h){y=s.concatenatedProperties||o.concatenatedProperties,h.concatenatedProperties&&(y=y?y.concat(h.concatenatedProperties):h.concatenatedProperties);for(v in h){if(!h.hasOwnProperty(v))continue;p=h[v];if(p instanceof Ember.Descriptor){if(p===m&&i[v])continue;i[v]=p,s[v]=undefined}else{if(n(p)){g=i[v]===Ember.SIMPLE_PROPERTY&&s[v],g||(g=o[v]),"function"!=typeof g&&(g=null);if(g){var b=p.__ember_observes__,w=p.__ember_observesBefore__;p=Ember.wrap(p,g),p.__ember_observes__=b,p.__ember_observesBefore__=w}}else if(y&&E(y,v)>=0||v==="concatenatedProperties"){var x=s[v]||o[v];p=x?x.concat(p):Ember.makeArray(p)}i[v]=Ember.SIMPLE_PROPERTY,s[v]=p}}h.hasOwnProperty("toString")&&(o.toString=h.toString)}else l.mixins&&(r(l.mixins,t,i,s,o),l._without&&S(l._without,u))}}function i(e){var t=Ember.meta(e),n=t.required;if(!n||n.__emberproto__!==e)n=t.required=n?C(n):{__ember_count__:0},n.__emberproto__=e;return n}function s(e){return"function"==typeof e&&e.__ember_observes__}function o(e){return"function"==typeof e&&e.__ember_observesBefore__}function u(e,t,n){if(A.test(t)){var r=n.bindings;r?r.__emberproto__!==e&&(r=n.bindings=C(n.bindings),r.__emberproto__=e):r=n.bindings={__emberproto__:e},r[t]=!0}}function a(e,t){t===undefined&&(t=Ember.meta(e));var n=t.bindings,r,i;if(n)for(r in n)i=r!=="__emberproto__"&&e[r],i&&(i instanceof Ember.Binding?(i=i.copy(),i.to(r.slice(0,-7))):i=new Ember.Binding(r.slice(0,-7),i),i.connect(e),e[r]=i)}function f(t,n,f){var l={},c={},h=Ember.meta(t),p=h.required,d,y,b,w,E;r(n,e(t),l,c,t),v.detect(t)&&(y=c.willApplyProperty||t.willApplyProperty,b=c.didApplyProperty||t.didApplyProperty);for(d in l){if(!l.hasOwnProperty(d))continue;E=l[d],w=c[d];if(E===m){if(!(d in t)){if(!f)throw new Error("Required property not defined: "+d);p=i(t),p.__ember_count__++,p[d]=!0}}else{while(E instanceof g){var S=E.methodName;l[S]?(w=c[S],E=l[S]):h.descs[S]?(E=h.descs[S],w=E.val(t,S)):(w=t[S],E=Ember.SIMPLE_PROPERTY)}y&&y.call(t,d);var x=s(w),T=x&&s(t[d]),C=o(w),k=C&&o(t[d]),A,O;if(T){A=T.length;for(O=0;O<A;O++)Ember.removeObserver(t,T[O],null,d)}if(k){A=k.length;for(O=0;O<A;O++)Ember.removeBeforeObserver(t,k[O],null,d)}u(t,d,h),L(t,d,E,w);if(x){A=x.length;for(O=0;O<A;O++)Ember.addObserver(t,x[O],null,d)}if(C){A=C.length;for(O=0;O<A;O++)Ember.addBeforeObserver(t,C[O],null,d)}p&&p[d]&&(p=i(t),p.__ember_count__--,p[d]=!1),b&&b.call(t,d)}}f||(w=a(t,h));if(!f&&p&&p.__ember_count__>0){var M=[];for(d in p){if(N[d])continue;M.push(d)}throw new Error("Required properties not defined: "+M.join(","))}return t}function l(e,t,n){var r=Ember.guidFor(e);if(n[r])return!1;n[r]=!0;if(e===t)return!0;var i=e.mixins,s=i?i.length:0;while(--s>=0)if(l(i[s],t,n))return!0;return!1}function c(e,t,n){if(n[Ember.guidFor(t)])return;n[Ember.guidFor(t)]=!0;if(t.properties){var r=t.properties;for(var i in r)r.hasOwnProperty(i)&&(e[i]=!0)}else t.mixins&&S(t.mixins,function(t){c(e,t,n)})}function h(e,t,n){var r=e.length;for(var i in t){if(!t.hasOwnProperty||!t.hasOwnProperty(i))continue;var s=t[i];e[r]=i;if(s&&s.toString===y)s[M]=e.join(".");else if(s&&_(s,"isNamespace")){if(n[Ember.guidFor(s)])continue;n[Ember.guidFor(s)]=!0,h(e,s,n)}}e.length=r}function p(){var e=Ember.Namespace,t,n;if(e.PROCESSED)return;for(var r in window){if(r==="globalStorage"&&window.StorageList&&window.globalStorage instanceof window.StorageList)continue;if(window.hasOwnProperty&&!window.hasOwnProperty(r))continue;try{t=window[r],n=t&&_(t,"isNamespace")}catch(i){continue}n&&(t[M]=r)}}var d,v,m,g,y,b,w=Ember.ArrayUtils.map,E=Ember.ArrayUtils.indexOf,S=Ember.ArrayUtils.forEach,x=Array.prototype.slice,T={},N={__emberproto__:!0,__ember_count__:!0},C=Ember.platform.create,k=[Boolean,Object,Number,Array,Date,String],L=Ember.defineProperty,A=Ember.IS_BINDING=/^.+Binding$/;Ember.mixin=function(e){var t=x.call(arguments,1);return f(e,t,!1)},Ember.Mixin=function(){return t(this,arguments)},d=Ember.Mixin,d._apply=f,d.applyPartial=function(e){var t=x.call(arguments,1);return f(e,t,!0)},d.finishPartial=function(e){return a(e),e},d.create=function(){y.processed=!1;var e=this;return t(new e,arguments)},d.prototype.reopen=function(){var e,t;this.properties&&(e=d.create(),e.properties=this.properties,delete this.properties,this.mixins=[e]);var n=arguments.length,r=this.mixins,i;for(i=0;i<n;i++)e=arguments[i],e instanceof d?r.push(e):(t=d.create(),t.properties=e,r.push(t));return this};var O=[];d.prototype.apply=function(e){O[0]=this;var t=f(e,O,!1);return O.length=0,t},d.prototype.applyPartial=function(e){O[0]=this;var t=f(e,O,!0);return O.length=0,t},d.prototype.detect=function(t){return t?t instanceof d?l(t,this,{}):!!e(t,!1)[Ember.guidFor(this)]:!1},d.prototype.without=function(){var e=new d(this);return e._without=x.call(arguments),e},d.prototype.keys=function(){var e={},t={},n=[];c(e,this,t);for(var r in e)e.hasOwnProperty(r)&&n.push(r);return n};var M=Ember.GUID_KEY+"_name",_=Ember.get;Ember.identifyNamespaces=p,b=function(e){var t=e.superclass;if(t)return t[M]?t[M]:b(t);return},y=function(){var e=Ember.Namespace,t;if(e&&!this[M]&&!y.processed){e.PROCESSED||(p(),e.PROCESSED=!0),y.processed=!0;var n=e.NAMESPACES;for(var r=0,i=n.length;r<i;r++)t=n[r],h([t.toString()],t,{})}if(this[M])return this[M];var s=b(this);return s?"(subclass of "+s+")":"(unknown mixin)"},d.prototype.toString=y,d.mixins=function(t){var n=[],r=e(t,!1),i,s;for(i in r){if(N[i])continue;s=r[i],s.properties||n.push(r[i])}return n},m=new Ember.Descriptor,m.toString=function(){return"(Required Property)"},Ember.required=function(){return m},g=function(e){this.methodName=e},g.prototype=new Ember.Descriptor,Ember.alias=function(e){return new g(e)},Ember.MixinDelegate=d.create({willApplyProperty:Ember.required(),didApplyProperty:Ember.required()}),v=Ember.MixinDelegate,Ember.observer=function(e){var t=x.call(arguments,1);return e.__ember_observes__=t,e},Ember.beforeObserver=function(e){var t=x.call(arguments,1);return e.__ember_observesBefore__=t,e}}(),function(){}(),function(){}(),function(){function e(n,r,i,s){var o,u,f;if("object"!=typeof n||n===null)return n;if(r&&(u=t(i,n))>=0)return s[u];if(Ember.typeOf(n)==="array"){o=n.slice();if(r){u=o.length;while(--u>=0)o[u]=e(o[u],r,i,s)}}else if(Ember.Copyable&&Ember.Copyable.detect(n))o=n.copy(r,i,s);else{o={};for(f in n){if(!n.hasOwnProperty(f))continue;o[f]=r?e(n[f],r,i,s):n[f]}}return r&&(i.push(n),s.push(o)),o}var t=Ember.ArrayUtils.indexOf,n={},r="Boolean Number String Function Array Date RegExp Object".split(" ");Ember.ArrayUtils.forEach(r,function(e){n["[object "+e+"]"]=e.toLowerCase()});var i=Object.prototype.toString;Ember.typeOf=function(e){var t;return t=e===null||e===undefined?String(e):n[i.call(e)]||"object",t==="function"?Ember.Object&&Ember.Object.detect(e)&&(t="class"):t==="object"&&(e instanceof Error?t="error":Ember.Object&&e instanceof Ember.Object?t="instance":t="object"),t},Ember.none=function(e){return e===null||e===undefined},Ember.empty=function(e){return e===null||e===undefined||e.length===0&&typeof e!="function"},Ember.compare=function s(e,t){if(e===t)return 0;var n=Ember.typeOf(e),r=Ember.typeOf(t),i=Ember.Comparable;if(i){if(n==="instance"&&i.detect(e.constructor))return e.constructor.compare(e,t);if(r==="instance"&&i.detect(t.constructor))return 1-t.constructor.compare(t,e)}var o=Ember.ORDER_DEFINITION_MAPPING;if(!o){var u=Ember.ORDER_DEFINITION;o=Ember.ORDER_DEFINITION_MAPPING={};var a,f;for(a=0,f=u.length;a<f;++a)o[u[a]]=a;delete Ember.ORDER_DEFINITION}var l=o[n],c=o[r];if(l<c)return-1;if(l>c)return 1;switch(n){case"boolean":case"number":if(e<t)return-1;if(e>t)return 1;return 0;case"string":var h=e.localeCompare(t);if(h<0)return-1;if(h>0)return 1;return 0;case"array":var p=e.length,d=t.length,v=Math.min(p,d),m=0,g=0;while(m===0&&g<v)m=s(e[g],t[g]),g++;if(m!==0)return m;if(p<d)return-1;if(p>d)return 1;return 0;case"instance":if(Ember.Comparable&&Ember.Comparable.detect(e))return e.compare(e,t);return 0;default:return 0}},Ember.copy=function(t,n){return"object"!=typeof t||t===null?t:Ember.Copyable&&Ember.Copyable.detect(t)?t.copy(n):e(t,n,n?[]:null,n?[]:null)},Ember.inspect=function(e){var t,n=[];for(var r in e)if(e.hasOwnProperty(r)){t=e[r];if(t==="toString")continue;Ember.typeOf(t)==="function"&&(t="function() { ... }"),n.push(r+": "+t)}return"{"+n.join(" , ")+"}"},Ember.isEqual=function(e,t){return e&&"function"==typeof e.isEqual?e.isEqual(t):e===t},Ember.ORDER_DEFINITION=Ember.ENV.ORDER_DEFINITION||["undefined","null","boolean","number","string","array","object","instance","function","class"],Ember.keys=Object.keys,Ember.keys||(Ember.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),Ember.Error=function(){var e=Error.prototype.constructor.apply(this,arguments);for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this.message=e.message},Ember.Error.prototype=Ember.create(Error.prototype)}(),function(){var e=/[ _]/g,t={},n=/([a-z])([A-Z])/g,r=/(\-|_|\s)+(.)?/g,i=/([a-z\d])([A-Z]+)/g,s=/\-|\s+/g;Ember.STRINGS={},Ember.String={fmt:function(e,t){var n=0;return e.replace(/%@([0-9]+)?/g,function(e,r){return r=r?parseInt(r,0)-1:n++,e=t[r],(e===null?"(null)":e===undefined?"":e).toString()})},loc:function(e,t){return e=Ember.STRINGS[e]||e,Ember.String.fmt(e,t)},w:function(e){return e.split(/\s+/)},decamelize:function(e){return e.replace(n,"$1_$2").toLowerCase()},dasherize:function(n){var r=t,i=r[n];return i?i:(i=Ember.String.decamelize(n).replace(e,"-"),r[n]=i,i)},camelize:function(e){return e.replace(r,function(e,t,n){return n?n.toUpperCase():""})},underscore:function(e){return e.replace(i,"$1_$2").replace(s,"_").toLowerCase()}}}(),function(){var e=Ember.String.fmt,t=Ember.String.w,n=Ember.String.loc,r=Ember.String.camelize,i=Ember.String.decamelize,s=Ember.String.dasherize,o=Ember.String.underscore;Ember.EXTEND_PROTOTYPES&&(String.prototype.fmt=function(){return e(this,arguments)},String.prototype.w=function(){return t(this)},String.prototype.loc=function(){return n(this,arguments)},String.prototype.camelize=function(){return r(this)},String.prototype.decamelize=function(){return i(this)},String.prototype.dasherize=function(){return s(this)},String.prototype.underscore=function(){return o(this)})}(),function(){var e=Array.prototype.slice;Ember.EXTEND_PROTOTYPES&&(Function.prototype.property=function(){var e=Ember.computed(this);return e.property.apply(e,arguments)},Function.prototype.observes=function(){return this.__ember_observes__=e.call(arguments),this},Function.prototype.observesBefore=function(){return this.__ember_observesBefore__=e.call(arguments),this})}(),function(){}(),function(){function e(){return a.length===0?{}:a.pop()}function t(e){return a.push(e),null}function n(e,t){function n(n){var s=i(n,e);return r?t===s:!!s}var r=arguments.length===2;return n}function r(e,t,n){t.call(e,n[0],n[2],n[3])}var i=Ember.get,s=Ember.set,o=Array.prototype.slice,u=Ember.ArrayUtils.indexOf,a=[];Ember.Enumerable=Ember.Mixin.create({isEnumerable:!0,nextObject:Ember.required(Function),firstObject:Ember.computed(function(){if(i(this,"length")===0)return undefined;var n=e(),r;return r=this.nextObject(0,null,n),t(n),r}).property("[]").cacheable(),lastObject:Ember.computed(function(){var n=i(this,"length");if(n===0)return undefined;var r=e(),s=0,o,u=null;do u=o,o=this.nextObject(s++,u,r);while(o!==undefined);return t(r),u}).property("[]").cacheable(),contains:function(e){return this.find(function(t){return t===e})!==undefined},forEach:function(n,r){if(typeof n!="function")throw new TypeError;var s=i(this,"length"),o=null,u=e();r===undefined&&(r=null);for(var a=0;a<s;a++){var l=this.nextObject(a,o,u);n.call(r,l,a,this),o=l}return o=null,u=t(u),this},getEach:function(e){return this.mapProperty(e)},setEach:function(e,t){return this.forEach(function(n){s(n,e,t)})},map:function(e,t){var n=[];return this.forEach(function(r,i,s){n[i]=e.call(t,r,i,s)}),n},mapProperty:function(e){return this.map(function(t){return i(t,e)})},filter:function(e,t){var n=[];return this.forEach(function(r,i,s){e.call(t,r,i,s)&&n.push(r)}),n},filterProperty:function(e,t){return this.filter(n.apply(this,arguments))},find:function(n,r){var s=i(this,"length");r===undefined&&(r=null);var o=null,u,a=!1,l,c=e();for(var h=0;h<s&&!a;h++){u=this.nextObject(h,o,c);if(a=n.call(r,u,h,this))l=u;o=u}return u=o=null,c=t(c),l},findProperty:function(e,t){return this.find(n.apply(this,arguments))},every:function(e,t){return!this.find(function(n,r,i){return!e.call(t,n,r,i)})},everyProperty:function(e,t){return this.every(n.apply(this,arguments))},some:function(e,t){return!!this.find(function(n,r,i){return!!e.call(t,n,r,i)})},someProperty:function(e,t){return this.some(n.apply(this,arguments))},reduce:function(e,t,n){if(typeof e!="function")throw new TypeError;var r=t;return this.forEach(function(t,i){r=e.call(null,r,t,i,this,n)},this),r},invoke:function(e){var t,n=[];return arguments.length>1&&(t=o.call(arguments,1)),this.forEach(function(r,i){var s=r&&r[e];"function"==typeof s&&(n[i]=t?s.apply(r,t):s.call(r))},this),n},toArray:function(){var e=[];return this.forEach(function(t,n){e[n]=t}),e},compact:function(){return this.without(null)},without:function(e){if(!this.contains(e))return this;var t=[];return this.forEach(function(n){n!==e&&(t[t.length]=n)}),t},uniq:function(){var e=[];return this.forEach(function(t){u(e,t)<0&&e.push(t)}),e},"[]":Ember.computed(function(e,t){return this}).property().cacheable(),addEnumerableObserver:function(e,t){var n=t&&t.willChange||"enumerableWillChange",s=t&&t.didChange||"enumerableDidChange",o=i(this,"hasEnumerableObservers");return o||Ember.propertyWillChange(this,"hasEnumerableObservers"),Ember.addListener(this,"@enumerable:before",e,n,r),Ember.addListener(this,"@enumerable:change",e,s,r),o||Ember.propertyDidChange(this,"hasEnumerableObservers"),this},removeEnumerableObserver:function(e,t){var n=t&&t.willChange||"enumerableWillChange",r=t&&t.didChange||"enumerableDidChange",s=i(this,"hasEnumerableObservers");return s&&Ember.propertyWillChange(this,"hasEnumerableObservers"),Ember.removeListener(this,"@enumerable:before",e,n),Ember.removeListener(this,"@enumerable:change",e,r),s&&Ember.propertyDidChange(this,"hasEnumerableObservers"),this},hasEnumerableObservers:Ember.computed(function(){return Ember.hasListeners(this,"@enumerable:change")||Ember.hasListeners(this,"@enumerable:before")}).property().cacheable(),enumerableContentWillChange:function(e,t){var n,r,s;return"number"==typeof e?n=e:e?n=i(e,"length"):n=e=-1,"number"==typeof t?r=t:t?r=i(t,"length"):r=t=-1,s=r<0||n<0||r-n!==0,e===-1&&(e=null),t===-1&&(t=null),Ember.propertyWillChange(this,"[]"),s&&Ember.propertyWillChange(this,"length"),Ember.sendEvent(this,"@enumerable:before",e,t),this},enumerableContentDidChange:function(e,t){var n=this.propertyDidChange,r,s,o;return"number"==typeof e?r=e:e?r=i(e,"length"):r=e=-1,"number"==typeof t?s=t:t?s=i(t,"length"):s=t=-1,o=s<0||r<0||s-r!==0,e===-1&&(e=null),t===-1&&(t=null),Ember.sendEvent(this,"@enumerable:change",e,t),o&&Ember.propertyDidChange(this,"length"),Ember.propertyDidChange(this,"[]"),this}})}(),function(){function e(e){return e===null||e===undefined}function t(e,t,n){t.call(e,n[0],n[2],n[3],n[4])}var n=Ember.get,r=Ember.set,i=Ember.meta,s=Ember.ArrayUtils.map,o=Ember.cacheFor;Ember.Array=Ember.Mixin.create(Ember.Enumerable,{isSCArray:!0,length:Ember.required(),objectAt:function(e){return e<0||e>=n(this,"length")?undefined:n(this,e)},objectsAt:function(e){var t=this;return s(e,function(e){return t.objectAt(e)})},nextObject:function(e){return this.objectAt(e)},"[]":Ember.computed(function(e,t){return t!==undefined&&this.replace(0,n(this,"length"),t),this}).property().cacheable(),firstObject:Ember.computed(function(){return this.objectAt(0)}).property().cacheable(),lastObject:Ember.computed(function(){return this.objectAt(n(this,"length")-1)}).property().cacheable(),contains:function(e){return this.indexOf(e)>=0},slice:function(t,r){var i=[],s=n(this,"length");e(t)&&(t=0);if(e(r)||r>s)r=s;while(t<r)i[i.length]=this.objectAt(t++);return i},indexOf:function(e,t){var r,i=n(this,"length");t===undefined&&(t=0),t<0&&(t+=i);for(r=t;r<i;r++)if(this.objectAt(r,!0)===e)return r;return-1},lastIndexOf:function(e,t){var r,i=n(this,"length");if(t===undefined||t>=i)t=i-1;t<0&&(t+=i);for(r=t;r>=0;r--)if(this.objectAt(r)===e)return r;return-1},addArrayObserver:function(e,r){var i=r&&r.willChange||"arrayWillChange",s=r&&r.didChange||"arrayDidChange",o=n(this,"hasArrayObservers");return o||Ember.propertyWillChange(this,"hasArrayObservers"),Ember.addListener(this,"@array:before",e,i,t),Ember.addListener(this,"@array:change",e,s,t),o||Ember.propertyDidChange(this,"hasArrayObservers"),this},removeArrayObserver:function(e,r){var i=r&&r.willChange||"arrayWillChange",s=r&&r.didChange||"arrayDidChange",o=n(this,"hasArrayObservers");return o&&Ember.propertyWillChange(this,"hasArrayObservers"),Ember.removeListener(this,"@array:before",e,i,t),Ember.removeListener(this,"@array:change",e,s,t),o&&Ember.propertyDidChange(this,"hasArrayObservers"),this},hasArrayObservers:Ember.computed(function(){return Ember.hasListeners(this,"@array:change")||Ember.hasListeners(this,"@array:before")}).property().cacheable(),arrayContentWillChange:function(e,t,r){e===undefined?(e=0,t=r=-1):(t===undefined&&(t=-1),r===undefined&&(r=-1)),Ember.sendEvent(this,"@array:before",e,t,r);var i,s;if(e>=0&&t>=0&&n(this,"hasEnumerableObservers")){i=[],s=e+t;for(var o=e;o<s;o++)i.push(this.objectAt(o))}else i=t;return this.enumerableContentWillChange(i,r),Ember.isWatching(this,"@each")&&n(this,"@each"),this},arrayContentDidChange:function(e,t,r){e===undefined?(e=0,t=r=-1):(t===undefined&&(t=-1),r===undefined&&(r=-1));var i,s;if(e>=0&&r>=0&&n(this,"hasEnumerableObservers")){i=[],s=e+r;for(var u=e;u<s;u++)i.push(this.objectAt(u))}else i=r;this.enumerableContentDidChange(t,i),Ember.sendEvent(this,"@array:change",e,t,r);var f=n(this,"length"),l=o(this,"firstObject"),c=o(this,"lastObject");return this.objectAt(0)!==l&&(Ember.propertyWillChange(this,"firstObject"),Ember.propertyDidChange(this,"firstObject")),this.objectAt(f-1)!==c&&(Ember.propertyWillChange(this,"lastObject"),Ember.propertyDidChange(this,"lastObject")),this},"@each":Ember.computed(function(){return this.__each||(this.__each=new Ember.EachProxy(this)),this.__each}).property().cacheable()})}(),function(){Ember.Comparable=Ember.Mixin.create({isComparable:!0,compare:Ember.required(Function)})}(),function(){var e=Ember.get,t=Ember.set;Ember.Copyable=Ember.Mixin.create({copy:Ember.required(Function),frozenCopy:function(){if(Ember.Freezable&&Ember.Freezable.detect(this))return e(this,"isFrozen")?this:this.copy().freeze();throw new Error(Ember.String.fmt("%@ does not support freezing",[this]))}})}(),function(){var e=Ember.get,t=Ember.set;Ember.Freezable=Ember.Mixin.create({isFrozen:!1,freeze:function(){return e(this,"isFrozen")?this:(t(this,"isFrozen",!0),this)}}),Ember.FROZEN_ERROR="Frozen object cannot be modified."}(),function(){var e=Ember.ArrayUtils.forEach;Ember.MutableEnumerable=Ember.Mixin.create(Ember.Enumerable,{addObject:Ember.required(Function),addObjects:function(t){return Ember.beginPropertyChanges(this),e(t,function(e){this.addObject(e)},this),Ember.endPropertyChanges(this),this},removeObject:Ember.required(Function),removeObjects:function(t){return Ember.beginPropertyChanges(this),e(t,function(e){this.removeObject(e)},this),Ember.endPropertyChanges(this),this}})}(),function(){var e="Index out of range",t=[],n=Ember.get,r=Ember.set,i=Ember.ArrayUtils.forEach;Ember.MutableArray=Ember.Mixin.create(Ember.Array,Ember.MutableEnumerable,{replace:Ember.required(),clear:function(){var e=n(this,"length");return e===0?this:(this.replace(0,e,t),this)},insertAt:function(t,r){if(t>n(this,"length"))throw new Error(e);return this.replace(t,0,[r]),this},removeAt:function(r,i){var s=0;if("number"==typeof r){if(r<0||r>=n(this,"length"))throw new Error(e);i===undefined&&(i=1),this.replace(r,i,t)}return this},pushObject:function(e){return this.insertAt(n(this,"length"),e),e},pushObjects:function(e){return this.replace(n(this,"length"),0,e),this},popObject:function(){var e=n(this,"length");if(e===0)return null;var t=this.objectAt(e-1);return this.removeAt(e-1,1),t},shiftObject:function(){if(n(this,"length")===0)return null;var e=this.objectAt(0);return this.removeAt(0),e},unshiftObject:function(e){return this.insertAt(0,e),e},unshiftObjects:function(e){return this.replace(0,0,e),this},removeObject:function(e){var t=n(this,"length")||0;while(--t>=0){var r=this.objectAt(t);r===e&&this.removeAt(t)}return this},addObject:function(e){return this.contains(e)||this.pushObject(e),this}})}(),function(){var e=Ember.get,t=Ember.set;Ember.Observable=Ember.Mixin.create({isObserverable:!0,get:function(t){return e(this,t)},getProperties:function(){var t={},n=arguments;arguments.length===1&&Ember.typeOf(arguments[0])==="array"&&(n=arguments[0]);for(var r=0;r<n.length;r++)t[n[r]]=e(this,n[r]);return t},set:function(e,n){return t(this,e,n),this},setProperties:function(e){return Ember.setProperties(this,e)},beginPropertyChanges:function(){return Ember.beginPropertyChanges(),this},endPropertyChanges:function(){return Ember.endPropertyChanges(),this},propertyWillChange:function(e){return Ember.propertyWillChange(this,e),this},propertyDidChange:function(e){return Ember.propertyDidChange(this,e),this},notifyPropertyChange:function(e){return this.propertyWillChange(e),this.propertyDidChange(e),this},addObserver:function(e,t,n){Ember.addObserver(this,e,t,n)},removeObserver:function(e,t,n){Ember.removeObserver(this,e,t,n)},hasObserverFor:function(e){return Ember.hasListeners(this,e+":change")},unknownProperty:function(e){return undefined},setUnknownProperty:function(e,t){this[e]=t},getPath:function(e){return Ember.getPath(this,e)},setPath:function(e,t){return Ember.setPath(this,e,t),this},getWithDefault:function(e,t){return Ember.getWithDefault(this,e,t)},incrementProperty:function(n,r){return r||(r=1),t(this,n,(e(this,n)||0)+r),e(this,n)},decrementProperty:function(n,r){return r||(r=1),t(this,n,(e(this,n)||0)-r),e(this,n)},toggleProperty:function(n){return t(this,n,!e(this,n)),e(this,n)},cacheFor:function(e){return Ember.cacheFor(this,e)},observersForKey:function(e){return Ember.observersFor(this,e)}})}(),function(){var e=Ember.get,t=Ember.set,n=Ember.getPath;Ember.TargetActionSupport=Ember.Mixin.create({target:null,action:null,targetObject:Ember.computed(function(){var t=e(this,"target");if(Ember.typeOf(t)==="string"){var r=n(this,t);return r===undefined&&(r=n(window,t)),r}return t}).property("target").cacheable(),triggerAction:function(){var t=e(this,"action"),n=e(this,"targetObject");if(n&&t){var r;return typeof n.send=="function"?r=n.send(t,this):(typeof t=="string"&&(t=n[t]),r=t.call(n,this)),r!==!1&&(r=!0),r}return!1}})}(),function(){function e(e,t,n){var i=r.call(n,2);t.apply(e,i)}var t=Ember.get,n=Ember.set,r=Array.prototype.slice;Ember.Evented=Ember.Mixin.create({on:function(t,n,r){r||(r=n,n=null),Ember.addListener(this,t,n,r,e)},fire:function(e){Ember.sendEvent.apply(null,[this,e].concat(r.call(arguments,1)))},off:function(e,t,n){Ember.removeListener(this,e,t,n)}})}(),function(){}(),function(){function e(){var e=!1,r,i=!1,s=!1,u=function(){e||u.proto(),r?(this.reopen.apply(this,r),r=null,t(this),Ember.Mixin.finishPartial(this),this.init.apply(this,arguments)):(s?t(this):(Ember.GUID_DESC.value=undefined,o(this,Ember.GUID_KEY,Ember.GUID_DESC)),i===!1&&(i=this.init),Ember.GUID_DESC.value=undefined,o(this,"_super",Ember.GUID_DESC),Ember.Mixin.finishPartial(this),i.apply(this,arguments))};return u.toString=n,u.willReopen=function(){e&&(u.PrototypeMixin=Ember.Mixin.create(u.PrototypeMixin)),e=!1},u._initMixins=function(e){r=e},u.proto=function(){var t=u.superclass;return t&&t.proto(),e||(e=!0,u.PrototypeMixin.applyPartial(u.prototype),Ember.rewatch(u.prototype),s=!!a(u.prototype,!1).chains),this.prototype},u}var t=Ember.rewatch,n=Ember.Mixin.prototype.toString,r=Ember.set,i=Ember.get,s=Ember.platform.create,o=Ember.platform.defineProperty,u=Array.prototype.slice,a=Ember.meta,f=e();f.PrototypeMixin=Ember.Mixin.create({reopen:function(){return Ember.Mixin._apply(this,arguments,!0),this},isInstance:!0,init:function(){},isDestroyed:!1,isDestroying:!1,destroy:function(){if(this.isDestroying)return;return this.isDestroying=!0,this.willDestroy&&this.willDestroy(),r(this,"isDestroyed",!0),Ember.run.schedule("destroy",this,this._scheduledDestroy),this},_scheduledDestroy:function(){Ember.destroy(this),this.didDestroy&&this.didDestroy()},bind:function(e,t){return t instanceof Ember.Binding||(t=Ember.Binding.from(t)),t.to(e).connect(this),t},toString:function(){return"<"+this.constructor.toString()+":"+Ember.guidFor(this)+">"}}),f.__super__=null;var l=Ember.Mixin.create({ClassMixin:Ember.required(),PrototypeMixin:Ember.required(),isClass:!0,isMethod:!1,extend:function(){var t=e(),n;t.ClassMixin=Ember.Mixin.create(this.ClassMixin),t.PrototypeMixin=Ember.Mixin.create(this.PrototypeMixin),t.ClassMixin.ownerConstructor=t,t.PrototypeMixin.ownerConstructor=t;var r=t.PrototypeMixin;return r.reopen.apply(r,arguments),t.superclass=this,t.__super__=this.prototype,n=t.prototype=s(this.prototype),n.constructor=t,Ember.generateGuid(n,"ember"),a(n).proto=n,t.subclasses=Ember.Set?new Ember.Set:null,this.subclasses&&this.subclasses.add(t),t.ClassMixin.apply(t),t},create:function(){var e=this;return arguments.length>0&&this._initMixins(arguments),new e},reopen:function(){this.willReopen();var e=this.PrototypeMixin;return e.reopen.apply(e,arguments),this},reopenClass:function(){var e=this.ClassMixin;return e.reopen.apply(e,arguments),Ember.Mixin._apply(this,arguments,!1),this},detect:function(e){if("function"!=typeof e)return!1;while(e){if(e===this)return!0;e=e.superclass}return!1},detectInstance:function(e){return e instanceof this},metaForProperty:function(e){var t=a(this.proto(),!1).descs[e];return t._meta||{}},eachComputedProperty:function(e,t){var n=this.proto(),r=a(n).descs,i={},s;for(var o in r)s=r[o],s instanceof Ember.ComputedProperty&&e.call(t||this,o,s._meta||i)}});f.ClassMixin=l,l.apply(f),Ember.CoreObject=f}(),function(){var e=Ember.get,t=Ember.set,n=Ember.guidFor,r=Ember.none;Ember.Set=Ember.CoreObject.extend(Ember.MutableEnumerable,Ember.Copyable,Ember.Freezable,{length:0,clear:function(){if(this.isFrozen)throw new Error(Ember.FROZEN_ERROR);var r=e(this,"length");if(r===0)return this;var i;this.enumerableContentWillChange(r,0),Ember.propertyWillChange(this,"firstObject"),Ember.propertyWillChange(this,"lastObject");for(var s=0;s<r;s++)i=n(this[s]),delete this[i],delete this[s];return t(this,"length",0),Ember.propertyDidChange(this,"firstObject"),Ember.propertyDidChange(this,"lastObject"),this.enumerableContentDidChange(r,0),this},isEqual:function(t){if(!Ember.Enumerable.detect(t))return!1;var n=e(this,"length");if(e(t,"length")!==n)return!1;while(--n>=0)if(!t.contains(this[n]))return!1;return!0},add:Ember.alias("addObject"),remove:Ember.alias("removeObject"),pop:function(){if(e(this,"isFrozen"))throw new Error(Ember.FROZEN_ERROR);var t=this.length>0?this[this.length-1]:null;return this.remove(t),t},push:Ember.alias("addObject"),shift:Ember.alias("pop"),unshift:Ember.alias("push"),addEach:Ember.alias("addObjects"),removeEach:Ember.alias("removeObjects"),init:function(e){this._super(),e&&this.addObjects(e)},nextObject:function(e){return this[e]},firstObject:Ember.computed(function(){return this.length>0?this[0]:undefined}).property().cacheable(),lastObject:Ember.computed(function(){return this.length>0?this[this.length-1]:undefined}).property().cacheable(),addObject:function(i){if(e(this,"isFrozen"))throw new Error(Ember.FROZEN_ERROR);if(r(i))return this;var s=n(i),o=this[s],u=e(this,"length"),f;return o>=0&&o<u&&this[o]===i?this:(f=[i],this.enumerableContentWillChange(null,f),Ember.propertyWillChange(this,"lastObject"),u=e(this,"length"),this[s]=u,this[u]=i,t(this,"length",u+1),Ember.propertyDidChange(this,"lastObject"),this.enumerableContentDidChange(null,f),this)},removeObject:function(i){if(e(this,"isFrozen"))throw new Error(Ember.FROZEN_ERROR);if(r(i))return this;var s=n(i),o=this[s],u=e(this,"length"),f=o===0,l=o===u-1,h,p;return o>=0&&o<u&&this[o]===i&&(p=[i],this.enumerableContentWillChange(p,null),f&&Ember.propertyWillChange(this,"firstObject"),l&&Ember.propertyWillChange(this,"lastObject"),o<u-1&&(h=this[u-1],this[o]=h,this[n(h)]=o),delete this[s],delete this[u-1],t(this,"length",u-1),f&&Ember.propertyDidChange(this,"firstObject"),l&&Ember.propertyDidChange(this,"lastObject"),this.enumerableContentDidChange(p,null)),this},contains:function(e){return this[n(e)]>=0},copy:function(){var r=this.constructor,i=new r,s=e(this,"length");t(i,"length",s);while(--s>=0)i[s]=this[s],i[n(this[s])]=s;return i},toString:function(){var e=this.length,t,n=[];for(t=0;t<e;t++)n[t]=this[t];return"Ember.Set<%@>".fmt(n.join(","))}})}(),function(){Ember.CoreObject.subclasses=new Ember.Set,Ember.Object=Ember.CoreObject.extend(Ember.Observable)}(),function(){var e=Ember.ArrayUtils.indexOf;Ember.Namespace=Ember.Object.extend({isNamespace:!0,init:function(){Ember.Namespace.NAMESPACES.push(this),Ember.Namespace.PROCESSED=!1},toString:function(){return Ember.identifyNamespaces(),this[Ember.GUID_KEY+"_name"]},destroy:function(){var t=Ember.Namespace.NAMESPACES;window[this.toString()]=undefined,t.splice(e(t,this),1),this._super()}}),Ember.Namespace.NAMESPACES=[Ember],Ember.Namespace.PROCESSED=!1}(),function(){Ember.Application=Ember.Namespace.extend()}(),function(){var e=Ember.get,t=Ember.set;Ember.ArrayProxy=Ember.Object.extend(Ember.MutableArray,{content:null,objectAtContent:function(t){return e(this,"content").objectAt(t)},replaceContent:function(t,n,r){e(this,"content").replace(t,n,r)},contentWillChange:Ember.beforeObserver(function(){var t=e(this,"content"),n=t?e(t,"length"):0;this.arrayWillChange(t,0,n,undefined),t&&t.removeArrayObserver(this)},"content"),contentDidChange:Ember.observer(function(){var t=e(this,"content"),n=t?e(t,"length"):0;t&&t.addArrayObserver(this),this.arrayDidChange(t,0,undefined,n)},"content"),objectAt:function(t){return e(this,"content")&&this.objectAtContent(t)},length:Ember.computed(function(){var t=e(this,"content");return t?e(t,"length"):0}).property().cacheable(),replace:function(t,n,r){return e(this,"content")&&this.replaceContent(t,n,r),this},arrayWillChange:function(e,t,n,r){this.arrayContentWillChange(t,n,r)},arrayDidChange:function(e,t,n,r){this.arrayContentDidChange(t,n,r)},init:function(){this._super(),this.contentWillChange(),this.contentDidChange()}})}(),function(){function e(e,t,n,r,s){var o=n._objects,u;o||(o=n._objects={});while(--s>=r){var a=e.objectAt(s);a&&(Ember.addBeforeObserver(a,t,n,"contentKeyWillChange"),Ember.addObserver(a,t,n,"contentKeyDidChange"),u=i(a),o[u]||(o[u]=[]),o[u].push(s))}}function t(e,t,n,r,s){var o=n._objects;o||(o=n._objects={});var u,a;while(--s>=r){var f=e.objectAt(s);f&&(Ember.removeBeforeObserver(f,t,n,"contentKeyWillChange"),Ember.removeObserver(f,t,n,"contentKeyDidChange"),a=i(f),u=o[a],u[u.indexOf(s)]=null)}}var n=Ember.set,r=Ember.get,i=Ember.guidFor,s=Ember.ArrayUtils.forEach,o=Ember.Object.extend(Ember.Array,{init:function(e,t,n){this._super(),this._keyName=t,this._owner=n,this._content=e},objectAt:function(e){var t=this._content.objectAt(e);return t&&r(t,this._keyName)},length:Ember.computed(function(){var e=this._content;return e?r(e,"length"):0}).property().cacheable()}),u=/^.+:(before|change)$/;Ember.EachProxy=Ember.Object.extend({init:function(e){this._super(),this._content=e,e.addArrayObserver(this),s(Ember.watchedEvents(this),function(e){this.didAddListener(e)},this)},unknownProperty:function(e,t){var n;return n=new o(this._content,e,this),(new Ember.Descriptor).setup(this,e,n),this.beginObservingContentKey(e),n},arrayWillChange:function(e,n,r,i){var s=this._keys,o,u,a;a=r>0?n+r:-1,Ember.beginPropertyChanges(this);for(o in s){if(!s.hasOwnProperty(o))continue;a>0&&t(e,o,this,n,a),Ember.propertyWillChange(this,o)}Ember.propertyWillChange(this._content,"@each"),Ember.endPropertyChanges(this)},arrayDidChange:function(t,n,r,i){var s=this._keys,o,u,a;a=i>0?n+i:-1,Ember.beginPropertyChanges(this);for(o in s){if(!s.hasOwnProperty(o))continue;a>0&&e(t,o,this,n,a),Ember.propertyDidChange(this,o)}Ember.propertyDidChange(this._content,"@each"),Ember.endPropertyChanges(this)},didAddListener:function(e){u.test(e)&&this.beginObservingContentKey(e.slice(0,-7))},didRemoveListener:function(e){u.test(e)&&this.stopObservingContentKey(e.slice(0,-7))},beginObservingContentKey:function(t){var n=this._keys;n||(n=this._keys={});if(!n[t]){n[t]=1;var i=this._content,s=r(i,"length");e(i,t,this,0,s)}else n[t]++},stopObservingContentKey:function(e){var n=this._keys;if(n&&n[e]>0&&--n[e]<=0){var i=this._content,s=r(i,"length");t(i,e,this,0,s)}},contentKeyWillChange:function(e,t){Ember.propertyWillChange(this,t)},contentKeyDidChange:function(e,t){Ember.propertyDidChange(this,t)}})}(),function(){var e=Ember.get,t=Ember.set,n=Ember.Mixin.create(Ember.MutableArray,Ember.Observable,Ember.Copyable,{get:function(e){return e==="length"?this.length:"number"==typeof e?this[e]:this._super(e)},objectAt:function(e){return this[e]},replace:function(t,n,r){if(this.isFrozen)throw Ember.FROZEN_ERROR;var i=r?e(r,"length"):0;this.arrayContentWillChange(t,n,i);if(!r||r.length===0)this.splice(t,n);else{var s=[t,n].concat(r);this.splice.apply(this,s)}return this.arrayContentDidChange(t,n,i),this},unknownProperty:function(e,t){var n;return t!==undefined&&n===undefined&&(n=this[e]=t),n},indexOf:function(e,t){var n,r=this.length;t===undefined?t=0:t=t<0?Math.ceil(t):Math.floor(t),t<0&&(t+=r);for(n=t;n<r;n++)if(this[n]===e)return n;return-1},lastIndexOf:function(e,t){var n,r=this.length;t===undefined?t=r-1:t=t<0?Math.ceil(t):Math.floor(t),t<0&&(t+=r);for(n=t;n>=0;n--)if(this[n]===e)return n;return-1},copy:function(){return this.slice()}}),r=["length"];Ember.ArrayUtils.forEach(n.keys(),function(e){Array.prototype[e]&&r.push(e)}),r.length>0&&(n=n.without.apply(n,r)),Ember.NativeArray=n,Ember.A=function(e){return e===undefined&&(e=[]),Ember.NativeArray.apply(e)},Ember.NativeArray.activate=function(){n.apply(Array.prototype),Ember.A=function(e){return e||[]}},Ember.EXTEND_PROTOTYPES&&Ember.NativeArray.activate()}(),function(){var e=Ember.guidFor,t=Ember.ArrayUtils.indexOf,n=Ember.OrderedSet=function(){this.clear()};n.create=function(){return new n},n.prototype={clear:function(){this.presenceSet={},this.list=[]},add:function(t){var n=e(t),r=this.presenceSet,i=this.list;if(n in r)return;r[n]=!0,i.push(t)},remove:function(n){var r=e(n),i=this.presenceSet,s=this.list;delete i[r];var o=t(s,n);o>-1&&s.splice(o,1)},isEmpty:function(){return this.list.length===0},forEach:function(e,t){var n=this.list.slice();for(var r=0,i=n.length;r<i;r++)e.call(t,n[r])},toArray:function(){return this.list.slice()}};var r=Ember.Map=function(){this.keys=Ember.OrderedSet.create(),this.values={}};r.create=function(){return new r},r.prototype={get:function(t){var n=this.values,r=e(t);return n[r]},set:function(t,n){var r=this.keys,i=this.values,s=e(t);r.add(t),i[s]=n},remove:function(t){var n=this.keys,r=this.values,i=e(t),s;return r.hasOwnProperty(i)?(n.remove(t),s=r[i],delete r[i],!0):!1},has:function(t){var n=this.values,r=e(t);return n.hasOwnProperty(r)},forEach:function(t,n){var r=this.keys,i=this.values;r.forEach(function(r){var s=e(r);t.call(n,r,i[s])})}}}(),function(){var e={},t={};Ember.onLoad=function(n,r){var i;e[n]=e[n]||Ember.A(),e[n].pushObject(r),(i=t[n])&&r(i)},Ember.runLoadHooks=function(n,r){var i;t[n]=r,(i=e[n])&&e[n].forEach(function(e){e(r)})}}(),function(){}(),function(){Ember.ArrayController=Ember.ArrayProxy.extend()}(),function(){}(),function(){}(),function(){var e=Ember.get,t=Ember.set;Ember.Application=Ember.Namespace.extend({rootElement:"body",eventDispatcher:null,customEvents:null,init:function(){var n,r=e(this,"rootElement");this._super(),n=Ember.EventDispatcher.create({rootElement:r}),t(this,"eventDispatcher",n);if(Ember.$.isReady)Ember.run.once(this,this.didBecomeReady);else{var i=this;Ember.$(document).ready(function(){Ember.run.once(i,i.didBecomeReady)})}},initialize:function(t){var n=Ember.A(Ember.keys(this)),r=e(this.constructor,"injections"),i=this,s,o;Ember.runLoadHooks("application",this),n.forEach(function(e){r.forEach(function(n){n(i,t,e)})})},didBecomeReady:function(){var t=e(this,"eventDispatcher"),n=e(this,"stateManager"),r=e(this,"customEvents");t.setup(r),this.ready(),n&&n instanceof Ember.Router&&this.setupStateManager(n)},setupStateManager:function(t){var n=e(t,"location");t.route(n.getURL()),n.onUpdateURL(function(e){t.route(e)})},ready:Ember.K,destroy:function(){return e(this,"eventDispatcher").destroy(),this._super()},registerInjection:function(e){this.constructor.registerInjection(e)}}),Ember.Application.reopenClass({concatenatedProperties:["injections"],injections:Ember.A(),registerInjection:function(t){e(this,"injections").pushObject(t)}}),Ember.Application.registerInjection(function(e,t,n){if(!/^[A-Z].*Controller$/.test(n))return;var r=n[0].toLowerCase()+n.substr(1),i=e[n].create();t.set(r,i),i.set("target",t)})}(),function(){var e=Ember.get,t=Ember.set;Ember.HashLocation=Ember.Object.extend({init:function(){t(this,"location",e(this,"location")||window.location),t(this,"callbacks",Ember.A())},getURL:function(){return e(this,"location").hash.substr(1)},setURL:function(n){e(this,"location").hash=n,t(this,"lastSetURL",n)},onUpdateURL:function(n){var r=this,i=function(){var i=location.hash.substr(1);if(e(r,"lastSetURL")===i)return;t(r,"lastSetURL",null),n(location.hash.substr(1))};e(this,"callbacks").pushObject(i),window.addEventListener("hashchange",i)},willDestroy:function(){e(this,"callbacks").forEach(function(e){window.removeEventListener("hashchange",e)}),t(this,"callbacks",null)}}),Ember.Location={create:function(e){var t=e&&e.style;if(t==="hash")return Ember.HashLocation.create.apply(Ember.HashLocation,arguments)}}}(),function(){}(),function(){}(),function(){Ember.$=window.jQuery}(),function(){var e=Ember.get,t=Ember.set,n=Ember.ArrayUtils.forEach,r=Ember.ArrayUtils.indexOf,i=function(){this.seen={},this.list=[]};i.prototype={add:function(e){if(e in this.seen)return;this.seen[e]=!0,this.list.push(e)},toDOM:function(){return this.list.join(" ")}},Ember.RenderBuffer=function(e){return new Ember._RenderBuffer(e)},Ember._RenderBuffer=function(e){this.elementTag=e,this.childBuffers=[]},Ember._RenderBuffer.prototype={elementClasses:null,elementId:null,elementAttributes:null,elementTag:null,elementStyle:null,parentBuffer:null,push:function(e){return this.childBuffers.push(String(e)),this},addClass:function(e){var t=this.elementClasses=this.elementClasses||new i;return this.elementClasses.add(e),this},id:function(e){return this.elementId=e,this},attr:function(e,t){var n=this.elementAttributes=this.elementAttributes||{};return arguments.length===1?n[e]:(n[e]=t,this)},removeAttr:function(e){var t=this.elementAttributes;return t&&delete t[e],this},style:function(e,t){var n=this.elementStyle=this.elementStyle||{};return this.elementStyle[e]=t,this},newBuffer:function(e,t,n,r){var i=new Ember._RenderBuffer(e);return i.parentBuffer=t,r&&i.setProperties(r),n&&n.call(this,i),i},replaceWithBuffer:function(e){var t=this.parentBuffer;if(!t)return;var n=t.childBuffers,i=r(n,this);e?n.splice(i,1,e):n.splice(i,1)},begin:function(e){return this.newBuffer(e,this,function(e){this.childBuffers.push(e)})},prepend:function(e){return this.newBuffer(e,this,function(e){this.childBuffers.splice(0,0,e)})},replaceWith:function(e){var t=this.parentBuffer;return this.newBuffer(e,t,function(e){this.replaceWithBuffer(e)})},insertAfter:function(t){var n=e(this,"parentBuffer");return this.newBuffer(t,n,function(e){var t=n.childBuffers,i=r(t,this);t.splice(i+1,0,e)})},end:function(){var e=this.parentBuffer;return e||this},remove:function(){this.replaceWithBuffer(null)},element:function(){return Ember.$(this.string())[0]},string:function(){var e="",t=this.elementTag,r;if(t){var i=this.elementId,s=this.elementClasses,o=this.elementAttributes,u=this.elementStyle,a="",f;r=["<"+t],i&&r.push('id="'+this._escapeAttribute(i)+'"'),s&&r.push('class="'+this._escapeAttribute(s.toDOM())+'"');if(u){for(f in u)u.hasOwnProperty(f)&&(a+=f+":"+this._escapeAttribute(u[f])+";");r.push('style="'+a+'"')}if(o)for(f in o)o.hasOwnProperty(f)&&r.push(f+'="'+this._escapeAttribute(o[f])+'"');r=r.join(" ")+">"}var l=this.childBuffers;return n(l,function(t){var n=typeof t=="string";e+=n?t:t.string()}),t?r+e+"</"+t+">":e},_escapeAttribute:function(e){var t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=/&(?!\w+;)|[<>"'`]/g,r=/[&<>"'`]/,i=function(e){return t[e]||"&amp;"},s=e.toString();return r.test(s)?s.replace(n,i):s}}}(),function(){var e=Ember.get,t=Ember.set,n=Ember.String.fmt;Ember.EventDispatcher=Ember.Object.extend({rootElement:"body",setup:function(t){var n,r={touchstart:"touchStart",touchmove:"touchMove",touchend:"touchEnd",touchcancel:"touchCancel",keydown:"keyDown",keyup:"keyUp",keypress:"keyPress",mousedown:"mouseDown",mouseup:"mouseUp",contextmenu:"contextMenu",click:"click",dblclick:"doubleClick",mousemove:"mouseMove",focusin:"focusIn",focusout:"focusOut",mouseenter:"mouseEnter",mouseleave:"mouseLeave",submit:"submit",input:"input",change:"change",dragstart:"dragStart",drag:"drag",dragenter:"dragEnter",dragleave:"dragLeave",dragover:"dragOver",drop:"drop",dragend:"dragEnd"};Ember.$.extend(r,t||{});var i=Ember.$(e(this,"rootElement"));i.addClass("ember-application");for(n in r)r.hasOwnProperty(n)&&this.setupHandler(i,n,r[n])},setupHandler:function(e,t,n){var r=this;e.delegate(".ember-view",t+".ember",function(e,t){var i=Ember.View.views[this.id],s=!0,o=null;return o=r._findNearestEventManager(i,n),o&&o!==t?s=r._dispatchEvent(o,e,n,i):i?s=r._bubbleEvent(i,e,n):e.stopPropagation(),s}),e.delegate("[data-ember-action]",t+".ember",function(e){var t=Ember.$(e.currentTarget).attr("data-ember-action"),r=Ember.Handlebars.ActionHelper.registeredActions[t],i=r.handler;if(r.eventName===n)return i(e)})},_findNearestEventManager:function(t,n){var r=null;while(t){r=e(t,"eventManager");if(r&&r[n])break;t=e(t,"parentView")}return r},_dispatchEvent:function(e,t,n,r){var i=!0,s=e[n];return Ember.typeOf(s)==="function"?(i=s.call(e,t,r),t.stopPropagation()):i=this._bubbleEvent(r,t,n),i},_bubbleEvent:function(e,t,n){return Ember.run(function(){return e.handleEvent(n,t)})},destroy:function(){var t=e(this,"rootElement");return Ember.$(t).undelegate(".ember").removeClass("ember-application"),this._super()}})}(),function(){var e=Ember.run.queues;e.splice(Ember.$.inArray("actions",e)+1,0,"render")}(),function(){}(),function(){var e=Ember.get,t=Ember.set,n=Ember.addObserver,r=Ember.getPath,i=Ember.meta,s=Ember.String.fmt,o=Array.prototype.slice,u=Ember.ArrayUtils.forEach,a=Ember.computed(function(){var t=e(this,"_childViews"),n=Ember.A();return u(t,function(t){t.isVirtual?n.pushObjects(e(t,"childViews")):n.push(t)}),n}).property().cacheable(),f=Ember.VIEW_PRESERVES_CONTEXT;Ember.TEMPLATES={};var l={preRender:{},inBuffer:{},hasElement:{},inDOM:{},destroyed:{}};Ember.View=Ember.Object.extend(Ember.Evented,{concatenatedProperties:["classNames","classNameBindings","attributeBindings"],isView:!0,templateName:null,layoutName:null,templates:Ember.TEMPLATES,template:Ember.computed(function(t,n){if(n!==undefined)return n;var r=e(this,"templateName"),i=this.templateForName(r,"template");return i||e(this,"defaultTemplate")}).property("templateName").cacheable(),controller:null,layout:Ember.computed(function(t,n){if(arguments.length===2)return n;var r=e(this,"layoutName"),i=this.templateForName(r,"layout");return i||e(this,"defaultLayout")}).property("layoutName").cacheable(),templateForName:function(t,n){if(!t)return;var r=e(this,"templates"),i=e(r,t);if(!i)throw new Ember.Error(s('%@ - Unable to find %@ "%@".',[this,n,t]));return i},templateContext:Ember.computed(function(n,r){return arguments.length===2?(t(this,"_templateContext",r),r):e(this,"_templateContext")}).cacheable(),_templateContext:Ember.computed(function(t,n){var r;if(arguments.length===2)return n;if(f){r=e(this,"_parentView");if(r)return e(r,"_templateContext")}return this}).cacheable(),_displayPropertyDidChange:Ember.observer(function(){this.rerender()},"templateContext","controller"),parentView:Ember.computed(function(){var t=e(this,"_parentView");return t&&t.isVirtual?e(t,"parentView"):t}).property("_parentView").volatile(),_parentView:null,concreteView:Ember.computed(function(){return this.isVirtual?e(this,"parentView"):this}).property("_parentView").volatile(),isVisible:!0,childViews:a,_childViews:[],_childViewsWillChange:Ember.beforeObserver(function(){if(this.isVirtual){var t=e(this,"parentView");t&&Ember.propertyWillChange(t,"childViews")}},"childViews"),_childViewsDidChange:Ember.observer(function(){if(this.isVirtual){var t=e(this,"parentView");t&&Ember.propertyDidChange(t,"childViews")}},"childViews"),nearestInstanceOf:function(t){var n=e(this,"parentView");while(n){if(n instanceof t)return n;n=e(n,"parentView")}},nearestWithProperty:function(t){var n=e(this,"parentView");while(n){if(t in n)return n;n=e(n,"parentView")}},nearestChildOf:function(t){var n=e(this,"parentView");while(n){if(e(n,"parentView")instanceof t)return n;n=e(n,"parentView")}},collectionView:Ember.computed(function(){return this.nearestInstanceOf(Ember.CollectionView)}).cacheable(),itemView:Ember.computed(function(){return this.nearestChildOf(Ember.CollectionView)}).cacheable(),contentView:Ember.computed(function(){return this.nearestWithProperty("content")}).cacheable(),_parentViewDidChange:Ember.observer(function(){if(this.isDestroying)return;this.invokeRecursively(function(e){e.propertyDidChange("collectionView"),e.propertyDidChange("itemView"),e.propertyDidChange("contentView")})},"_parentView"),cloneKeywords:function(){var t=e(this,"templateData"),n=e(this,"controller"),r=t?Ember.copy(t.keywords):{};return r.view=e(this,"concreteView"),n&&(r.controller=n),r},render:function(t){var n=e(this,"layout")||e(this,"template");if(n){var r=e(this,"_templateContext"),i=this.cloneKeywords(),s={view:this,buffer:t,isRenderData:!0,keywords:i},o=n(r,{data:s});o!==undefined&&t.push(o)}},invokeForState:function(e){var t=this.state,n;if(u=l[t][e])return n=o.call(arguments),n[0]=this,u.apply(this,n);var r=this,i=r.states,s;while(i){s=i[t];while(s){var u=s[e];if(u)return l[t][e]=u,n=o.call(arguments,1),n.unshift(this),u.apply(this,n);s=s.parentState}i=i.parent}},rerender:function(){return this.invokeForState("rerender")},clearRenderedChildren:function(){var t=this.lengthBeforeRender,n=this.lengthAfterRender,r=e(this,"_childViews");for(var i=n-1;i>=t;i--)r[i]&&r[i].destroy()},_applyClassNameBindings:function(){var t=e(this,"classNameBindings"),r=e(this,"classNames"),i,s,o;if(!t)return;u(t,function(e){var t,u,a=function(){s=this._classStringForProperty(e),i=this.$(),t&&(i.removeClass(t),r.removeObject(t)),s?(i.addClass(s),t=s):t=null};o=this._classStringForProperty(e),o&&(r.push(o),t=o),u=e.split(":")[0],n(this,u,a)},this)},_applyAttributeBindings:function(t){var r=e(this,"attributeBindings"),i,s,o;if(!r)return;u(r,function(r){var o=r.split(":"),u=o[0],a=o[1]||u,f=function(){s=this.$(),i=e(this,u),Ember.View.applyAttributeBindings(s,a,i)};n(this,u,f),i=e(this,u),Ember.View.applyAttributeBindings(t,a,i)},this)},_classStringForProperty:function(e){var t=e.split(":"),n=t[1];e=t[0];var r=Ember.getPath(this,e,!1);r===undefined&&Ember.isGlobalPath(e)&&(r=Ember.getPath(window,e));if(!!r&&n)return n;if(r===!0){var i=e.split(".");return Ember.String.dasherize(i[i.length-1])}return r!==!1&&r!==undefined&&r!==null?r:null},element:Ember.computed(function(e,t){return t!==undefined?this.invokeForState("setElement",t):this.invokeForState("getElement")}).property("_parentView").cacheable(),$:function(e){return this.invokeForState("$",e)},mutateChildViews:function(t){var n=e(this,"_childViews"),r=e(n,"length"),i;while(--r>=0)i=n[r],t.call(this,i,r);return this},forEachChildView:function(t){var n=e(this,"_childViews");if(!n)return this;var r=e(n,"length"),i,s;for(s=0;s<r;s++)i=n[s],t.call(this,i);return this},appendTo:function(e){return this._insertElementLater(function(){this.$().appendTo(e)}),this},replaceIn:function(e){return this._insertElementLater(function(){Ember.$(e).empty(),this.$().appendTo(e)}),this},_insertElementLater:function(e){this._lastInsert=Ember.guidFor(e),Ember.run.schedule("render",this,this.invokeForState,"insertElement",e)},append:function(){return this.appendTo(document.body)},remove:function(){this.destroyElement(),this.invokeRecursively(function(e){e.clearRenderedChildren()})},elementId:Ember.computed(function(e,t){return t!==undefined?t:Ember.guidFor(this)}).cacheable(),_elementIdDidChange:Ember.beforeObserver(function(){throw"Changing a view's elementId after creation is not allowed."},"elementId"),findElementInParentElement:function(t){var n="#"+e(this,"elementId");return Ember.$(n)[0]||Ember.$(n,t)[0]},renderBuffer:function(t){t=t||e(this,"tagName");if(t===null||t===undefined)t="div";return Ember.RenderBuffer(t)},createElement:function(){if(e(this,"element"))return this;var n=this.renderToBuffer();return t(this,"element",n.element()),this},willInsertElement:Ember.K,didInsertElement:Ember.K,willRerender:Ember.K,invokeRecursively:function(e){e.call(this,this),this.forEachChildView(function(t){t.invokeRecursively(e)})},invalidateRecursively:function(e){this.forEachChildView(function(t){t.propertyDidChange(e)})},_notifyWillInsertElement:function(){this.invokeRecursively(function(e){e.fire("willInsertElement")})},_notifyDidInsertElement:function(){this.invokeRecursively(function(e){e.fire("didInsertElement")})},_notifyWillRerender:function(){this.invokeRecursively(function(e){e.fire("willRerender")})},destroyElement:function(){return this.invokeForState("destroyElement")},willDestroyElement:function(){},_notifyWillDestroyElement:function(){this.invokeRecursively(function(e){e.fire("willDestroyElement")})},_elementWillChange:Ember.beforeObserver(function(){this.forEachChildView(function(e){Ember.propertyWillChange(e,"element")})},"element"),_elementDidChange:Ember.observer(function(){this.forEachChildView(function(e){Ember.propertyDidChange(e,"element")})},"element"),parentViewDidChange:Ember.K,renderToBuffer:function(t,n){var r;Ember.run.sync(),n=n||"begin";if(t){var i=e(this,"tagName");if(i===null||i===undefined)i="div";r=t[n](i)}else r=this.renderBuffer();return this.buffer=r,this.transitionTo("inBuffer",!1),this.lengthBeforeRender=e(e(this,"_childViews"),"length"),this.beforeRender(r),this.render(r),this.afterRender(r),this.lengthAfterRender=e(e(this,"_childViews"),"length"),r},beforeRender:function(e){this.applyAttributesToBuffer(e)},afterRender:Ember.K,applyAttributesToBuffer:function(t){this._applyClassNameBindings(),this._applyAttributeBindings(t),u(e(this,"classNames"),function(e){t.addClass(e)}),t.id(e(this,"elementId"));var n=e(this,"ariaRole");n&&t.attr("role",n),e(this,"isVisible")===!1&&t.style("display","none")},tagName:null,ariaRole:null,classNames:["ember-view"],classNameBindings:[],attributeBindings:[],state:"preRender",init:function(){this._super(),Ember.View.views[e(this,"elementId")]=this;var n=e(this,"_childViews").slice();t(this,"_childViews",n),this.classNameBindings=Ember.A(this.classNameBindings.slice()),this.classNames=Ember.A(this.classNames.slice());var r=e(this,"viewController");r&&(r=Ember.getPath(r),r&&t(r,"view",this))},appendChild:function(e,t){return this.invokeForState("appendChild",e,t)},removeChild:function(n){if(this.isDestroying)return;t(n,"_parentView",null);var r=e(this,"_childViews");return Ember.ArrayUtils.removeObject(r,n),this.propertyDidChange("childViews"),this},removeAllChildren:function(){return this.mutateChildViews(function(e){this.removeChild(e)})},destroyAllChildren:function(){return this.mutateChildViews(function(e){e.destroy()})},removeFromParent:function(){var t=e(this,"_parentView");return this.remove(),t&&t.removeChild(this),this},willDestroy:function(){var n=e(this,"_childViews"),r=e(this,"_parentView"),i=e(this,"elementId"),s;this.removedFromDOM||this.destroyElement();if(this.viewName){var o=e(this,"parentView");o&&t(o,this.viewName,null)}r&&r.removeChild(this),this.state="destroyed",s=e(n,"length");for(var u=s-1;u>=0;u--)n[u].removedFromDOM=!0,n[u].destroy();delete Ember.View.views[e(this,"elementId")]},createChildView:function(n,r){var i,s;if(Ember.View.detect(n)){i={_parentView:this,templateData:e(this,"templateData")},r?n=n.create(i,r):n=n.create(i);var o=n.viewName;o&&t(e(this,"concreteView"),o,n)}else e(n,"templateData")||t(n,"templateData",e(this,"templateData")),t(n,"_parentView",this);return n},becameVisible:Ember.K,becameHidden:Ember.K,_isVisibleDidChange:Ember.observer(function(){var t=e(this,"isVisible");this.$().toggle(t);if(this._isAncestorHidden())return;t?this._notifyBecameVisible():this._notifyBecameHidden()},"isVisible"),_notifyBecameVisible:function(){this.fire("becameVisible"),this.forEachChildView(function(t){var n=e(t,"isVisible");(n||n===null)&&t._notifyBecameVisible()})},_notifyBecameHidden:function(){this.fire("becameHidden"),this.forEachChildView(function(t){var n=e(t,"isVisible");(n||n===null)&&t._notifyBecameHidden()})},_isAncestorHidden:function(){var t=e(this,"parentView");while(t){if(e(t,"isVisible")===!1)return!0;t=e(t,"parentView")}return!1},clearBuffer:function(){this.invokeRecursively(function(e){this.buffer=null})},transitionTo:function(e,t){this.state=e,t!==!1&&this.forEachChildView(function(t){t.transitionTo(e)})},fire:function(e){this[e]&&this[e].apply(this,[].slice.call(arguments,1)),this._super.apply(this,arguments)},handleEvent:function(e,t){return this.invokeForState("handleEvent",e,t)}});var c={prepend:function(e,t){t._insertElementLater(function(){var n=e.$();n.prepend(t.$())})},after:function(e,t){t._insertElementLater(function(){var n=e.$();n.after(t.$())})},replace:function(n){var r=e(n,"element");t(n,"element",null),n._insertElementLater(function(){Ember.$(r).replaceWith(e(n,"element"))})},remove:function(n){var r=e(n,"element");t(n,"element",null),n._lastInsert=null,Ember.$(r).remove()},empty:function(e){e.$().empty()}};Ember.View.reopen({states:Ember.View.states,domManager:c}),Ember.View.views={},Ember.View.childViewsProperty=a,Ember.View.applyAttributeBindings=function(e,t,n){var r=Ember.typeOf(n),i=e.attr(t);(r==="string"||r==="number"&&!isNaN(n))&&n!==i?e.attr(t,n):n&&r==="boolean"?e.attr(t,t):n||e.removeAttr(t)}}(),function(){var e=Ember.get,t=Ember.set;Ember.View.states={_default:{appendChild:function(){throw"You can't use appendChild outside of the rendering process"},$:function(){return Ember.$()},getElement:function(){return null},handleEvent:function(){return!0},destroyElement:function(e){return t(e,"element",null),e._lastInsert=null,e}}},Ember.View.reopen({states:Ember.View.states})}(),function(){Ember.View.states.preRender={parentState:Ember.View.states._default,insertElement:function(e,t){if(e._lastInsert!==Ember.guidFor(t))return;e.createElement(),e._notifyWillInsertElement(),t.call(e),e.transitionTo("inDOM"),e._notifyDidInsertElement()},empty:Ember.K,setElement:function(e,t){return e.beginPropertyChanges(),e.invalidateRecursively("element"),t!==null&&e.transitionTo("hasElement"),e.endPropertyChanges(),t}}}(),function(){var e=Ember.get,t=Ember.set,n=Ember.meta;Ember.View.states.inBuffer={parentState:Ember.View.states._default,$:function(e,t){return e.rerender(),Ember.$()},rerender:function(e){e._notifyWillRerender(),e.clearRenderedChildren(),e.renderToBuffer(e.buffer,"replaceWith")},appendChild:function(t,n,r){var i=t.buffer;return n=this.createChildView(n,r),e(t,"_childViews").push(n),n.renderToBuffer(i),t.propertyDidChange("childViews"),n},destroyElement:function(e){return e.clearBuffer(),e._notifyWillDestroyElement(),e.transitionTo("preRender"),e},empty:function(){},insertElement:function(){throw"You can't insert an element that has already been rendered"},setElement:function(e,t){return e.invalidateRecursively("element"),t===null?e.transitionTo("preRender"):(e.clearBuffer(),e.transitionTo("hasElement")),t}}}(),function(){var e=Ember.get,t=Ember.set,n=Ember.meta;Ember.View.states.hasElement={parentState:Ember.View.states._default,$:function(t,n){var r=e(t,"element");return n?Ember.$(n,r):Ember.$(r)},getElement:function(t){var n=e(t,"parentView");return n&&(n=e(n,"element")),n?t.findElementInParentElement(n):Ember.$("#"+e(t,"elementId"))[0]},setElement:function(e,t){if(t!==null)throw"You cannot set an element to a non-null value when the element is already in the DOM.";return e.invalidateRecursively("element"),e.transitionTo("preRender"),t},rerender:function(e){return e._notifyWillRerender(),e.clearRenderedChildren(),e.domManager.replace(e),e},destroyElement:function(e){return e._notifyWillDestroyElement(),e.domManager.remove(e),e},empty:function(t){var n=e(t,"_childViews"),r,i;if(n){r=e(n,"length");for(i=0;i<r;i++)n[i]._notifyWillDestroyElement()}t.domManager.empty(t)},handleEvent:function(e,t,n){var r=e[t];return Ember.typeOf(r)==="function"?r.call(e,n):!0}},Ember.View.states.inDOM={parentState:Ember.View.states.hasElement,insertElement:function(e,t){if(e._lastInsert!==Ember.guidFor(t))return;throw"You can't insert an element into the DOM that has already been inserted"}}}(),function(){var e="You can't call %@ on a destroyed view",t=Ember.String.fmt;Ember.View.states.destroyed={parentState:Ember.View.states._default,appendChild:function(){throw t(e,["appendChild"])},rerender:function(){throw t(e,["rerender"])},destroyElement:function(){throw t(e,["destroyElement"])},empty:function(){throw t(e,["empty"])},setElement:function(){throw t(e,["set('element', ...)"])},insertElement:Ember.K}}(),function(){}(),function(){var e=Ember.get,t=Ember.set,n=Ember.meta,r=Ember.ArrayUtils.forEach,i=Ember.computed(function(){return e(this,"_childViews")}).property("_childViews").cacheable();Ember.ContainerView=Ember.View.extend({init:function(){var n=e(this,"childViews");Ember.defineProperty(this,"childViews",i),this._super();var s=e(this,"_childViews");r(n,function(n,r){var i;"string"==typeof n?(i=e(this,n),i=this.createChildView(i),t(this,n,i)):i=this.createChildView(n),s[r]=i},this),Ember.A(s),e(this,"childViews").addArrayObserver(this,{willChange:"childViewsWillChange",didChange:"childViewsDidChange"})},render:function(e){this.forEachChildView(function(t){t.renderToBuffer(e)})},willDestroy:function(){e(this,"childViews").removeArrayObserver(this,{willChange:"childViewsWillChange",didChange:"childViewsDidChange"}),this._super()},childViewsWillChange:function(e,t,n){if(n===0)return;var r=e.slice(t,t+n);this.initializeViews(r,null,null),this.invokeForState("childViewsWillChange",e,t,n)},childViewsDidChange:function(t,n,r,i){var s=e(t,"length");if(i===0)return;var o=t.slice(n,n+i);this.initializeViews(o,this,e(this,"templateData")),this.invokeForState("childViewsDidChange",t,n,i)},initializeViews:function(n,i,s){r(n,function(n){t(n,"_parentView",i),e(n,"templateData")||t(n,"templateData",s)})},_scheduleInsertion:function(e,t){t?t.domManager.after(t,e):this.domManager.prepend(this,e)},currentView:null,_currentViewWillChange:Ember.beforeObserver(function(){var t=e(this,"childViews"),n=e(this,"currentView");n&&t.removeObject(n)},"currentView"),_currentViewDidChange:Ember.observer(function(){var t=e(this,"childViews"),n=e(this,"currentView");n&&t.pushObject(n)},"currentView")}),Ember.ContainerView.states={parent:Ember.View.states,inBuffer:{childViewsDidChange:function(e,t,n,r){var i=e.buffer,s,o,u,a;n===0?(a=t[n],s=n+1,a.renderToBuffer(i,"prepend")):(a=t[n-1],s=n);for(var f=s;f<n+r;f++)o=a,a=t[f],u=o.buffer,a.renderToBuffer(u,"insertAfter")}},hasElement:{childViewsWillChange:function(e,t,n,r){for(var i=n;i<n+r;i++)t[i].remove()},childViewsDidChange:function(e,t,n,r){var i=n===0?null:t[n-1];for(var s=n;s<n+r;s++)e=t[s],this._scheduleInsertion(e,i),i=e}}},Ember.ContainerView.states.inDOM={parentState:Ember.ContainerView.states.hasElement},Ember.ContainerView.reopen({states:Ember.ContainerView.states})}(),function(){var e=Ember.get,t=Ember.set,n=Ember.String.fmt;Ember.CollectionView=Ember.ContainerView.extend({content:null,emptyViewClass:Ember.View,emptyView:null,itemViewClass:Ember.View,init:function(){var e=this._super();return this._contentDidChange(),e},_contentWillChange:Ember.beforeObserver(function(){var t=this.get("content");t&&t.removeArrayObserver(this);var n=t?e(t,"length"):0;this.arrayWillChange(t,0,n)},"content"),_contentDidChange:Ember.observer(function(){var t=e(this,"content");t&&t.addArrayObserver(this);var n=t?e(t,"length"):0;this.arrayDidChange(t,0,null,n)},"content"),willDestroy:function(){var t=e(this,"content");t&&t.removeArrayObserver(this),this._super()},arrayWillChange:function(t,n,r){var i=e(this,"emptyView");i&&i instanceof Ember.View&&i.removeFromParent();var s=e(this,"childViews"),o,u,f;f=e(s,"length");var l=r===f;l&&this.invokeForState("empty");for(u=n+r-1;u>=n;u--)o=s[u],l&&(o.removedFromDOM=!0),o.destroy()},arrayDidChange:function(n,r,i,s){var o=e(this,"itemViewClass"),u=e(this,"childViews"),f=[],l,c,h,p,d;"string"==typeof o&&(o=Ember.getPath(o)),p=n?e(n,"length"):0;if(p)for(h=r;h<r+s;h++)c=n.objectAt(h),l=this.createChildView(o,{content:c,contentIndex:h}),f.push(l);else{var v=e(this,"emptyView");if(!v)return;v=this.createChildView(v),f.push(v),t(this,"emptyView",v)}u.replace(r,0,f)},createChildView:function(n,r){n=this._super(n,r);var i=e(n,"tagName"),s=i===null||i===undefined?Ember.CollectionView.CONTAINER_MAP[e(this,"tagName")]:i;return t(n,"tagName",s),n}}),Ember.CollectionView.CONTAINER_MAP={ul:"li",ol:"li",table:"tr",thead:"tr",tbody:"tr",tfoot:"tr",tr:"td",select:"option"}}(),function(){}(),function(){}(),function(){var e=Ember.get,t=Ember.set,n=Ember.getPath;Ember.State=Ember.Object.extend(Ember.Evented,{isState:!0,parentState:null,start:null,name:null,path:Ember.computed(function(){var t=n(this,"parentState.path"),r=e(this,"name");return t&&(r=t+"."+r),r}).property().cacheable(),fire:function(e){this[e]&&this[e].apply(this,[].slice.call(arguments,1)),this._super.apply(this,arguments)},init:function(){var n=e(this,"states"),r;t(this,"childStates",Ember.A());var i;if(!n){n={};for(i in this){if(i==="constructor")continue;this.setupChild(n,i,this[i])}t(this,"states",n)}else for(i in n)this.setupChild(n,i,n[i]);t(this,"routes",{})},setupChild:function(n,r,i){if(!i)return!1;Ember.State.detect(i)?i=i.create({name:r}):i.isState&&t(i,"name",r),i.isState&&(t(i,"parentState",this),e(this,"childStates").pushObject(i),n[r]=i)},isLeaf:Ember.computed(function(){return!e(this,"childStates").length}).cacheable(),setupControllers:Ember.K,enter:Ember.K,exit:Ember.K})}(),function(){var e=Ember.get,t=Ember.set,n=Ember.getPath,r=Ember.String.fmt;Ember.StateManager=Ember.State.extend({init:function(){this._super(),t(this,"stateMeta",Ember.Map.create());var r=e(this,"initialState");!r&&n(this,"states.start")&&(r="start"),r&&this.goToState(r)},currentState:null,errorOnUnhandledEvent:!0,send:function(t,n){this.sendRecursively(t,e(this,"currentState"),n)},sendRecursively:function(t,i,s){var o=this.enableLogging,u=i[t];if(typeof u=="function")o&&Ember.Logger.log(r("STATEMANAGER: Sending event '%@' to state %@.",[t,e(i,"path")])),u.call(i,this,s);else{var f=e(i,"parentState");if(f)this.sendRecursively(t,f,s);else if(e(this,"errorOnUnhandledEvent"))throw new Ember.Error(this.toString()+" could not respond to event "+t+" in state "+n(this,"currentState.path")+".")}},findStatesByRoute:function(t,n){if(!n||n==="")return undefined;var r=n.split("."),i=[];for(var s=0,o=r.length;s<o;s+=1){var u=e(t,"states");if(!u)return undefined;var f=e(u,r[s]);if(!f)return undefined;t=f,i.push(f)}return i},goToState:function(){return this.transitionTo.apply(this,arguments)},pathForSegments:function(e){return Ember.ArrayUtils.map(e,function(e){return e[0]}).join(".")},transitionTo:function(t,n){if(Ember.empty(t))return;var r;Ember.typeOf(t)==="array"?r=Array.prototype.slice.call(arguments):r=[[t,n]];var i=this.pathForSegments(r),s=e(this,"currentState")||this,o,u,f=[],l,c;o=s;if(o.routes[i]){var h=o.routes[i];f=h.exitStates,l=h.enterStates,o=h.futureState,c=h.resolveState}else{u=this.findStatesByRoute(s,i);while(o&&!u){f.unshift(o),o=e(o,"parentState");if(!o){u=this.findStatesByRoute(this,i);if(!u)return}u=this.findStatesByRoute(o,i)}c=o,l=u.slice(0),f=f.slice(0);if(l.length>0){o=l[l.length-1];while(l.length>0&&l[0]===f[0])l.shift(),f.shift()}s.routes[i]={exitStates:f,enterStates:l,futureState:o,resolveState:c}}this.enterState(f,l,o),this.triggerSetupContext(c,r)},triggerSetupContext:function(e,t){var n=e;Ember.ArrayUtils.forEach(t,function(e){var t=e[0],r=e[1];n=this.findStatesByRoute(n,t),n=n[n.length-1],n.fire("setupControllers",this,r)},this)},getState:function(t){var n=e(this,t),r=e(this,"parentState");if(n)return n;if(r)return r.getState(t)},asyncEach:function(e,t,n){var r=!1,i=this;if(!e.length){n&&n.call(this);return}var s=e[0],o=e.slice(1),u={async:function(){r=!0},resume:function(){i.asyncEach(o,t,n)}};t.call(this,s,u),r||u.resume()},enterState:function(n,r,i){var s=this.enableLogging,o=this;n=n.slice(0).reverse(),this.asyncEach(n,function(e,t){e.fire("exit",o,t)},function(){this.asyncEach(r,function(t,n){s&&Ember.Logger.log("STATEMANAGER: Entering "+e(t,"path")),t.fire("enter",o,n)},function(){var n=i,r,u;u=e(n,"initialState"),u||(u="start");while(n=e(e(n,"states"),u))r=n,s&&Ember.Logger.log("STATEMANAGER: Entering "+e(n,"path")),n.fire("enter",o),u=e(n,"initialState"),u||(u="start");t(this,"currentState",r||i)})})}})}(),function(){var e=function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^\$|#\s]/g,"\\$&")};Ember._RouteMatcher=Ember.Object.extend({state:null,init:function(){var t=this.route,n=[],r=1,i;t.charAt(0)==="/"&&(t=this.route=t.substr(1)),i=e(t);var s=i.replace(/:([a-z_]+)(?=$|\/)/gi,function(e,t){return n[r++]=t,"([^/]+)"});this.identifiers=n,this.regex=new RegExp("^/?"+s)},match:function(e){var t=e.match(this.regex);if(t){var n=this.identifiers,r={};for(var i=1,s=n.length;i<s;i++)r[n[i]]=t[i];return{remaining:e.substr(t[0].length),hash:r}}},generate:function(e){var t=this.identifiers,n=this.route,r;for(var i=1,s=t.length;i<s;i++)r=t[i],n=n.replace(new RegExp(":"+r),e[r]);return n}})}(),function(){var e=Ember.get,t=Ember.getPath;Ember.Routable=Ember.Mixin.create({init:function(){this.on("setupControllers",this,this.stashContext),this._super()},stashContext:function(t,n){var r=e(t,"stateMeta"),i=this.serialize(t,n);r.set(this,i),e(this,"isRoutable")&&this.updateRoute(t,e(t,"location"))},updateRoute:function(t,n){if(n&&e(this,"isLeaf")){var r=this.absoluteRoute(t);n.setURL(r)}},absoluteRoute:function(t){var n=e(this,"parentState"),r="";e(n,"isRoutable")&&(r=n.absoluteRoute(t));var i=e(this,"routeMatcher"),s=e(t,"stateMeta").get(this),o=i.generate(s);return o!==""?r+"/"+i.generate(s):r},isRoutable:Ember.computed(function(){return typeof this.route=="string"}).cacheable(),routeMatcher:Ember.computed(function(){return Ember._RouteMatcher.create({route:e(this,"route")})}).cacheable(),deserialize:function(e,t){return t},serialize:function(e,t){return t},routePath:function(n,r){if(e(this,"isLeaf"))return;var i=e(this,"childStates"),s;i=i.sort(function(e,n){return t(n,"route.length")-t(e,"route.length")});var o=i.find(function(t){var n=e(t,"routeMatcher");if(s=n.match(r))return!0}),u=o.deserialize(n,s.hash)||{};n.transitionTo(e(o,"path"),u),n.send("routePath",s.remaining)}}),Ember.State.reopen(Ember.Routable)}(),function(){Ember.Router=Ember.StateManager.extend({route:function(e){e.charAt(0)==="/"&&(e=e.substr(1)),this.send("routePath",e)}})}(),function(){}(),function(){var e=Ember.get,t=Ember.set,n=Ember.getPath,r=Ember.String.fmt;Ember.StateManager.reopen({currentView:Ember.computed(function(){var t=e(this,"currentState"),n;while(t){if(e(t,"isViewState")){n=e(t,"view");if(n)return n}t=e(t,"parentState")}return null}).property("currentState").cacheable()})}(),function(){var e=Ember.get,t=Ember.set;Ember.ViewState=Ember.State.extend({isViewState:!0,enter:function(n){var r=e(this,"view"),i,s;r&&(Ember.View.detect(r)&&(r=r.create(),t(this,"view",r)),i=n.get("rootView"),i?(s=e(i,"childViews"),s.pushObject(r)):(i=n.get("rootElement")||"body",r.appendTo(i)))},exit:function(t){var n=e(this,"view");n&&(e(n,"parentView")?n.removeFromParent():n.remove())}})}(),function(){}(),function(){(function(e){var t=function(){},n=0,r=e.document,i="createRange"in r&&typeof Range!="undefined"&&Range.prototype.createContextualFragment,s=function(){var e=r.createElement("div");return e.innerHTML="<div></div>",e.firstChild.innerHTML="<script></script>",e.firstChild.innerHTML===""}(),o=function(e){var r;this instanceof o?r=this:r=new t,r.innerHTML=e;var i="metamorph-"+n++;return r.start=i+"-start",r.end=i+"-end",r};t.prototype=o.prototype;var u,a,f,l,c,h,p,d,v;l=function(){return this.startTag()+this.innerHTML+this.endTag()},d=function(){return"<script id='"+this.start+"' type='text/x-placeholder'></script>"},v=function(){return"<script id='"+this.end+"' type='text/x-placeholder'></script>"};if(i)u=function(e,t){var n=r.createRange(),i=r.getElementById(e.start),s=r.getElementById(e.end);return t?(n.setStartBefore(i),n.setEndAfter(s)):(n.setStartAfter(i),n.setEndBefore(s)),n},a=function(e,t){var n=u(this,t);n.deleteContents();var r=n.createContextualFragment(e);n.insertNode(r)},f=function(){var e=u(this,!0);e.deleteContents()},c=function(e){var t=r.createRange();t.setStart(e),t.collapse(!1);var n=t.createContextualFragment(this.outerHTML());e.appendChild(n)},h=function(e){var t=r.createRange(),n=r.getElementById(this.end);t.setStartAfter(n),t.setEndAfter(n);var i=t.createContextualFragment(e);t.insertNode(i)},p=function(e){var t=r.createRange(),n=r.getElementById(this.start);t.setStartAfter(n),t.setEndAfter(n);var i=t.createContextualFragment(e);t.insertNode(i)};else{var m={select:[1,"<select multiple='multiple'>","</select>"],fieldset:[1,"<fieldset>","</fieldset>"],table:[1,"<table>","</table>"],tbody:[2,"<table><tbody>","</tbody></table>"],tr:[3,"<table><tbody><tr>","</tr></tbody></table>"],colgroup:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],map:[1,"<map>","</map>"],_default:[0,"",""]},g=function(e,t){var n=m[e.tagName.toLowerCase()]||m._default,i=n[0],o=n[1],u=n[2];s&&(t="&shy;"+t);var a=r.createElement("div");a.innerHTML=o+t+u;for(var f=0;f<=i;f++)a=a.firstChild;if(s){var l=a;while(l.nodeType===1&&!l.nodeName)l=l.firstChild;l.nodeType===3&&l.nodeValue.charAt(0)==="Â­"&&(l.nodeValue=l.nodeValue.slice(1))}return a},y=function(e){while(e.parentNode.tagName==="")e=e.parentNode;return e},b=function(e,t){e.parentNode!==t.parentNode&&t.parentNode.insertBefore(e,t.parentNode.firstChild)};a=function(e,t){var n=y(r.getElementById(this.start)),i=r.getElementById(this.end),s=i.parentNode,o,u,a;b(n,i),o=n.nextSibling;while(o){u=o.nextSibling,a=o===i;if(a){if(!t)break;i=o.nextSibling}o.parentNode.removeChild(o);if(a)break;o=u}o=g(n.parentNode,e);while(o)u=o.nextSibling,s.insertBefore(o,i),o=u},f=function(){var e=y(r.getElementById(this.start)),t=r.getElementById(this.end);this.html(""),e.parentNode.removeChild(e),t.parentNode.removeChild(t)},c=function(e){var t=g(e,this.outerHTML());while(t)nextSibling=t.nextSibling,e.appendChild(t),t=nextSibling},h=function(e){var t=r.getElementById(this.end),n=t.nextSibling,i=t.parentNode,s,o;o=g(i,e);while(o)s=o.nextSibling,i.insertBefore(o,n),o=s},p=function(e){var t=r.getElementById(this.start),n=t.parentNode,i,s;s=g(n,e);var o=t.nextSibling;while(s)i=s.nextSibling,n.insertBefore(s,o),s=i}}o.prototype.html=function(e){this.checkRemoved();if(e===undefined)return this.innerHTML;a.call(this,e),this.innerHTML=e},o.prototype.replaceWith=function(e){this.checkRemoved(),a.call(this,e,!0)},o.prototype.remove=f,o.prototype.outerHTML=l,o.prototype.appendTo=c,o.prototype.after=h,o.prototype.prepend=p,o.prototype.startTag=d,o.prototype.endTag=v,o.prototype.isRemoved=function(){var e=r.getElementById(this.start),t=r.getElementById(this.end);return!e||!t},o.prototype.checkRemoved=function(){if(this.isRemoved())throw new Error("Cannot perform operations on a Metamorph that is not in the DOM.")},e.Metamorph=o})(this)}(),function(){Ember.Handlebars=Ember.create(Handlebars),Ember.Handlebars.helpers=Ember.create(Handlebars.helpers),Ember.Handlebars.Compiler=function(){},Ember.Handlebars.Compiler.prototype=Ember.create(Handlebars.Compiler.prototype),Ember.Handlebars.Compiler.prototype.compiler=Ember.Handlebars.Compiler,Ember.Handlebars.JavaScriptCompiler=function(){},Ember.Handlebars.JavaScriptCompiler.prototype=Ember.create(Handlebars.JavaScriptCompiler.prototype),Ember.Handlebars.JavaScriptCompiler.prototype.compiler=Ember.Handlebars.JavaScriptCompiler,Ember.Handlebars.JavaScriptCompiler.prototype.namespace="Ember.Handlebars",Ember.Handlebars.JavaScriptCompiler.prototype.initializeBuffer=function(){return"''"},Ember.Handlebars.JavaScriptCompiler.prototype.appendToBuffer=function(e){return"data.buffer.push("+e+");"},Ember.Handlebars.Compiler.prototype.mustache=function(e){if(e.params.length||e.hash)return Handlebars.Compiler.prototype.mustache.call(this,e);var t=new Handlebars.AST.IdNode(["_triageMustache"]);return e.escaped&&(e.hash=e.hash||new Handlebars.AST.HashNode([]),e.hash.pairs.push(["escaped",new Handlebars.AST.StringNode("true")])),e=new Handlebars.AST.MustacheNode([t].concat([e.id]),e.hash,!e.escaped),Handlebars.Compiler.prototype.mustache.call(this,e)},Ember.Handlebars.precompile=function(e){var t=Handlebars.parse(e),n={data:!0,stringParams:!0},r=(new Ember.Handlebars.Compiler).compile(t,n);return(new Ember.Handlebars.JavaScriptCompiler).compile(r,n,undefined,!0)},Ember.Handlebars.compile=function(e){var t=Handlebars.parse(e),n={data:!0,stringParams:!0},r=(new Ember.Handlebars.Compiler).compile(t,n),i=(new Ember.Handlebars.JavaScriptCompiler).compile(r,n,undefined,!0);return Handlebars.template(i)};var e=Ember.Handlebars.normalizePath=function(e,t,n){var r=n&&n.keywords||{},i,s;return i=t.split(".",1)[0],r.hasOwnProperty(i)&&(e=r[i],s=!0,t===i?t="":t=t.substr(i.length)),{root:e,path:t,isKeyword:s}};Ember.Handlebars.getPath=function(t,n,r){var i=r&&r.data,s=e(t,n,i),o;return t=s.root,n=s.path,o=Ember.getPath(t,n),o===undefined&&t!==window&&Ember.isGlobalPath(n)&&(o=Ember.getPath(window,n)),o},Ember.Handlebars.registerHelper("helperMissing",function(e,t){var n,r="";throw n="%@ Handlebars error: Could not find property '%@' on object %@.",t.data&&(r=t.data.view),new Ember.Error(Ember.String.fmt(n,[r,e,this]))})}(),function(){Ember.String.htmlSafe=function(e){return new Handlebars.SafeString(e)};var e=Ember.String.htmlSafe;Ember.EXTEND_PROTOTYPES&&(String.prototype.htmlSafe=function(){return e(this)})}(),function(){var e=Ember.set,t=Ember.get,n=Ember.getPath,r={remove:function(t){var n=t.morph;if(n.isRemoved())return;e(t,"element",null),t._lastInsert=null,n.remove()},prepend:function(e,t){t._insertElementLater(function(){var n=e.morph;n.prepend(t.outerHTML),t.outerHTML=null})},after:function(e,t){t._insertElementLater(function(){var n=e.morph;n.after(t.outerHTML),t.outerHTML=null})},replace:function(e){var n=e.morph;e.transitionTo("preRender"),e.clearRenderedChildren();var r=e.renderToBuffer();Ember.run.schedule("render",this,function(){if(t(e,"isDestroyed"))return;e.invalidateRecursively("element"),e._notifyWillInsertElement(),n.replaceWith(r.string()),e.transitionTo("inDOM"),e._notifyDidInsertElement()})},empty:function(e){e.morph.html("")}};Ember._Metamorph=Ember.Mixin.create({isVirtual:!0,tagName:"",init:function(){this._super(),this.morph=Metamorph()},beforeRender:function(e){e.push(this.morph.startTag())},afterRender:function(e){e.push(this.morph.endTag())},createElement:function(){var e=this.renderToBuffer();this.outerHTML=e.string(),this.clearBuffer()},domManager:r}),Ember._MetamorphView=Ember.View.extend(Ember._Metamorph)}(),function(){var e=Ember.get,t=Ember.set,n=Ember.Handlebars.getPath;Ember._HandlebarsBoundView=Ember._MetamorphView.extend({shouldDisplayFunc:null,preserveContext:!1,previousContext:null,displayTemplate:null,inverseTemplate:null,path:null,pathRoot:null,normalizedValue:Ember.computed(function(){var t=e(this,"path"),r=e(this,"pathRoot"),i=e(this,"valueNormalizerFunc"),s,o;return t===""?s=r:(o=e(this,"templateData"),s=n(r,t,{data:o})),i?i(s):s}).property("path","pathRoot","valueNormalizerFunc").volatile(),rerenderIfNeeded:function(){!e(this,"isDestroyed")&&e(this,"normalizedValue")!==this._lastNormalizedValue&&this.rerender()},render:function(n){var r=e(this,"isEscaped"),i=e(this,"shouldDisplayFunc"),s=e(this,"preserveContext"),o=e(this,"previousContext"),u=e(this,"inverseTemplate"),f=e(this,"displayTemplate"),l=e(this,"normalizedValue");this._lastNormalizedValue=l;if(i(l)){t(this,"template",f);if(s)t(this,"_templateContext",o);else{if(!f){l===null||l===undefined?l="":l instanceof Handlebars.SafeString||(l=String(l)),r&&(l=Handlebars.Utils.escapeExpression(l)),n.push(l);return}t(this,"_templateContext",l)}}else u?(t(this,"template",u),s?t(this,"_templateContext",o):t(this,"_templateContext",l)):t(this,"template",function(){return""});return this._super(n)}})}(),function(){var e=Ember.get,t=Ember.set,n=Ember.String.fmt,r=Ember.Handlebars.getPath,i=Ember.Handlebars.normalizePath,s=Ember.ArrayUtils.forEach,o=Ember.Handlebars,u=o.helpers,a=function(e,t,n,s,o){var u=t.data,a=t.fn,f=t.inverse,l=u.view,c=this,h,p,v;v=i(c,e,u),h=v.root,p=v.path;if("object"==typeof this){var m=l.createChildView(Ember._HandlebarsBoundView,{preserveContext:n,shouldDisplayFunc:s,valueNormalizerFunc:o,displayTemplate:a,inverseTemplate:f,path:p,pathRoot:h,previousContext:c,isEscaped:t.hash.escaped,templateData:t.data});l.appendChild(m);var g=function(){Ember.run.once(m,"rerenderIfNeeded")};p!==""&&Ember.addObserver(h,p,g)}else u.buffer.push(r(h,p,t))};o.registerHelper("_triageMustache",function(e,t){return u[e]?u[e].call(this,t):u.bind.apply(this,arguments)}),o.registerHelper("bind",function(e,t){var n=t.contexts&&t.contexts[0]||this;return a.call(n,e,t,!1,function(e){return!Ember.none(e)})}),o.registerHelper("boundIf",function(t,n){var r=n.contexts&&n.contexts[0]||this,i=function(t){return Ember.typeOf(t)==="array"?e(t,"length")!==0:!!t};return a.call(r,t,n,!0,i,i)}),o.registerHelper("with",function(e,t){if(arguments.length===4){var n,r;t=arguments[3],n=arguments[2],r=arguments[0];var i=Ember.$.expando+Ember.guidFor(this);return t.data.keywords[i]=this,Ember.bind(t.data.keywords,n,i+"."+r),a.call(this,r,t.fn,!0,function(e){return!Ember.none(e)})}return u.bind.call(t.contexts[0],e,t)}),o.registerHelper("if",function(e,t){return u.boundIf.call(t.contexts[0],e,t)}),o.registerHelper("unless",function(e,t){var n=t.fn,r=t.inverse;return t.fn=r,t.inverse=n,u.boundIf.call(t.contexts[0],e,t)}),o.registerHelper("bindAttr",function(e){var t=e.hash,n=e.data.view,u=[],a=this,l=++Ember.$.uuid,c=t["class"];if(c!==null&&c!==undefined){var h=o.bindClasses(this,c,n,l,e);u.push('class="'+Handlebars.Utils.escapeExpression(h.join(" "))+'"'),delete t["class"]}var p=Ember.keys(t);return s(p,function(s){var o=t[s],f,c;c=i(a,o,e.data),f=c.root,o=c.path;var h=o==="this"?f:r(f,o,e),p=Ember.typeOf(h),v,m;v=function(){var t=r(f,o,e),i=n.$("[data-bindattr-"+l+"='"+l+"']");if(i.length===0){Ember.removeObserver(f,o,m);return}Ember.View.applyAttributeBindings(i,s,t)},m=function(){Ember.run.once(v)},o!=="this"&&Ember.addObserver(f,o,m),p==="string"||p==="number"&&!isNaN(h)?u.push(s+'="'+Handlebars.Utils.escapeExpression(h)+'"'):h&&p==="boolean"&&u.push(s+'="'+s+'"')},this),u.push("data-bindattr-"+l+'="'+l+'"'),new o.SafeString(u.join(" "))}),o.bindClasses=function(e,t,n,o,u){var a=[],l,c,h,p=function(e,t,n,i){var s=t!==""?r(e,t,i):!0;if(!!s&&n)return n;if(s===!0){var o=t.split(".");return Ember.String.dasherize(o[o.length-1])}return s!==!1&&s!==undefined&&s!==null?s:null};return s(t.split(" "),function(t){var r,s,f,d=t.split(":"),v=d[0],y=d[1],b=e,w;v!==""&&(w=i(e,v,u.data),b=w.root,v=w.path),s=function(){l=p(b,v,y,u),h=o?n.$("[data-bindattr-"+o+"='"+o+"']"):n.$(),h.length===0?Ember.removeObserver(b,v,f):(r&&h.removeClass(r),l?(h.addClass(l),r=l):r=null)},f=function(){Ember.run.once(s)},v!==""&&Ember.addObserver(b,v,f),c=p(b,v,y,u),c&&(a.push(c),r=c)}),a}}(),function(){var e=Ember.get,t=Ember.set,n=Ember.ArrayUtils.indexOf,r=/^parentView\./,i=Ember.Handlebars;i.ViewHelper=Ember.Object.create({viewClassFromHTMLOptions:function(e,t,n){var r=t.hash,i=t.data,s={},o=r["class"],u=!1;r.id&&(s.elementId=r.id,u=!0),o&&(o=o.split(" "),s.classNames=o,u=!0),r.classBinding&&(s.classNameBindings=r.classBinding.split(" "),u=!0),r.classNameBindings&&(s.classNameBindings=r.classNameBindings.split(" "),u=!0),r.attributeBindings&&(s.attributeBindings=null,u=!0),u&&(r=Ember.$.extend({},r),delete r.id,delete r["class"],delete r.classBinding);var a,f;for(var l in r){if(!r.hasOwnProperty(l))continue;Ember.IS_BINDING.test(l)&&(a=r[l],f=Ember.Handlebars.normalizePath(null,a,i),f.isKeyword?r[l]="templateData.keywords."+a:Ember.isGlobalPath(a)||(a==="this"?r[l]="bindingContext":r[l]="bindingContext."+a))}return s.bindingContext=n,e.extend(r,s)},helper:function(e,t,n){var r=n.inverse,s=n.data,o=s.view,u=n.fn,a=n.hash,f;"string"==typeof t?f=i.getPath(e,t,n):f=t,f=this.viewClassFromHTMLOptions(f,n,e);var l=s.view,c={templateData:n.data};u&&(c.template=u),l.appendChild(f,c)}}),i.registerHelper("view",function(e,t){return e&&e.data&&e.data.isRenderData&&(t=e,e="Ember.View"),i.ViewHelper.helper(this,e,t)})}(),function(){var e=Ember.get,t=Ember.Handlebars.getPath,n=Ember.String.fmt;Ember.Handlebars.registerHelper("collection",function(n,r){n&&n.data&&n.data.isRenderData&&(r=n,n=undefined);var i=r.fn,s=r.data,o=r.inverse,u;u=n?t(this,n,r):Ember.CollectionView;var f=r.hash,l={},c,h,p=f.itemViewClass,d=u.proto();delete f.itemViewClass,h=p?t(d,p,r):d.itemViewClass;for(var v in f)f.hasOwnProperty(v)&&(c=v.match(/^item(.)(.*)$/),c&&(l[c[1].toLowerCase()+c[2]]=f[v],delete f[v]));var m=f.tagName||d.tagName;i&&(l.template=i,delete r.fn);if(o&&o!==Handlebars.VM.noop){var g=e(d,"emptyViewClass");f.emptyView=g.extend({template:o,tagName:l.tagName})}return f.eachHelper==="each"&&(l._templateContext=Ember.computed(function(){return e(this,"content")}).property("content"),delete f.eachHelper),f.itemViewClass=Ember.Handlebars.ViewHelper.viewClassFromHTMLOptions(h,{data:s,hash:l},this),Ember.Handlebars.helpers.view.call(this,u,r)})}(),function(){var e=Ember.Handlebars.getPath;Ember.Handlebars.registerHelper("unbound",function(t,n){var r=n.contexts&&n.contexts[0]||this;return e(r,t,n)})}(),function(){var e=Ember.getPath;Ember.Handlebars.registerHelper("log",function(t,n){var r=n.contexts&&n.contexts[0]||this;Ember.Logger.log(e(r,t))}),Ember.Handlebars.registerHelper("debugger",function(){debugger})}(),function(){var e=Ember.get,t=Ember.set;Ember.Handlebars.EachView=Ember.CollectionView.extend(Ember._Metamorph,{itemViewClass:Ember._MetamorphView,emptyViewClass:Ember._MetamorphView,createChildView:function(n,r){n=this._super(n,r);var i=e(this,"keyword");if(i){var s=e(n,"templateData");s=Ember.copy(s),s.keywords=n.cloneKeywords(),t(n,"templateData",s);var o=e(n,"content");s.keywords[i]=o}return n}}),Ember.Handlebars.registerHelper("each",function(e,t){if(arguments.length===4){var n=arguments[0];t=arguments[3],e=arguments[2],t.hash.keyword=n}else t.hash.eachHelper="each";return t.hash.contentBinding=e,Ember.Handlebars.helpers.collection.call(this,"Ember.Handlebars.EachView",t)})}(),function(){Ember.Handlebars.registerHelper("template",function(e,t){var n=Ember.TEMPLATES[e];Ember.TEMPLATES[e](this,{data:t.data})})}(),function(){var e=Ember.Handlebars,t=e.getPath,n=Ember.get,r=e.ActionHelper={registeredActions:{}};r.registerAction=function(e,t,n,i,s){var o=(++Ember.$.uuid).toString();return r.registeredActions[o]={eventName:t,handler:function(t){return t.view=i,t.context=s,n.isState&&typeof n.send=="function"?n.send(e,t):n[e].call(n,t)}},i.on("willRerender",function(){delete r.registeredActions[o]}),o},e.registerHelper("action",function(i,s){var o=s.hash||{},u=o.on||"click",f=s.data.view,l,h,p;f.isVirtual&&(f=f.get("parentView"));if(o.target)l=t(this,o.target,s);else if(p=s.data.keywords.controller)l=n(p,"target");l=l||f,h=o.context?t(this,o.context,s):s.contexts[0];var v=r.registerAction(i,u,l,f,h);return new e.SafeString('data-ember-action="'+v+'"')})}(),function(){var e=Ember.get,t=Ember.set;Ember.Handlebars.registerHelper("yield",function(t){var n=t.data.view,r;while(n&&!e(n,"layout"))n=e(n,"parentView");r=e(n,"template"),r&&r(this,t)})}(),function(){}(),function(){}(),function(){var e=Ember.set,t=Ember.get;Ember.Checkbox=Ember.View.extend({classNames:["ember-checkbox"],tagName:"input",attributeBindings:["type","checked","disabled"],type:"checkbox",checked:!1,disabled:!1,title:null,value:Ember.computed(function(n,r){return r!==undefined?e(this,"checked",r):t(this,"checked")}).property("checked").volatile(),change:function(){Ember.run.once(this,this._updateElementValue)},_updateElementValue:function(){var n=t(this,"title")?this.$("input:checkbox"):this.$();e(this,"checked",n.prop("checked"))},init:function(){if(t(this,"title")||t(this,"titleBinding"))this.tagName=undefined,this.attributeBindings=[],this.defaultTemplate=Ember.Handlebars.template(function(e,t,n,r,i){n=n||Ember.Handlebars.helpers;var s="",o,u,a,f,l,c=this,h="function",p=n.helperMissing,d=void 0,v=this.escapeExpression;return i.buffer.push('<label><input type="checkbox" '),o={},u="checked",o.checked=u,u="disabled",o.disabled=u,u=n.bindAttr||t.bindAttr,l={},l.hash=o,l.contexts=[],l.data=i,typeof u===h?o=u.call(t,l):u===d?o=p.call(t,"bindAttr",l):o=u,i.buffer.push(v(o)+">"),o=t,u="title",a={},f="true",a.escaped=f,f=n._triageMustache||t._triageMustache,l={},l.hash=a,l.contexts=[],l.contexts.push(o),l.data=i,typeof f===h?o=f.call(t,u,l):f===d?o=p.call(t,"_triageMustache",u,l):o=f,i.buffer.push(v(o)+"</label>"),s});this._super()}})}(),function(){var e=Ember.get,t=Ember.set;Ember.TextSupport=Ember.Mixin.create({value:"",attributeBindings:["placeholder","disabled","maxlength"],placeholder:null,disabled:!1,maxlength:null,insertNewline:Ember.K,cancel:Ember.K,focusOut:function(e){this._elementValueDidChange()},change:function(e){this._elementValueDidChange()},keyUp:function(e){this.interpretKeyEvents(e)},interpretKeyEvents:function(e){var t=Ember.TextSupport.KEY_EVENTS,n=t[e.keyCode];this._elementValueDidChange();if(n)return this[n](e)},_elementValueDidChange:function(){t(this,"value",this.$().val())}}),Ember.TextSupport.KEY_EVENTS={13:"insertNewline",27:"cancel"}}(),function(){var e=Ember.get,t=Ember.set;Ember.TextField=Ember.View.extend(Ember.TextSupport,{classNames:["ember-text-field"],tagName:"input",attributeBindings:["type","value","size"],value:"",type:"text",size:null})}(),function(){var e=Ember.get,t=Ember.set;Ember.Button=Ember.View.extend(Ember.TargetActionSupport,{classNames:["ember-button"],classNameBindings:["isActive"],tagName:"button",propagateEvents:!1,attributeBindings:["type","disabled","href"],targetObject:Ember.computed(function(){var t=e(this,"target"),n=e(this,"templateContext"),r=e(this,"templateData");return typeof t!="string"?t:Ember.Handlebars.getPath(n,t,{data:r})}).property("target").cacheable(),type:Ember.computed(function(e,t){var n=this.get("tagName");t!==undefined&&(this._type=t);if(this._type!==undefined)return this._type;if(n==="input"||n==="button")return"button"}).property("tagName").cacheable(),disabled:!1,href:Ember.computed(function(){return this.get("tagName")==="a"?"#":null}).property("tagName").cacheable(),mouseDown:function(){return e(this,"disabled")||(t(this,"isActive",!0),this._mouseDown=!0,this._mouseEntered=!0),e(this,"propagateEvents")},mouseLeave:function(){this._mouseDown&&(t(this,"isActive",!1),this._mouseEntered=!1)},mouseEnter:function(){this._mouseDown&&(t(this,"isActive",!0),this._mouseEntered=!0)},mouseUp:function(n){return e(this,"isActive")&&(this.triggerAction(),t(this,"isActive",!1)),this._mouseDown=!1,this._mouseEntered=!1,e(this,"propagateEvents")},keyDown:function(e){(e.keyCode===13||e.keyCode===32)&&this.mouseDown()},keyUp:function(e){(e.keyCode===13||e.keyCode===32)&&this.mouseUp()},touchStart:function(e){return this.mouseDown(e)},touchEnd:function(e){return this.mouseUp(e)},init:function(){this._super()}})}(),function(){var e=Ember.get,t=Ember.set;Ember.TextArea=Ember.View.extend(Ember.TextSupport,{classNames:["ember-text-area"],tagName:"textarea",attributeBindings:["rows","cols"],rows:null,cols:null,_updateElementValue:Ember.observer(function(){this.$().val(e(this,"value"))},"value"),init:function(){this._super(),this.on("didInsertElement",this,this._updateElementValue)}})}(),function(){Ember.TabContainerView=Ember.View.extend()}(),function(){var e=Ember.get,t=Ember.getPath;Ember.TabPaneView=Ember.View.extend({tabsContainer:Ember.computed(function(){return this.nearestInstanceOf(Ember.TabContainerView)}).property().volatile(),isVisible:Ember.computed(function(){return e(this,"viewName")===t(this,"tabsContainer.currentView")}).property("tabsContainer.currentView").volatile()})}(),function(){var e=Ember.get,t=Ember.setPath;Ember.TabView=Ember.View.extend({tabsContainer:Ember.computed(function(){return this.nearestInstanceOf(Ember.TabContainerView)}).property().volatile(),mouseUp:function(){t(this,"tabsContainer.currentView",e(this,"value"))}})}(),function(){}(),function(){var e=Ember.set,t=Ember.get,n=Ember.getPath,r=Ember.ArrayUtils.indexOf,i=Ember.ArrayUtils.indexesOf;Ember.Select=Ember.View.extend({tagName:"select",defaultTemplate:Ember.Handlebars.template(function(e,t,n,r,i){function s(e,t){var r="",i,s,o,u;return t.buffer.push("<option>"),i=e,s="view.prompt",o={},u="true",o.escaped=u,u=n._triageMustache||e._triageMustache,c={},c.hash=o,c.contexts=[],c.contexts.push(i),c.data=t,typeof u===p?i=u.call(e,s,c):u===v?i=d.call(e,"_triageMustache",s,c):i=u,t.buffer.push(m(i)+"</option>"),r}function o(e,t){var r,i,s,o;r=e,i="Ember.SelectOption",s={},o="this",s.contentBinding=o,o=n.view||e.view,c={},c.hash=s,c.contexts=[],c.contexts.push(r),c.data=t,typeof o===p?r=o.call(e,i,c):o===v?r=d.call(e,"view",i,c):r=o,t.buffer.push(m(r))}n=n||Ember.Handlebars.helpers;var u="",a,f,l,c,h=this,p="function",d=n.helperMissing,v=void 0,m=this.escapeExpression;return a=t,f="view.prompt",l=n["if"],c=h.program(1,s,i),c.hash={},c.contexts=[],c.contexts.push(a),c.fn=c,c.inverse=h.noop,c.data=i,a=l.call(t,f,c),(a||a===0)&&i.buffer.push(a),a=t,f="view.content",l=n.each,c=h.program(3,o,i),c.hash={},c.contexts=[],c.contexts.push(a),c.fn=c,c.inverse=h.noop,c.data=i,a=l.call(t,f,c),(a||a===0)&&i.buffer.push(a),u}),attributeBindings:["multiple"],multiple:!1,content:null,selection:null,prompt:null,optionLabelPath:"content",optionValuePath:"content",change:function(){t(this,"multiple")?this._changeMultiple():this._changeSingle()},selectionDidChange:Ember.observer(function(){var n=t(this,"selection"),r=Ember.isArray(n);if(t(this,"multiple")){if(!r){e(this,"selection",Ember.A([n]));return}this._selectionDidChangeMultiple()}else this._selectionDidChangeSingle()},"selection"),_triggerChange:function(){var e=t(this,"selection");e&&this.selectionDidChange(),this.change()},_changeSingle:function(){var n=this.$()[0].selectedIndex,r=t(this,"content"),i=t(this,"prompt");if(!r)return;if(i&&n===0){e(this,"selection",null);return}i&&(n-=1),e(this,"selection",r.objectAt(n))},_changeMultiple:function(){var n=this.$("option:selected"),r=t(this,"prompt"),i=r?1:0,s=t(this,"content");if(!s)return;if(n){var o=n.map(function(){return this.index-i}).toArray();e(this,"selection",s.objectsAt(o))}},_selectionDidChangeSingle:function(){var e=this.$()[0],n=t(this,"content"),i=t(this,"selection"),s=n?r(n,i):-1,o=t(this,"prompt");o&&s>-1&&(s+=1),e&&(e.selectedIndex=s)},_selectionDidChangeMultiple:function(){var e=t(this,"content"),n=t(this,"selection"),s=e?i(e,n):[-1],o=t(this,"prompt"),u=o?1:0,a=this.$("option"),f;a&&a.each(function(){f=this.index>-1?this.index+u:-1,this.selected=r(s,f)>-1})},init:function(){this._super(),this.on("didInsertElement",this,this._triggerChange)}}),Ember.SelectOption=Ember.View.extend({tagName:"option",defaultTemplate:Ember.Handlebars.template(function(e,t,n,r,i){n=n||Ember.Handlebars.helpers;var s,o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;s=t,o="view.label",u={},a="true",u.escaped=a,a=n._triageMustache||t._triageMustache,f={},f.hash=u,f.contexts=[],f.contexts.push(s),f.data=i,typeof a===c?s=a.call(t,o,f):a===p?s=h.call(t,"_triageMustache",o,f):s=a,i.buffer.push(d(s))}),attributeBindings:["value","selected"],init:function(){this.labelPathDidChange(),this.valuePathDidChange(),this._super()},selected:Ember.computed(function(){var e=t(this,"content"),i=n(this,"parentView.selection");return n(this,"parentView.multiple")?i&&r(i,e)>-1:e==i}).property("content","parentView.selection").volatile(),labelPathDidChange:Ember.observer(function(){var e=n(this,"parentView.optionLabelPath");if(!e)return;Ember.defineProperty(this,"label",Ember.computed(function(){return n(this,e)}).property(e).cacheable())},"parentView.optionLabelPath"),valuePathDidChange:Ember.observer(function(){var e=n(this,"parentView.optionValuePath");if(!e)return;Ember.defineProperty(this,"value",Ember.computed(function(){return n(this,e)}).property(e).cacheable())},"parentView.optionValuePath")})}(),function(){}(),function(){Ember.Handlebars.bootstrap=function(e){var t='script[type="text/x-handlebars"], script[type="text/x-raw-handlebars"]';Ember.ENV.LEGACY_HANDLEBARS_TAGS&&(t+=', script[type="text/html"]'),Ember.$(t,e).each(function(){var e=Ember.$(this),t=e.attr("type"),n=e.attr("type")==="text/x-raw-handlebars"?Ember.$.proxy(Handlebars.compile,Handlebars):Ember.$.proxy(Ember.Handlebars.compile,Ember.Handlebars),r=e.attr("data-template-name")||e.attr("id"),i=n(e.html()),s,o,u,a,f;if(r)Ember.TEMPLATES[r]=i,e.remove();else{if(e.parents("head").length!==0)throw new Ember.Error("Template found in <head> without a name specified. Please provide a data-template-name attribute.\n"+e.html());o=e.attr("data-view"),s=o?Ember.getPath(o):Ember.View,u=e.attr("data-element-id"),a=e.attr("data-tag-name"),f={template:i},u&&(f.elementId=u),a&&(f.tagName=a),s=s.create(f),s._insertElementLater(function(){e.replaceWith(this.$()),e=null})}})},Ember.$(document).ready(function(){Ember.Handlebars.bootstrap(Ember.$(document))})}(),function(){}(),define("ember",function(){}),define("app/models/machine",["ember"],function(){return Ember.Object.extend({id:null,imageId:null,image:null,name:null,backend:null,selected:!1,hasKey:!1,hasMonitoring:!1,state:"stopped",reboot:function(){log("Rebooting machine",this.name);var e=this;$.ajax({url:"/backends/"+this.backend.index+"/machines/"+this.id,type:"POST",data:"action=reboot",success:function(t){e.set("state","rebooting"),info("Succesfully sent reboot to machine",e.name)},error:function(t,n,r){Mist.notificationController.notify("Error when sending reboot to machine "+e.name),error(n,r,"when sending reboot to machine",e.name)}})},destroy:function(){log("Destroying machine",this.name);var e=this;$.ajax({url:"/backends/"+this.backend.index+"/machines/"+this.id,type:"POST",data:"action=destroy",success:function(t){e.set("state","pending"),info("Successfully sent destroy to machine",e.name)},error:function(t,n,r){Mist.notificationController.notify("Error when sending destroy to machine "+e.name),error(n,r,"when sending destroy to machine",e.name)}})},start:function(){log("Starting machine",this.name);var e=this;$.ajax({url:"backends/"+this.backend.index+"/machines/"+this.id,type:"POST",data:"action=start",success:function(t){e.set("state","pending"),info("Successfully sent start to machine",e.name)},error:function(t,n,r){Mist.notificationController.notify("Error when sending start to machine "+e.name),error(n,r,"when sending start to machine",e.name)}})},shutdown:function(){log("Stopping machine",this.name);var e=this;$.ajax({url:"backends/"+this.backend.index+"/machines/"+this.id,type:"POST",data:"action=stop",success:function(t){e.set("state","stopped"),info("Successfully sent stop to machine",e.name)},error:function(t,n,r){Mist.notificationController.notify("Error when sending stop to machine "+e.name),error(n,r,"when sending stop to machine",e.name)}})},shell:function(e,t){log("Sending",e,"to machine",this.name);var n;this.extra.dns_name?n=this.extra.dns_name:n=this.public_ips[0];var r;try{r=this.extra.tags.ssh_user}catch(i){r="root"}var s=this;$.ajax({url:"/backends/"+this.backend.index+"/machines/"+this.id+"/shell",type:"POST",data:{host:n,ssh_user:r,command:e},success:function(n){n&&t(n),info("Successfully sent shell command",e,"to machine",s.name,"with result:\n",n)},error:function(t,n,r){Mist.notificationController.notify("Error sending shell command "+e+" to machine "+s.name),i(n,r,"when sending shell command",e,"to machine",s.name)}})},hasAlert:function(){return!1}.property("hasAlert"),startUptimeTimer:function(){var e=this;setInterval(function(){if(e.get("state")!="running"||!e.get("uptimeFromServer")||!e.get("uptimeChecked"))return;e.set("uptime",e.get("uptimeFromServer")+(Date.now()-e.get("uptimeChecked")))},1e3)},checkUptime:function(){if(this.state=="running"){var e;this.extra.dns_name?e=this.extra.dns_name:e=this.public_ips[0];var t;try{t=this.extra.tags.ssh_user}catch(n){t="root"}var r=this;$.ajax({url:"/backends/"+this.backend.index+"/machines/"+this.id+"/shell",type:"POST",data:{host:e,ssh_user:t,command:"cat /proc/uptime"},success:function(e){r.set("hasKey",!0);var t=e.split(" ");if(t.length==2){var n=parseFloat(t[0])*1e3;r.set("uptimeChecked",Date.now()),r.set("uptimeFromServer",n)}info("Successfully got uptime",e,"from machine",r.name)},error:function(e,t,i){r.set("hasKey",!1),n(t),Mist.notificationController.notify("Error getting uptime from machine "+r.name),n(t,i,"when getting uptime from machine",r.name)}})}},checkHasMonitoring:function(){var e=this;$.ajax({url:"backends/"+this.backend.index+"/machines/"+this.id+"/monitoring",success:function(t){log("machine has monitoring"),log(t),"monitoring"in t&&e.set("hasMonitoring",t.monitoring)},error:function(t,n,r){Mist.notificationController.notify("Error checking monitoring of machine "+e.name),error(n,r,"while checking monitoring of machine",e.name)}})},resetUptime:function(){this.get("state")=="running"?(this.startUptimeTimer(),this.checkUptime()):(this.set("uptime",0),this.uptimeTimer=!1)}.observes("state"),monitoringChanged:function(){var e=!this.hasMonitoring;log("monitoring:  "+e);var t=this,n;this.extra.dns_name?n=this.extra.dns_name:n=this.public_ips[0];var r={monitoring:this.hasMonitoring,host:n,provider:this.backend.provider};$.ajax({url:"backends/"+this.backend.index+"/machines/"+this.id+"/monitoring",type:"POST",contentType:"application/json",data:JSON.stringify(r),dataType:"json",success:function(e){},error:function(n,r,i){t.set("hasMonitoring",e)}})}.observes("hasMonitoring"),init:function(){this._super();var e=this;this.backend.images.getImage(this.imageId,function(t){e.set("image",t)}),this.startUptimeTimer(),this.checkUptime(),this.checkHasMonitoring()}})}),define("app/controllers/machines",["app/models/machine"],function(e){return Ember.ArrayController.extend({backend:null,content:null,init:function(){this._super(),this.set("content",[]),this.refresh()},refresh:function(){if(this.backend.state=="offline"){this.clear();return}var t=this;this.backend.set("state","wait"),$.getJSON("/backends/"+this.backend.index+"/machines",function(n){n.forEach(function(n){var r=!1;log("item id: "+n.id),t.content.forEach(function(e){if(e.id==n.id)return r=!0,e.set(n),e.set("state",n.state),e.set("can_stop",n.can_stop),e.set("can_start",n.can_start),e.set("can_destroy",n.can_destroy),e.set("can_reboot",n.can_reboot),e.set("tags",n.tags),!1});if(!r){n.backend=t.backend;var i=e.create(n);t.contentWillChange(t.content.length-1,0,1),t.content.push(i),t.contentDidChange(t.content.length-1,0,1);var s=Mist.backendsController.content.indexOf(t.backend);Mist.backendsController.contentWillChange(s,0,0),Mist.backendsController.contentDidChange(s,0,0)}}),t.content.forEach(function(e){var r=!1;n.forEach(function(t){log("machine id: "+t.id);if(t.id==e.id)return r=!0,!1});if(!r){log("not found, deleting"),t.contentWillChange(),t.removeObject(e),t.contentDidChange();var i=Mist.backendsController.content.indexOf(t.backend);Mist.backendsController.contentWillChange(i,0,0),Mist.backendsController.contentDidChange(i,0,0)}}),t.backend.set("state","online"),Ember.run.later(t,function(){this.refresh()},t.backend.poll_interval)}).error(function(e){Mist.notificationController.notify("Error loading machines for backend: "+t.backend.title),t.backend.set("state","offline"),log("Error loading machines for backend: "+t.backend.title),log(e.state+" "+e.stateText)})},newMachine:function(e,t,n,r){log("Creating machine",this.name,"to backend",this.backend.title);var i={name:e,image:t.id,size:n.id,image_extra:t.extra,disk:n.disk,location:r.id},s=this;$.ajax({url:"backends/"+this.backend.index+"/machines",type:"POST",contentType:"application/json",data:JSON.stringify(i),dataType:"json",success:function(t){info("Successfully sent create machine",e,"to backend",s.backend.title)},error:function(t,n,r){Mist.notificationController.notify("Error while sending create machine"+e+" to backend "+s.backend.title),error(n,r,"while checking key of machine",s.name)}})}})}),define("app/models/image",["ember"],function(){return Ember.Object.extend({TYPES:{rhel:"RedHat Enterprise Linux",ubuntu:"Ubuntu",ibm:"IBM",canonical:"Canonical",sles:"SUSE Linux Enterprise Server",oracle_linux:"Oracle Linux",karmic:"Karmic",opensolaris:"Open Solaris",windows:"Windows",gentoo:"Gentoo",opensuse:"openSUSE",fedora:"Fedora",centos:"CentOS",debian:"Debian",amazon:"Amazon"},id:null,name:null,extra:null,type:function(){for(type in this.TYPES)if(this.name!=null&&this.name.toLowerCase().search(type)!=-1)return type;return"generic"}.property("id")})}),define("app/controllers/images",["app/models/image"],function(e){return Ember.ArrayController.extend({backend:null,getImageType:function(e,t){var n=this;this.getImage(e,function(e){for(type in n.TYPES)if(e.name.toLowerCase().search(type)!=-1){t(type);return}})},getImage:function(t,n){if(t==null)return!1;retImage=!1,this.content&&$.each(this.content,function(e,n){if(n.id==t)return retImage=n,!1});if(retImage)n(retImage);else{var r=this;$.ajax({url:"backends/"+this.backend.index+"/images/"+t+"/metadata",success:function(t){t.backend=r.backend;var i=e.create(t);r.content.push(i),n(i)},error:function(e,n,r){Mist.notificationController.notify("Error loading image id:"+t)}})}},init:function(){this._super();var t=this;$.getJSON("/backends/"+this.backend.index+"/images",function(n){var r=new Array;n.forEach(function(n){n.backend=t.backend,r.push(e.create(n))}),t.set("content",r)}).error(function(){Mist.notificationController.notify("Error loading images for backend: "+t.backend.title)})}})}),define("app/models/size",["ember"],function(){return Ember.Object.extend({id:null,name:null,bandwidth:null,disk:null,driver:null,price:null,ram:null})}),define("app/controllers/sizes",["app/models/size"],function(e){return Ember.ArrayController.extend({backend:null,init:function(){this._super();var t=this;$.getJSON("/backends/"+this.backend.index+"/sizes",function(n){var r=new Array;n.forEach(function(t){r.push(e.create(t))}),t.set("content",r)})}})}),define("app/models/location",["ember"],function(){return Ember.Object.extend({id:null,name:null,country:null})}),define("app/controllers/locations",["app/models/location"],function(e){return Ember.ArrayController.extend({backend:null,init:function(){this._super();var t=this;$.getJSON("/backends/"+this.backend.index+"/locations",function(n){var r=new Array;n.forEach(function(t){r.push(e.create(t))}),t.set("content",r)}).error(function(){Mist.notificationController.notify("Error loading locations for backend: "+t.backend.title)})}})}),define("app/models/backend",["app/controllers/machines","app/controllers/images","app/controllers/sizes","app/controllers/locations","ember"],function(e,t,n,r){return Ember.Object.extend({BACKENDSTATES:["offline","online","wait"],index:null,id:null,title:null,provider:null,poll_interval:null,host:null,state:"unknown",enabled:null,machines:null,sizes:[],images:null,locations:[],isOn:function(){return this.state=="offline"?!1:!0},isOff:function(){return!this.isOn()},init:function(){this._super(),this.images=t.create({backend:this}),this.machines=e.create({backend:this}),this.sizes=n.create({backend:this}),this.locations=r.create({backend:this})},disable:function(){this.state="offline",this.machines.clear(),this.images.clear(),this.sizes.clear(),this.locations.clear()}})}),define("app/controllers/backends",["app/models/backend"],function(e){return Ember.ArrayController.extend({content:[],machineCount:0,imageCount:0,state:"wait",getMachineCount:function(){var e=0;this.content.forEach(function(t){e+=t.machines.get("length")}),this.set("machineCount",e)},getSelectedMachineCount:function(){var e=0;this.content.forEach(function(t){e+=t.machines.filterProperty("selected",!0).get("length")}),this.set("selectedMachineCount",e)},getImageCount:function(){var e=0;this.content.forEach(function(t){e+=t.images.get("length")}),this.set("imageCount",e)},init:function(){this._super();var t=this;t.addObserver("length",function(){t.getMachineCount(),t.getSelectedMachineCount(),t.getImageCount()}),Ember.run.next(function(){$.getJSON("/backends",function(n){n.forEach(function(n){t.pushObject(e.create(n))}),t.content.forEach(function(e){e.machines.addObserver("length",function(){t.getMachineCount()}),e.machines.addObserver("@each.selected",function(){t.getSelectedMachineCount()}),e.images.addObserver("length",function(){t.getImageCount()}),e.addObserver("state",function(){var e=!1,n="ok";t.content.forEach(function(t){t.state=="wait"?e=!0:t.state=="offline"?n="error":t.state=="off"&&(n="down")}),e?n="state-wait-"+n:n="state-"+n,info("setting backends state: "+n),t.set("state",n)})})}).error(function(){Mist.notificationController.notify("Error loading backends")})})}})}),define("app/controllers/confirmation",["ember"],function(){return Ember.Object.extend({show:function(){$.mobile.changePage("#dialog-confirm")},confirm:function(){this.callback(),this.get("fromDialog")?window.history.go(-2):window.history.go(-1),this.set("callback",function(){})}})}),define("app/controllers/notification",["ember"],function(){return Ember.Object.extend({timeout:!1,notify:function(e){this.timeout&&clearTimeout(this.timeout),log("notification: "+e),$.mobile.loading("show",{text:e,textVisible:!0,textonly:!0,theme:$.mobile.pageLoadErrorMessageTheme}),this.timeout=setTimeout("$.mobile.loading( 'hide' )",1500)}})}),define("app/controllers/machine_add",["ember"],function(){return Ember.Object.extend({newMachine:function(){log("new machine"),this.get("newMachineBackend").machines.newMachine(this.get("newMachineName"),this.get("newMachineImage"),this.get("newMachineSize"),this.get("newMachineLocation"))},newMachineClear:function(){this.set("newMachineName",null),this.set("newMachineBackend",null),this.set("newMachineImage",null),this.set("newMachineSize",null),this.set("newMachineLocation",null),this.set("newMachineCost",0)},updateNewMachineReady:function(){this.get("newMachineName")&&this.get("newMachineBackend")&&this.get("newMachineImage")&&this.get("newMachineSize")&&this.get("newMachineLocation")?this.set("newMachineReady",!0):this.set("newMachineReady",!1),this.set("newMachineNameReady",!!this.get("newMachineName")||!!this.get("newMachineBackend")),this.set("newMachineBackendReady",!!this.get("newMachineBackend")),this.set("newMachineImageReady",!!this.get("newMachineImage")),this.set("newMachineSizeReady",!!this.get("newMachineSize")),this.set("newMachineLocationReady",!!this.get("newMachineLocation"))},init:function(){this._super(),this.addObserver("newMachineName",this,this.updateNewMachineReady),this.addObserver("newMachineBackend",this,this.updateNewMachineReady),this.addObserver("newMachineImage",this,this.updateNewMachineReady),this.addObserver("newMachineSize",this,this.updateNewMachineReady),this.addObserver("newMachineLocation",this,this.updateNewMachineReady),this.addObserver("newMachineCost",this,this.updateNewMachineReady)}})}),define("app/controllers/select_machines",["ember"],function(){return Ember.ArrayController.extend({_content:[{name:"All",id:"all"},{name:"None",id:"none"}],selection:null,backendsChanged:function(){log("backends changed");var e=new Array;this._content.forEach(function(t){e.push({name:t.name,id:t.id})}),Mist.backendsController.forEach(function(t){e.push({name:t.title,id:t.id})}),e.forEach(function(e){log(e.name)}),this.contentWillChange(),this.set("content",e),this.contentDidChange()}.observes("Mist.backendsController.@each"),selectionChanged:function(){var e=this.selection.id;e=="none"?Mist.backendsController.forEach(function(e){e.machines.forEach(function(e){log("deselecting machine: "+e.name),e.set("selected",!1)})}):e=="all"?Mist.backendsController.forEach(function(e){e.machines.forEach(function(e){log("selecting machine: "+e.name),e.set("selected",!0)})}):Mist.backendsController.forEach(function(t){t.id==e?t.machines.forEach(function(e){log("selecting machine: "+e.name),e.set("selected",!0)}):t.machines.forEach(function(e){log("deselecting machine: "+e.name),e.set("selected",!1)})})}.observes("selection"),init:function(){this._super()}})}),define("app/controllers/select_images",["ember"],function(){return Ember.ArrayController.extend({_content:[{name:"All",id:"all"},{name:"None",id:"none"}],selection:null,backendsChanged:function(){var e=new Array;this._content.forEach(function(t){e.push({name:t.name,id:t.id})}),Mist.backendsController.forEach(function(t){e.push({name:t.title,id:t.id})}),this.contentWillChange(),this.set("content",e),this.contentDidChange()}.observes("Mist.backendsController.@each"),selectionChanged:function(){var e=this.selection.id;e=="none"?Mist.backendsController.forEach(function(e){e.images.forEach(function(e){e.set("hidden",!0)})}):e=="all"?Mist.backendsController.forEach(function(e){e.images.forEach(function(e){e.set("hidden",!1)})}):Mist.backendsController.forEach(function(t){t.id==e?t.images.forEach(function(e){e.set("hidden",!1)}):t.images.forEach(function(e){e.set("hidden",!0)})})}.observes("selection"),init:function(){this._super()}})}),define("app/views/count",["ember"],function(){return Ember.View.extend({didInsertElement:function(e){try{$("#home-menu").listview("refresh")}catch(e){}}})}),function(){var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],t=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,n=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,r=typeof location!="undefined"&&location.href,i=r&&location.protocol&&location.protocol.replace(/\:/,""),s=r&&location.hostname,o=r&&(location.port||undefined),u=[];define("text",[],function(){var a,f;return a={version:"1.0.8",strip:function(e){if(e){e=e.replace(t,"");var r=e.match(n);r&&(e=r[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")},createXhr:function(){var t,n,r;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(n=0;n<3;n++){r=e[n];try{t=new ActiveXObject(r)}catch(i){}if(t){e=[r];break}}return t},parseName:function(e){var t=!1,n=e.indexOf("."),r=e.substring(0,n),i=e.substring(n+1,e.length);return n=i.indexOf("!"),n!==-1&&(t=i.substring(n+1,i.length),t=t==="strip",i=i.substring(0,n)),{moduleName:r,ext:i,strip:t}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,n,r){var i=a.xdRegExp.exec(e),s,o,u;return i?(s=i[2],o=i[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===t)&&(!o||o===n)&&(!u&&!o||u===r)):!0},finishLoad:function(e,t,n,r,i){n=t?a.strip(n):n,i.isBuild&&(u[e]=n),r(n)},load:function(e,t,n,u){if(u.isBuild&&!u.inlineText){n();return}var f=a.parseName(e),l=f.moduleName+"."+f.ext,c=t.toUrl(l),h=u&&u.text&&u.text.useXhr||a.useXhr;!r||h(c,i,s,o)?a.get(c,function(t){a.finishLoad(e,f.strip,t,n,u)}):t([l],function(e){a.finishLoad(f.moduleName+"."+f.ext,f.strip,e,n,u)})},write:function(e,t,n,r){if(u.hasOwnProperty(t)){var i=a.jsEscape(u[t]);n.asModule(e+"!"+t,"define(function () { return '"+i+"';});\n")}},writeFile:function(e,t,n,r,i){var s=a.parseName(t),o=s.moduleName+"."+s.ext,u=n.toUrl(s.moduleName+"."+s.ext)+".js";a.load(o,n,function(t){var n=function(e){return r(u,e)};n.asModule=function(e,t){return r.asModule(e,u,t)},a.write(e,o,n,i)},i)}},a.createXhr()?a.get=function(e,t){var n=a.createXhr();n.open("GET",e,!0),n.onreadystatechange=function(e){n.readyState===4&&t(n.responseText)},n.send(null)}:typeof process!="undefined"&&process.versions&&!!process.versions.node?(f=require.nodeRequire("fs"),a.get=function(e,t){var n=f.readFileSync(e,"utf8");n.indexOf("﻿")===0&&(n=n.substring(1)),t(n)}):typeof Packages!="undefined"&&(a.get=function(e,t){var n="utf-8",r=new java.io.File(e),i=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(r),n)),o,u,a="";try{o=new java.lang.StringBuffer,u=s.readLine(),u&&u.length()&&u.charAt(0)===65279&&(u=u.substring(1)),o.append(u);while((u=s.readLine())!==null)o.append(i),o.append(u);a=String(o.toString())}finally{s.close()}t(a)}),a})}(),define("text!app/templates/backend_button.html",[],function(){return'<a href="#edit-backend"\n    data-rel="dialog"\n    data-theme="c"\n    data-inline="true"\n    data-transition="slidedown"\n    data-corners="false"\n    data-shadow="false"\n    data-role="button"\n    {{action "openDialog" on="click"}}\n    class="backend-state-{{unbound backend.state}}">{{backend.title}}</a>'}),define("app/views/backend_button",["text!app/templates/backend_button.html","ember"],function(e){return Ember.View.extend({tagName:!1,didInsertElement:function(e){$("#backend-buttons").trigger("create")},openDialog:function(e){Mist.set("backend",this.get("backend"))},init:function(){this._super(),this.set("template",Ember.Handlebars.compile(e))}})}),define("text!app/templates/backend_add_dialog.html",[],function(){return'<div data-role="content" data-theme="c">\n    <label for="select-backend">1. Provider:</label>\n    {{view Mist.Select contentBinding="providerList"\n                          optionLabelPath="content.title"\n                          optionValuePath="content.provider"\n                          prompt="Select Provider"\n                          selectionBinding="backendProvider"\n                          class="create-select" data-theme="c" data-icon="check"\n                          data-native-menu="false" id="create-select-provider"\n                          name="create-select-provider"\n    }}    \n    <label for="apikey">2. API Key:</label>\n    {{view Mist.TextField valueBinding="backendKey" \n    name="create-backend-key" id="create-backend-key"}}\n    <label for="apisecret">3. API Secret:</label>\n    {{view Mist.TextField valueBinding="backendSecret" \n    name="create-backend-secret" id="create-backend-secret"}}\n    <div id="create-backend-cancel" class="btn-full" data-role="controlgroup" data-type="horizontal">\n        <a id="create-backend-cancel" class="btn-left-full" data-role="button" data-rel="back" data-theme="c">Close</a>\n        <a id="create-backend-ok" class="btn-right-full" data-role="button" data-rel="back" data-theme="b" {{action "addButtonClick" on="click" }}>Add</a>\n    </div>\n</div>'}),define("app/views/backend_add",["app/models/backend","text!app/templates/backend_add_dialog.html","ember"],function(e,t){return Ember.View.extend({attributeBindings:["data-role","data-theme"],"data-role":"content","data-theme":"c",addButtonClick:function(){var t=this,n={provider:this.backendProvider,apikey:this.backendKey,title:"Rack",apisecret:this.backendSecret},r=Mist.backendsController.content.length;$.ajax({url:"/backends/"+r,type:"PUT",contentType:"application/json",dataType:"json",data:JSON.stringify(n),success:function(t){Mist.backendsController.pushObject(e.create(t)),info("added backend "+r)}})},init:function(){this._super(),this.set("template",Ember.Handlebars.compile(t))},providerList:function(){return[{title:"Rackspace",provider:"3"}]}.property("providerList")})}),define("text!app/templates/backend_edit_dialog.html",[],function(){return'\n<div class="content-header">\n	<span class=\'name\'>{{backend.title}}</span> <span class=\'state\'>{{backend.state}}</span>\n</div>\n\n<div data-role="fieldcontain">\n	<label for="backend-enable">Enabled:</label> {{#view\n	Mist.EnableBackendButtonView contentBinding="Mist.onOff"}} {{/view}}\n</div>\n<div data-role="fieldcontain">\n	<input id="backend-delete" type="button" value="Delete"\n		{{action "deleteButtonClick" on="click" }} />\n</div>\n<div id="backend-delete-confirm" class="btn-full"\n	data-role="controlgroup" data-type="horizontal">\n	<div class="label">Confirm backend removal?</div>\n	<a id="backend-delete-yes" class="btn-left-full" data-role="button"\n		data-theme="c"\n		{{action "deleteConfirmButtonClick" on="click" }}>Yes</a> <a id="backend-delete-no"\n		class="btn-right-full" data-role="button" data-theme="b"\n		{{action "deleteCancelButtonClick" on="click" }}>No</a>\n</div>\n<div id="create-backend-cancel" class="btn-full"\n	data-role="controlgroup" data-type="horizontal">\n	<a id="edit-backend-ok" class="btn-full" data-role="button"\n		data-rel="back" data-theme="b">Close</a>\n</div>'}),define("app/views/backend_edit",["text!app/templates/backend_edit_dialog.html","ember"],function(e){return Ember.View.extend({attributeBindings:["data-role","data-theme"],"data-role":"content","data-theme":"c",deleteButtonClick:function(){$("#backend-delete-confirm").slideDown()},deleteCancelButtonClick:function(){$("#backend-delete-confirm").slideUp()},deleteConfirmButtonClick:function(){var e=this;$.ajax({url:"/backends/"+this.backend.index,type:"DELETE",success:function(t){history.back(),$("#backend-delete-confirm").hide();var n=Mist.backendsController.content.indexOf(e.backend);Mist.backendsController.arrayContentWillChange(),Mist.backendsController.removeObject(e.backend),Mist.backendsController.arrayContentDidChange(),Mist.backendsController.content.forEach(function(e,t){e.index=t})}})},init:function(){this._super(),this.set("template",Ember.Handlebars.compile(e))}})}),define("text!app/templates/machine_list_item.html",[],function(){return'<li class="node prov-{{unbound machine.backend.provider}}"> \n    <fieldset class="machine-list-item">\n    {{view Mist.Checkbox checkedBinding="machine.selected" title="machine.name"}}\n    </fieldset>\n    <a href="#single-machine" {{action "checkBoxClick" on="click"}}>\n        <h3 class="name">{{machine.name}}</h3> <span class="caption-wrapper">\n            <h3 {{bindAttr class="machine.state :state"}}>{{machine.state}}</h3>\n            {{#if machine.hasAlert}}\n            <span class="ui-li-count node-icon ui-icon ui-icon-alert alert-icon"></span>\n            {{/if}}\n    </span>\n        <p class="description">\n            <span class="tag backend ui-btn-corner-all prov-{{unbound backend.provider}}">{{machine.backend.title}}</span>\n            {{#each machine.tags}}\n                <span class="tag ui-btn-corner-all">{{this}}</span>\n            {{/each}}\n        </p> \n        <span class="bubble-container">\n        {{#if machine.hasKey}}\n             <span class="ui-li-count node-icon key-icon ui-btn-corner-all"></span>\n        {{else}}\n         <span class="ui-li-count node-icon no-key-icon ui-btn-corner-all"></span>\n        {{/if}}\n        </span>\n</a></li>\n'}),define("app/views/machine_list_item",["text!app/templates/machine_list_item.html","ember"],function(e){return Ember.View.extend({tagName:!1,didInsertElement:function(){var e=this;Em.run.next(function(){try{e.get("parentView").$().find("ul").listview("refresh")}catch(t){try{$(".ui-page-active").attr("id")=="machines"&&e.get("parentView").$().find("ul").listview()}catch(t){error("could not create listview"),error(t)}}})},checkBoxClick:function(e,t){log("machine clicked");if(e.target.tagName!="A"){e.stopPropagation();if(e.target.tagName=="INPUT"){var n=$(e.target),r=n.is(":checked");r?n.closest(".node").append('<span class="mist-node-selected" style="display:none">mist-node-selected</span>'):n.closest(".node").find(".mist-node-selected").remove(),n.checkboxradio("refresh");var i=$("#machines-list input:checked").length;i>1?($("#machines-footer").fadeIn(140),$("#machines #footer-console").addClass("ui-disabled")):i>0?($("#machines-footer").fadeIn(140),$("#machines #footer-console").removeClass("ui-disabled")):$("#machines-footer").fadeOut(200)}}else Mist.set("machine",this.machine)},machineSelected:function(){log("selected changed");var e=this;Em.run.next(function(){try{e.get("parentView").$().find("input[type='checkbox']").checkboxradio("refresh")}catch(t){e.get("parentView")!=null&&e.get("parentView").$().find("input[type='checkbox']").checkboxradio()}var n=$("#machines-list input:checked").length;n>1?($("#machines-footer").fadeIn(140),$("#machines #footer-console").addClass("ui-disabled")):n==1?($("#machines-footer").fadeIn(140),$("#machines #footer-console").removeClass("ui-disabled")):$("#machines-footer").fadeOut(200)})}.observes("machine.selected"),init:function(){this._super(),this.set("template",Ember.Handlebars.compile(e))}})}),define("text!app/templates/image_list_item.html",[],function(){return'<li class="node prov-{{unbound image.backend.provider}}"> \n    <a {{action "createMachine"}}>\n        <h3 class="name">{{image.name}}</h3>\n        <p class="description">\n            <span class="tag backend ui-btn-corner-all prov-{{unbound backend.provider}}">{{image.backend.title}}</span>            \n        </p> \n</a></li>'}),define("app/views/image_list_item",["text!app/templates/image_list_item.html","ember"],function(e){return Ember.View.extend({tagName:!1,didInsertElement:function(){var e=this;Em.run.next(function(){try{e.get("parentView").$().find("ul").listview("refresh")}catch(t){try{e.get("parentView").$().find("ul").listview()}catch(t){}}})},createMachine:function(){$.mobile.changePage("#dialog-add","pop",!0,!0),Mist.machineAddController.set("newMachineBackend",this.image.backend),Mist.machineAddController.set("newMachineImage",this.image)},init:function(){this._super(),this.set("template",Ember.Handlebars.compile(e))}})}),define("app/views/enable_backend_button",["ember"],function(){return Ember.Select.extend({content:["on","off"],attributeBindings:["data-role"],"data-role":"slider"})}),define("text!app/templates/machine_add_dialog.html",[],function(){return'<div data-role="dialog" id="dialog-add" class="mist-dialog">\n  <div data-role="header">\n    <h1>Create Machine</h1>\n  </div>\n  <div data-role="content" data-theme="c">\n    <label for="create-machine-name">1. Name:</label>\n    {{view Mist.TextField valueBinding="Mist.machineAddController.newMachineName" \n    name="create-machine-name" id="create-machine-name"}}\n    \n    <label for="create-select-provider">2. Provider:</label>\n    \n    {{view Mist.Select contentBinding="Mist.backendsController"\n                          optionLabelPath="content.title"\n                          optionValuePath="content.provider"\n                          prompt="Select Provider"\n                          selectionBinding="Mist.machineAddController.newMachineBackend"\n                          class="create-select" data-theme="c" data-icon="check"\n                          data-native-menu="false" id="create-select-provider"\n                          name="create-select-provider"\n                          disabled="disabled"\n    }}\n    \n    <label for="create-select-image">3. Image:</label> \n    \n    {{view Mist.Select contentBinding="Mist.machineAddController.newMachineBackend.images"\n                          optionLabelPath="content.name"\n                          optionValuePath="content.id"\n                          prompt="Select Image"\n                          selectionBinding="Mist.machineAddController.newMachineImage"\n                          class="create-select" data-theme="c" data-icon="check"\n                          data-native-menu="false" id="create-select-image"\n                          name="create-select-image"\n                          disabled="disabled"\n    }}\n    \n    <label for="create-select-size">4. Size:</label>\n\n    {{view Mist.Select contentBinding="Mist.machineAddController.newMachineBackend.sizes"\n                          optionLabelPath="content.name"\n                          optionValuePath="content.id"\n                          prompt="Select Size"\n                          selectionBinding="Mist.machineAddController.newMachineSize"\n                          class="create-select" data-theme="c" data-icon="check"\n                          data-native-menu="false" id="create-select-size"\n                          name="create-select-size"\n                          disabled="disabled"\n    }}\n\n    <label for="create-select-location">5. Location:</label>\n\n    {{view Mist.Select contentBinding="Mist.machineAddController.newMachineBackend.locations"\n                          optionLabelPath="content.name"\n                          optionValuePath="content.id"\n                          prompt="Select Location"\n                          selectionBinding="Mist.machineAddController.newMachineLocation"\n                          class="create-select" data-theme="c" data-icon="check"\n                          data-native-menu="false" id="create-select-location"\n                          name="create-select-location"\n                          disabled="disabled"\n    }}\n\n    <div class="cost">Cost: {{Mist.machineAddController.newMachineCost}}</div>\n        \n     <div id="create-ok-cancel" class="btn-full" data-role="controlgroup"\n      data-type="horizontal">\n      <button id="create-cancel" class="btn-left-full" data-theme="c"\n      {{action "backClicked" }}>Back</button>\n      <button id="create-ok" class="btn-right-full"\n        data-theme="b" {{action "newMachineClicked" }} disabled="disabled">Launch!</button>\n    </div>\n  </div>\n</div>'}),define("app/views/machine_add_dialog",["text!app/templates/machine_add_dialog.html","ember"],function(e){return Ember.View.extend({tagName:!1,clear:function(){log("clear"),Mist.machineAddController.newMachineClear()},didInsertElement:function(){var e=this;this.$().bind("pagebeforeshow",function(t,n){n.prevPage[0].id&&e.clear.apply(e)})},newMachineClicked:function(){Mist.machineAddController.newMachine(),history.back()},backClicked:function(){history.back()},init:function(){this._super(),this.set("template",Ember.Handlebars.compile(e)),Ember.run.next(function(){Mist.machineAddController.addObserver("newMachineBackend",function(){Ember.run.next(function(){try{$("#create-select-provider").selectmenu("refresh"),$("#create-select-image").selectmenu("refresh"),$("#create-select-size").selectmenu("refresh"),$("#create-select-location").selectmenu("refresh")}catch(e){}})}),Mist.machineAddController.addObserver("newMachineReady",function(e,t,n,r){Ember.run.next(function(){try{n?$("#create-ok").button("enable"):$("#create-ok").button("disable")}catch(e){}})}),Mist.machineAddController.addObserver("newMachineNameReady",function(e,t,n,r){Ember.run.next(function(){try{n?($("#create-select-provider").selectmenu("enable"),$("#create-select-image").selectmenu("disable"),$("#create-select-size").selectmenu("disable"),$("#create-select-location").selectmenu("disable")):($("#create-select-provider").selectmenu("disable"),$("#create-select-image").selectmenu("disable"),$("#create-select-size").selectmenu("disable"),$("#create-select-location").selectmenu("disable"))}catch(e){}})}),Mist.machineAddController.addObserver("newMachineBackendReady",function(e,t,n,r){Ember.run.next(function(){try{n?($("#create-select-image").selectmenu("enable"),$("#create-select-size").selectmenu("disable"),$("#create-select-location").selectmenu("disable")):($("#create-select-image").selectmenu("disable"),$("#create-select-size").selectmenu("disable"),$("#create-select-location").selectmenu("disable"))}catch(e){}})}),Mist.machineAddController.addObserver("newMachineImageReady",function(e,t,n,r){Ember.run.next(function(){try{n?($("#create-select-size").selectmenu("enable"),$("#create-select-location").selectmenu("disable")):($("#create-select-size").selectmenu("disable"),$("#create-select-location").selectmenu("disable"))}catch(e){}})}),Mist.machineAddController.addObserver("newMachineSizeReady",function(e,t,n,r){Ember.run.next(function(){try{n?$("#create-select-location").selectmenu("enable"):$("#create-select-location").selectmenu("disable")}catch(e){}})}),Mist.machineAddController.addObserver("newMachineLocationReady",function(e,t,n,r){Ember.run.next(function(){try{n?$("#create-ok").button("enable"):$("#create-ok").button("disable")}catch(e){}})})})}})}),define("text!app/templates/machine.html",[],function(){return'<div data-role="page" id="single-machine" data-theme="c"\n	class="type-interior">\n\n	<div data-role="header">\n		<a href="#machines" data-icon="arrow-l" data-direction="reverse"\n			class="ui-btn-left">Machines</a>\n		<h1 id="single-machine-name">{{name}}</h1>\n		<a class="state-providers" href="#dialog-providers" data-rel="dialog"\n			data-iconpos="notext" data-transition="slidedown" data-icon="check"\n			class="ui-btn-right"></a>\n	</div>\n	<!-- /header -->\n\n	<div id="single-view-header">\n		<h3 id="single-view-name">\n			{{name}}\n        </h3>\n		<span class="single-view-icon-wrapper">\n            <span id="single-view-provider-icon" {{bindAttr class="providerIconClass"}}></span>\n		</span>\n		<span class="single-view-icon-wrapper" {{bindAttr class="machine.image.type"}}>\n            <span id="single-view-image-icon" ></span>\n        </span>\n		<h3 id="single-view-state" {{bindAttr class="machine.state"}}>{{machine.state}}</h3>\n	</div>\n\n	<div data-role="content">\n\n        \n\n		<div data-role="collapsible" data-collapsed="false">\n			<h3>Monitoring</h3>		\n			{{view Mist.Checkbox checkedBinding="machine.hasMonitoring" title="Monitoring" id="enableMonitoring"}}\n			\n			{{#if machine.hasMonitoring}}\n				<div id="machineGraph"></div>\n            {{/if}}\n		</div>\n\n		<div data-role="collapsible" data-collapsed="false">\n			<h3>Basic Info</h3>\n			<table id="machine-basic-table">\n           \n            {{#if machine.tags}}\n       		<tr>\n    		 <td class="key">Tags</td>\n    		 <td class="value">\n    		 	{{#each machine.tags}}\n    		 		<span class="tag">{{this}}</span>\n    		 	{{/each}}\n    		 </td>\n    		</tr>\n        	{{/if}}\n\n            {{#if machine.uptime}}\n            <tr>\n             <td class="key">Up and running for</td>\n             <td class="value">{{upFor}}</td>\n            </tr>\n            {{/if}}\n			\n			{{#each basicvars}}\n			<tr>\n			 <td class="key">{{key}}</td>\n			 <td class="value">{{value}}</td>\n			</tr>\n			{{/each}}\n			</table>\n		</div>\n		\n		<div data-role="collapsible">\n			<h3>Full metadata list</h3>\n			<table id="machine-metadata">\n			{{#each metadata}}\n			<tr>\n			 <td class="key">{{key}}</td>\n			 <td class="value">{{value}}</td>\n			</tr>\n			{{/each}}\n			</table>\n		</div>\n		<div class="bottom-padding"></div>\n	</div>\n	<!-- /content -->\n\n	<div id="single-footer" data-role="footer" data-theme="a">\n		<table id="actions" data-role="controlgroup" data-type="horizontal">\n			<tr>\n            <td>\n            <a href="#dialog-shell"\n                id="machines-button-shell"\n                data-role="button"\n                data-icon="gear"\n                data-rel="dialog"\n                data-transition="slidedown"\n                {{bindAttr class="disabledClass"}}>\n                Shell\n            </a>\n            </td>\n            <td><a href="#dialog-tags"\n                id="machines-button-tags"\n                data-role="button"\n                data-icon="grid"\n                data-rel="dialog"\n                data-transition="slidedown">\n                Tag\n            </a>\n            </td>\n            <td><a href="#dialog-single-power"\n                id="machines-button-power"\n                data-role="button"\n                data-icon="mist-power"\n                data-rel="dialog"\n                data-transition="slidedown">\n                Power\n            </a>\n            </td>\n            </tr>\n		</table>\n	</div>\n	<!-- /footer -->\n\n</div>\n'}),function(e){function r(e){return e}function i(){}function u(e){return Math.floor(e/1e3)}function a(e){var t=e.indexOf("|"),n=e.substring(0,t),r=n.lastIndexOf(","),i=n.lastIndexOf(",",r-1),s=n.lastIndexOf(",",i-1),o=n.substring(s+1,i)*1e3,u=n.substring(r+1)*1e3;return e.substring(t+1).split(",").slice(1).map(function(e){return+e})}function f(e){if(!(e instanceof i))throw new Error("invalid context");this.context=e}function h(e,t){return function(n,r,i,s){e(new Date(+n+t),new Date(+r+t),i,s)}}function p(e,t){f.call(this,e),t=+t;var n=t+"";this.valueOf=function(){return t},this.toString=function(){return n}}function v(e,t){function n(t,n){if(n instanceof f){if(t.context!==n.context)throw new Error("mismatch context")}else n=new p(t.context,n);f.call(this,t.context),this.left=t,this.right=n,this.toString=function(){return t+" "+e+" "+n}}var r=n.prototype=Object.create(f.prototype);return r.valueAt=function(e){return t(this.left.valueAt(e),this.right.valueAt(e))},r.shift=function(e){return new n(this.left.shift(e),this.right.shift(e))},r.on=function(e,t){return arguments.length<2?this.left.on(e):(this.left.on(e,t),this.right.on(e,t),this)},function(e){return new n(this,e)}}function y(e){return e&16777214}function b(e){return(e+1&16777214)-1}function x(e){e.style("position","absolute").style("top",0).style("bottom",0).style("width","1px").style("pointer-events","none")}function T(e){return e+"px"}var t=e.cubism={version:"1.2.0"},n=0;t.option=function(e,n){var r=t.options(e);return r.length?r[0]:n},t.options=function(e,t){var n=location.search.substring(1).split("&"),r=[],i=-1,s=n.length,o;while(++i<s)(o=n[i].split("="))[0]==e&&r.push(decodeURIComponent(o[1]));return r.length||arguments.length<2?r:t},t.context=function(){function v(){var n=Date.now();return o=new Date(Math.floor((n-f-l)/t)*t),s=new Date(o-r*t),a=new Date(Math.floor((n-f)/t)*t),u=new Date(a-r*t),h.domain([s,o]),e}var e=new i,t=1e4,r=1440,s,o,u,a,f=5e3,l=5e3,c=d3.dispatch("prepare","beforechange","change","focus"),h=e.scale=d3.time.scale().range([0,r]),p,d;return e.start=function(){p&&clearTimeout(p);var n=+a+f-Date.now();return n<l&&(n+=t),p=setTimeout(function i(){a=new Date(Math.floor((Date.now()-f)/t)*t),u=new Date(a-r*t),c.prepare.call(e,u,a),setTimeout(function(){h.domain([s=u,o=a]),c.beforechange.call(e,u,a),c.change.call(e,u,a),c.focus.call(e,d)},l),p=setTimeout(i,t)},n),e},e.stop=function(){return p=clearTimeout(p),e},p=setTimeout(e.start,10),e.step=function(e){return arguments.length?(t=+e,v()):t},e.size=function(e){return arguments.length?(h.range([0,r=+e]),v()):r},e.serverDelay=function(e){return arguments.length?(f=+e,v()):f},e.clientDelay=function(e){return arguments.length?(l=+e,v()):l},e.focus=function(t){return c.focus.call(e,d=t),e},e.on=function(t,n){return arguments.length<2?c.on(t):(c.on(t,n),n!=null&&(/^prepare(\.|$)/.test(t)&&n.call(e,u,a),/^beforechange(\.|$)/.test(t)&&n.call(e,s,o),/^change(\.|$)/.test(t)&&n.call(e,s,o),/^focus(\.|$)/.test(t)&&n.call(e,d)),e)},d3.select(window).on("keydown.context-"+ ++n,function(){switch(!d3.event.metaKey&&d3.event.keyCode){case 37:d==null&&(d=r-1),d>0&&e.focus(--d);break;case 39:d==null&&(d=r-2),d<r-1&&e.focus(++d);break;default:return}d3.event.preventDefault()}),v()};var s=t.context.prototype=i.prototype;s.constant=function(e){return new p(this,+e)},s.cube=function(e){arguments.length||(e="");var t={},n=this;return t.metric=function(t){return n.metric(function(n,r,i,s){d3.json(e+"/1.0/metric"+"?expression="+encodeURIComponent(t)+"&start="+o(n)+"&stop="+o(r)+"&step="+i,function(e){if(!e)return s(new Error("unable to load data"));s(null,e.map(function(e){return e.value}))})},t+="")},t.toString=function(){return e},t};var o=d3.time.format.iso;s.graphite=function(e){arguments.length||(e="");var t={},n=this;return t.metric=function(t){var r="sum",i=n.metric(function(n,i,s,o){var f=t;s!==1e4&&(f="summarize("+f+",'"+(s%36e5?s%6e4?s+"sec":s/6e4+"min":s/36e5+"hour")+"','"+r+"')"),d3.text(e+"/render?format=raw"+"&target="+encodeURIComponent("alias("+f+",'')")+"&from="+u(n-2*s)+"&until="+u(i-1e3),function(e){if(!e)return o(new Error("unable to load data"));o(null,a(e))})},t+="");return i.summarize=function(e){return r=e,i},i},t.find=function(t,n){d3.json(e+"/metrics/find?format=completer"+"&query="+encodeURIComponent(t),function(e){if(!e)return n(new Error("unable to find metrics"));n(null,e.metrics.map(function(e){return e.path}))})},t.toString=function(){return e},t};var l=f.prototype;t.metric=f,l.valueAt=function(){return NaN},l.alias=function(e){return this.toString=function(){return e},this},l.extent=function(){var e=0,t=this.context.size(),n,r=Infinity,i=-Infinity;while(++e<t)n=this.valueAt(e),n<r&&(r=n),n>i&&(i=n);return[r,i]},l.on=function(e,t){return arguments.length<2?null:this},l.shift=function(){return this},l.on=function(){return arguments.length<2?null:this},s.metric=function(e,t){function g(t,n){var r=Math.min(l,Math.round((t-o)/a));if(!r||m)return;m=!0,r=Math.min(l,r+c);var s=new Date(n-r*a);e(s,n,a,function(e,t){m=!1;if(e)return console.warn(e);var r=isFinite(o)?Math.round((s-o)/a):0;for(var u=0,f=t.length;u<f;++u)p[u+r]=t[u];d.change.call(i,o,n)})}function y(e,t){isFinite(o)||(o=e),p.splice(0,Math.max(0,Math.min(l,Math.round((e-o)/a)))),o=e,u=t}var r=this,i=new f(r),s=".metric-"+ ++n,o=-Infinity,u,a=r.step(),l=r.size(),p=[],d=d3.dispatch("change"),v=0,m;return i.valueAt=function(e){return p[e]},i.shift=function(t){return r.metric(h(e,+t))},i.on=function(e,t){return arguments.length?(t==null?d.on(e)!=null&&--v==0&&r.on("prepare"+s,null).on("beforechange"+s,null):d.on(e)==null&&++v==1&&r.on("prepare"+s,g).on("beforechange"+s,y),d.on(e,t),t!=null&&/^change(\.|$)/.test(e)&&t.call(r,o,u),i):d.on(e)},arguments.length>1&&(i.toString=function(){return t}),i};var c=6,d=p.prototype=Object.create(f.prototype);d.valueAt=function(){return+this},d.extent=function(){return[+this,+this]},l.add=v("+",function(e,t){return e+t}),l.subtract=v("-",function(e,t){return e-t}),l.multiply=v("*",function(e,t){return e*t}),l.divide=v("/",function(e,t){return e/t}),s.horizon=function(){function d(d){d.on("mousemove.horizon",function(){e.focus(d3.mouse(this)[0])}).on("mouseout.horizon",function(){e.focus(null)}),d.append("canvas").attr("width",s).attr("height",o),d.append("span").attr("class","title").text(l),d.append("span").attr("class","value"),d.each(function(l,d){function k(n,r){S.save();var a=g.extent();C=a.every(isFinite),b!=null&&(a=b);var f=0,l=Math.max(-a[0],a[1]);if(this===e){if(l==T){f=s-c;var h=(n-w)/E;if(h<s){var p=i.getContext("2d");p.clearRect(0,0,s,o),p.drawImage(S.canvas,h,0,s-h,o,0,0,s-h,o),S.clearRect(0,0,s,o),S.drawImage(p.canvas,0,0)}}w=n}u.domain([0,T=l]),S.clearRect(f,0,s-f,o);var d;for(var v=0;v<N;++v){S.fillStyle=y[N+v];var m=(v-N+1)*o;u.range([N*o+m,m]),m=u(0);for(var x=f,k=s,L;x<k;++x){L=g.valueAt(x);if(L<=0){d=!0;continue}S.fillRect(x,L=u(L),1,m-L)}}if(d){t==="offset"&&(S.translate(0,o),S.scale(1,-1));for(var v=0;v<N;++v){S.fillStyle=y[N-1-v];var m=(v-N+1)*o;u.range([N*o+m,m]),m=u(0);for(var x=f,k=s,L;x<k;++x){L=g.valueAt(x);if(L>=0)continue;S.fillRect(x,u(-L),1,m-u(-L))}}}S.restore()}function L(e){e==null&&(e=s-1);var t=g.valueAt(e);x.datum(t).text(isNaN(t)?null:h)}var v=this,m=++n,g=typeof a=="function"?a.call(v,l,d):a,y=typeof p=="function"?p.call(v,l,d):p,b=typeof f=="function"?f.call(v,l,d):f,w=-Infinity,E=e.step(),S=d3.select(v).select("canvas"),x=d3.select(v).select(".value"),T,N=y.length>>1,C;S.datum({id:m,metric:g}),S=S.node().getContext("2d"),e.on("change.horizon-"+m,k),e.on("focus.horizon-"+m,L),g.on("change.horizon-"+m,function(e,t){k(e,t),L(),C&&g.on("change.horizon-"+m,r)})})}var e=this,t="offset",i=document.createElement("canvas"),s=i.width=e.size(),o=i.height=30,u=d3.scale.linear().interpolate(d3.interpolateRound),a=r,f=null,l=r,h=d3.format(".2s"),p=["#08519c","#3182bd","#6baed6","#bdd7e7","#bae4b3","#74c476","#31a354","#006d2c"];return d.remove=function(t){function n(t){t.metric.on("change.horizon-"+t.id,null),e.on("change.horizon-"+t.id,null),e.on("focus.horizon-"+t.id,null)}t.on("mousemove.horizon",null).on("mouseout.horizon",null),t.selectAll("canvas").each(n).remove(),t.selectAll(".title,.value").remove()},d.mode=function(e){return arguments.length?(t=e+"",d):t},d.height=function(e){return arguments.length?(i.height=o=+e,d):o},d.metric=function(e){return arguments.length?(a=e,d):a},d.scale=function(e){return arguments.length?(u=e,d):u},d.extent=function(e){return arguments.length?(f=e,d):f},d.title=function(e){return arguments.length?(l=e,d):l},d.format=function(e){return arguments.length?(h=e,d):h},d.colors=function(e){return arguments.length?(p=e,d):p},d},s.comparison=function(){function d(d){d.on("mousemove.comparison",function(){e.focus(d3.mouse(this)[0])}).on("mouseout.comparison",function(){e.focus(null)}),d.append("canvas").attr("width",t).attr("height",i),d.append("span").attr("class","title").text(f),d.append("span").attr("class","value primary"),d.append("span").attr("class","value change"),d.each(function(f,d){function k(n,r){x.save(),x.clearRect(0,0,t,i);var o=g.extent(),u=w.extent(),a=E==null?o:E;s.domain(a).range([i,0]),C=o.concat(u).every(isFinite);var f=n/e.step()&1?b:y;x.fillStyle=h[2];for(var l=0,c=t;l<c;++l){var d=s(g.valueAt(l)),v=s(w.valueAt(l));d<v&&x.fillRect(f(l),d,1,v-d)}x.fillStyle=h[0];for(l=0;l<c;++l){var d=s(g.valueAt(l)),v=s(w.valueAt(l));d>v&&x.fillRect(f(l),v,1,d-v)}x.fillStyle=h[3];for(l=0;l<c;++l){var d=s(g.valueAt(l)),v=s(w.valueAt(l));d<=v&&x.fillRect(f(l),d,1,p)}x.fillStyle=h[1];for(l=0;l<c;++l){var d=s(g.valueAt(l)),v=s(w.valueAt(l));d>v&&x.fillRect(f(l),d-p,1,p)}x.restore()}function L(e){e==null&&(e=t-1);var n=g.valueAt(e),r=w.valueAt(e),i=(n-r)/r;T.datum(n).text(isNaN(n)?null:l),N.datum(i).text(isNaN(i)?null:c).attr("class","value change "+(i>0?"positive":i<0?"negative":""))}function A(e,t){k(e,t),L(),C&&(g.on("change.comparison-"+m,r),w.on("change.comparison-"+m,r))}var v=this,m=++n,g=typeof o=="function"?o.call(v,f,d):o,w=typeof u=="function"?u.call(v,f,d):u,E=typeof a=="function"?a.call(v,f,d):a,S=d3.select(v),x=S.select("canvas"),T=S.select(".value.primary"),N=S.select(".value.change"),C;x.datum({id:m,primary:g,secondary:w}),x=x.node().getContext("2d"),g.on("change.comparison-"+m,A),w.on("change.comparison-"+m,A),e.on("change.comparison-"+m,k),e.on("focus.comparison-"+m,L)})}var e=this,t=e.size(),i=120,s=d3.scale.linear().interpolate(d3.interpolateRound),o=function(e){return e[0]},u=function(e){return e[1]},a=null,f=r,l=m,c=g,h=["#9ecae1","#225b84","#a1d99b","#22723a"],p=1.5;return d.remove=function(t){function n(t){t.primary.on("change.comparison-"+t.id,null),t.secondary.on("change.comparison-"+t.id,null),e.on("change.comparison-"+t.id,null),e.on("focus.comparison-"+t.id,null)}t.on("mousemove.comparison",null).on("mouseout.comparison",null),t.selectAll("canvas").each(n).remove(),t.selectAll(".title,.value").remove()},d.height=function(e){return arguments.length?(i=+e,d):i},d.primary=function(e){return arguments.length?(o=e,d):o},d.secondary=function(e){return arguments.length?(u=e,d):u},d.scale=function(e){return arguments.length?(s=e,d):s},d.extent=function(e){return arguments.length?(a=e,d):a},d.title=function(e){return arguments.length?(f=e,d):f},d.formatPrimary=function(e){return arguments.length?(l=e,d):l},d.formatChange=function(e){return arguments.length?(c=e,d):c},d.colors=function(e){return arguments.length?(h=e,d):h},d.strokeWidth=function(e){return arguments.length?(p=e,d):p},d};var m=d3.format(".2s"),g=d3.format("+.0%");s.axis=function(){function s(o){var u=++n,a,f=o.append("svg").datum({id:u}).attr("width",e.size()).attr("height",Math.max(28,-s.tickSize())).append("g").attr("transform","translate(0,"+(r.orient()==="top"?27:4)+")").call(r);e.on("change.axis-"+u,function(){f.call(r),a||(a=d3.select(f.node().appendChild(f.selectAll("text").node().cloneNode(!0))).style("display","none").text(null))}),e.on("focus.axis-"+u,function(e){if(a)if(e==null)a.style("display","none"),f.selectAll("text").style("fill-opacity",null);else{a.style("display",null).attr("x",e).text(i(t.invert(e)));var n=a.node().getComputedTextLength()+6;f.selectAll("text").style("fill-opacity",function(r){return Math.abs(t(r)-e)<n?0:1})}})}var e=this,t=e.scale,r=d3.svg.axis().scale(t),i=e.step()<6e4?w:e.step()<864e5?E:S;return s.remove=function(t){function n(t){e.on("change.axis-"+t.id,null),e.on("focus.axis-"+t.id,null)}t.selectAll("svg").each(n).remove()},d3.rebind(s,r,"orient","ticks","tickSubdivide","tickSize","tickPadding","tickFormat")};var w=d3.time.format("%I:%M:%S %p"),E=d3.time.format("%I:%M %p"),S=d3.time.format("%B %d");s.rule=function(){function i(r){var i=++n,s=r.append("div").datum({id:i}).attr("class","line").call(x);r.each(function(i,s){function f(t,n){var i=[];for(var s=0,o=e.size();s<o;++s)a.valueAt(s)&&i.push(s);var u=r.selectAll(".metric").data(i);u.exit().remove(),u.enter().append("div").attr("class","metric line").call(x),u.style("left",T)}var o=this,u=++n,a=typeof t=="function"?t.call(o,i,s):t;if(!a)return;e.on("change.rule-"+u,f),a.on("change.rule-"+u,f)}),e.on("focus.rule-"+i,function(e){s.datum(e).style("display",e==null?"none":null).style("left",T)})}var e=this,t=r;return i.remove=function(t){function n(t){e.on("focus.rule-"+t.id,null)}t.selectAll(".line").each(n).remove()},i.metric=function(e){return arguments.length?(t=e,i):t},i}}(this),define("cubism",function(){}),define("app/views/machine",["text!app/templates/machine.html","ember","d3","cubism"],function(e){return Ember.View.extend({tagName:!1,machineBinding:"Mist.machine",disabledClass:function(){return this.machine&&this.machine.hasKey?"":"ui-disabled"}.property("machine.hasKey"),metadata:function(){if(!this.machine||!this.machine.extra)return[];var e=new Array;return $.each(this.machine.extra,function(t,n){(typeof n=="string"||typeof n=="number")&&e.push({key:t,value:n})}),e}.property("machine"),basicvars:function(){if(!this.machine)return[];var e=null;$.isArray(this.machine.public_ips)?e=this.machine.public_ips.join():typeof this.machine.public_ips=="string"&&(e=this.machine.public_ips);var t=null;$.isArray(this.machine.private_ips)?t=this.machine.private_ips.join():typeof this.machine.private_ips=="string"&&(t=this.machine.private_ips);var n={"Public IPs":e,"Private IPs":t,"DNS Name":this.machine.extra.dns_name,"Launch Date":this.machine.extra.launchdatetime};this.machine.image&&"image"in this.machine&&"name"in this.machine.image&&(n.Image=this.machine.image.name);var r=new Array;return $.each(n,function(e,t){typeof t=="string"&&r.push({key:e,value:t})}),r}.property("machine"),name:function(){return this.machine?this.machine.name||this.machine.id:""}.property("machine"),upFor:function(){if(this.machine&&this.machine.uptime){var e="",t=Math.floor(this.machine.uptime/1e3),n=t%60;t=Math.floor(t/60);var r=t%60;t=Math.floor(t/60);var i=t%24;t=Math.floor(t/24);var s=t;return s&&(e=e+s+" days, "),i&&(e=e+i+" hours, "),r&&(e=e+r+" minutes, "),n?e=e+n+" seconds":e+="0 seconds",e}return""}.property("machine.uptime"),providerIconClass:function(){return this.machine?"provider-"+this.machine.backend.provider:""}.property("machine"),setGraph:function(){if(!this.machine||!this.machine.hasMonitoring)return;var e=this.machine,t={};Em.run.next(function(){function i(){if(!Mist.graphPolling)return;data={},r&&(data.changes_since=r),r=Date.now(),$.ajax({url:"/backends/"+e.backend.index+"/machines/"+e.id+"/stats",data:data,success:function(e){log("machine stats"),log(e),t=e,setTimeout(i,5e3)}}).error(function(t,n,r){log("error querying for machine stats for machine id: "+e.id),log(n+" "+r),setTimeout(i,5e3)})}function s(e){var r=0,i=[],s=0,o;return n.metric(function(n,s,u,a){n=+n,s=+s,isNaN(o)&&(o=n);while(o<s)o+=u,r=t[e],i.push(r);a(null,i=i.slice((n-s)/u))},e)}var n=cubism.context().serverDelay(0).clientDelay(0).step(5e3).size(960),r=0,o=s("cpu"),u=s("memory"),a=s("disk"),f=s("load");d3.select("#machineGraph").call(function(e){e.append("div").attr("class","axis").call(n.axis().orient("top")),e.selectAll(".horizon").data([o,u,a,f]).enter().append("div").attr("class","horizon").call(n.horizon().extent([-200,200])),e.append("div").attr("class","rule").call(n.rule())}),n.on("focus",function(e){d3.selectAll(".value").style("right",e==null?null:n.size()-e+"px")}),i()})}.observes("machine.hasMonitoring"),init:function(){this._super(),this.set("template",Ember.Handlebars.compile(e))}})}),define("text!app/templates/machine_list.html",[],function(){return'<div data-role="page" id="machines" data-theme="c">\n\n    <div data-role="header">\n        <a href="#home" data-icon="home" data-direction="reverse" class="ui-btn-left">Home</a>\n        <h1>Machines</h1>\n        <a href="#dialog-providers"\n        data-rel="dialog" data-role="button" data-iconpos="notext" data-transition="slidedown" data-icon="check"\n        {{bindAttr class="Mist.backendsController.state :state-providers "}} >Providers</a>\n    </div><!-- /header -->\n\n    <div data-role="content">\n        {{view Mist.Select data-native-menu="false" name="select-machines" id="mist-select-machines"\n            contentBinding="Mist.selectMachinesController.content"\n            selectionBinding="Mist.selectMachinesController.selection"\n            optionLabelPath="content.name"\n            optionValuePath="content.id"\n            prompt="Select Machines"\n        }}\n        <a href="#dialog-add" id="mist-create-machine" data-rel="dialog" data-theme="b" data-inline="true" data-transition="slidedown" data-role="button" data-icon="plus">\n        Create\n        </a>\n        <ul id="machines-list" data-role="listview" data-filter="true" data-inset="true" data-theme="c" data-dividertheme="d" data-filter-placeholder="Filter machines..">\n        {{#each Mist.backendsController}}\n        {{#each this.machines}}\n        {{view Mist.MachineListView machineBinding="this"}}\n        {{/each}}\n        {{/each}}\n        </ul>\n        <div class="bottom-padding"></div>\n    </div><!-- /content -->\n\n    <div id="machines-footer" data-role="footer" data-theme="a">\n        <table id="actions" data-role="controlgroup" data-type="horizontal">\n            <tr>\n            <td><a href="#dialog-shell"\n                id="machines-button-shell"\n                data-role="button"\n                data-icon="gear"\n                data-rel="dialog"\n                data-transition="slidedown"\n                {{bindAttr class="disabledClass"}}\n                >\n                Shell\n            </a>\n            </td>\n            <td><a href="#dialog-tags"\n                id="machines-button-tags"\n                data-role="button"\n                data-icon="grid"\n                data-rel="dialog"\n                data-transition="slidedown">\n                Tag\n            </a>\n            </td>\n            <td><a href="#dialog-power"\n                id="machines-button-power"\n                data-role="button"\n                data-icon="mist-power"\n                data-rel="dialog"\n                data-transition="slidedown">\n                Power\n            </a>\n            </td>\n            </tr>\n        </table>\n    </div><!-- /footer -->\n\n</div>\n'}),define("app/views/machine_list",["text!app/templates/machine_list.html","ember"],function(e){return Ember.View.extend({tagName:!1,disabledClass:function(){var e=new Array;return Mist.backendsController.selectedMachineCount>1?"ui-disabled":(Mist.backendsController.forEach(function(t){t.machines.forEach(function(t){t.selected&&t.hasKey&&e.push(t)})}),e.length==1?"":"ui-disabled")}.property("Mist.backendsController.selectedMachineCount"),init:function(){this._super(),this.set("template",Ember.Handlebars.compile(e))}})}),define("text!app/templates/confirmation_dialog.html",[],function(){return'<div data-role="dialog" id="dialog-confirm" data-transition="pop" class="mist-dialog">\n    <div data-role="header">\n        <h1 id="dialog-confirm-title">{{Mist.confirmationController.title}}</h1>\n    </div>\n    <div data-role="content" data-theme="c">\n        <p id="dialog-confirm-message">{{Mist.confirmationController.text}}</p>\n        <div data-role="controlgroup" class="btn-full" data-type="horizontal">\n        <a id="dialog-confirm-no" class="btn-left-full" data-role="button"\n         data-rel="back" data-theme="b">No</a>\n        <a id="dialog-confirm-yes" class="btn-right-full" data-role="button"\n         {{action confirm}}>Yes</a>\n        </div>\n    </div>\n</div>\n'}),define("app/views/confirmation_dialog",["text!app/templates/confirmation_dialog.html","ember"],function(e){return Ember.View.extend({tagName:!1,confirm:function(){Mist.confirmationController.confirm()},init:function(){this._super(),this.set("template",Ember.Handlebars.compile(e))}})}),define("text!app/templates/machine_actions_dialog.html",[],function(){return'<div data-role="dialog" id="dialog-power" class="mist-dialog">\n    <div data-role="header">\n        <h1>Actions</h1>\n    </div>\n    <div data-role="content">\n        {{#if canReboot}}\n        <a data-role="button" {{action reboot}}>Reboot</a>\n        {{/if}}\n        \n        {{#if canShutdown}}\n        <a data-role="button" {{action shutdown}}>Shutdown</a>\n        {{/if}}\n        {{#if canDestroy}}\n        <a data-role="button" {{action destroy}}>Destroy</a>\n        {{/if}}\n        {{#if canStart}}\n        <a data-role="button" {{action start}}>Start</a>\n        {{/if}}\n        <a data-role="button" data-rel="back" data-theme="b">Close</a>\n        \n    </div>\n</div>\n'}),define("app/views/machine_actions_dialog",["text!app/templates/machine_actions_dialog.html","ember"],function(e){return Ember.View.extend({tagName:!1,reboot:function(){var e=this.getSelectedMachines(),t=!1;if(e.length==0)return;e.length>1&&(t=!0),Mist.confirmationController.set("title","Reboot Machine"+(t?"s":""));var n="";e.forEach(function(e){n=n+" "+e.name}),Mist.confirmationController.set("text","Are you sure you want to reboot"+n+"?"),Mist.confirmationController.set("callback",function(){e.forEach(function(e){e.reboot()})}),Mist.confirmationController.set("fromDialog",!0),Mist.confirmationController.show()},destroy:function(){var e=this.getSelectedMachines(),t=!1;if(e.length==0)return;e.length>1&&(t=!0),Mist.confirmationController.set("title","Destroy Machine"+(t?"s":""));var n="";e.forEach(function(e){n=n+" "+e.name}),Mist.confirmationController.set("text","Are you sure you want to destroy"+n+"?"),Mist.confirmationController.set("callback",function(){e.forEach(function(e){e.destroy()})}),Mist.confirmationController.set("fromDialog",!0),Mist.confirmationController.show()},start:function(){var e=this.getSelectedMachines(),t=!1;if(e.length==0)return;e.length>1&&(t=!0),Mist.confirmationController.set("title","Start Machine"+(t?"s":""));var n="";e.forEach(function(e){n=n+" "+e.name}),Mist.confirmationController.set("text","Are you sure you want to start"+n+"?"),Mist.confirmationController.set("callback",function(){e.forEach(function(e){e.start()})}),Mist.confirmationController.set("fromDialog",!0),Mist.confirmationController.show()},shutdown:function(){var e=this.getSelectedMachines(),t=!1;if(e.length==0)return;e.length>1&&(t=!0),Mist.confirmationController.set("title","Shutdown Machine"+(t?"s":""));var n="";e.forEach(function(e){n=n+" "+e.name}),Mist.confirmationController.set("text","Are you sure you want to shutdown"+n+"?"),Mist.confirmationController.set("callback",function(){e.forEach(function(e){e.shutdown()})}),Mist.confirmationController.set("fromDialog",!0),Mist.confirmationController.show()},canReboot:function(){return ret=!1,this.getSelectedMachines().some(function(e){if(e.can_reboot)return ret=!0,!0}),ret}.property("Mist.backendsController.selectedMachineCount"),canShutdown:function(){return ret=!1,this.getSelectedMachines().some(function(e){if(e.can_stop)return ret=!0,!0}),ret}.property("Mist.backendsController.selectedMachineCount"),canDestroy:function(){return ret=!1,this.getSelectedMachines().some(function(e){if(e.can_destroy)return ret=!0,!0}),ret}.property("Mist.backendsController.selectedMachineCount"),canStart:function(){return ret=!1,this.getSelectedMachines().some(function(e){if(e.can_start)return ret=!0,!0}),ret}.property("Mist.backendsController.selectedMachineCount"),getSelectedMachines:function(){var e=new Array;return Mist.backendsController.forEach(function(t){t.machines.forEach(function(t){t.selected&&e.push(t)})}),e},init:function(){this._super(),this.set("template",Ember.Handlebars.compile(e))}})}),define("text!app/templates/single_machine_actions_dialog.html",[],function(){return'<div data-role="dialog" id="dialog-single-power" class="mist-dialog">\n    <div data-role="header">\n        <h1>Actions</h1>\n    </div>\n    <div data-role="content">\n        {{#if machine.can_reboot}}\n        <a data-role="button" {{action reboot}}>Reboot</a>\n        {{/if}}\n        {{#if machine.can_stop}}\n        <a data-role="button" {{action shutdown}}>Shutdown</a>\n        {{/if}}\n        {{#if machine.can_destroy}}\n        <a data-role="button" {{action destroy}}>Destroy</a>\n        {{/if}}\n        {{#if machine.can_start}}\n        <a data-role="button" {{action start}}>Start</a>\n        {{/if}}\n        <a data-role="button" data-rel="back" data-theme="b">Close</a>\n    </div>\n</div>\n'}),define("app/views/single_machine_actions_dialog",["text!app/templates/single_machine_actions_dialog.html","ember"],function(e){return Ember.View.extend({tagName:!1,machineBinding:"Mist.machine",reboot:function(){var e=this.machine;Mist.confirmationController.set("title","Reboot Machine"),Mist.confirmationController.set("text","Are you sure you want to reboot "+e.name+" ?"),Mist.confirmationController.set("callback",function(){e.reboot()}),Mist.confirmationController.set("fromDialog",!0),Mist.confirmationController.show()},destroy:function(){var e=this.machine;Mist.confirmationController.set("title","Destroy Machine"),Mist.confirmationController.set("text","Are you sure you want to destroy "+e.name+" ?"),Mist.confirmationController.set("callback",function(){e.destroy()}),Mist.confirmationController.set("fromDialog",!0),Mist.confirmationController.show()},shutdown:function(){var e=this.machine;Mist.confirmationController.set("title","Shutdown Machine"),Mist.confirmationController.set("text","Are you sure you want to shutdown "+e.name+" ?"),Mist.confirmationController.set("callback",function(){e.shutdown()}),Mist.confirmationController.set("fromDialog",!0),Mist.confirmationController.show()},start:function(){this.machine.start()},init:function(){this._super(),this.set("template",Ember.Handlebars.compile(e))}})}),define("text!app/templates/shell.html",[],function(){return'<div data-role="dialog" id="dialog-shell" class="mist-dialog">\n    <div data-role="header">\n        <h1>Shell</h1>\n    </div>\n    <div data-role="content" data-theme="b">\n        <div data-role="fieldcontain">\n            <table id="shell-input">\n                <tr>\n                    <td>{{view Mist.ShellTextField autocapitalize="off" valueBinding="command" controllerBinding="this"}}</td>\n                    <td id="shell-send-wrapper">\n                        <a id="shell-send" data-icon="shell-return" data-role="button" data-iconpos="notext" {{action submit}} {{bindAttr class="disabledClass"}}></a>\n                    </td>\n                </tr>\n            </table>\n        </div>\n        <div id="shell-return">\n        {{#each shellOutputItems}}\n            <div class="command-output" {{bindAttr id="cmdIndex"}}>\n                <div class="command">{{command}}</div>\n                <div class="output">{{{output}}}</div>\n            </div>\n        {{/each}}\n        </div>\n        <a data-role="button" data-rel="back" data-theme="a" {{action clear}}>Back</a>\n    </div>\n</div>'}),define("app/views/shell",["text!app/templates/shell.html","ember"],function(e){return Ember.View.extend({tagName:!1,machineBinding:"Mist.machine",shellOutputItems:Ember.ArrayController.create(),availableCommands:["dmesg","uptime","uname","ls","reboot","whoami","ifconfig"],didInsertElement:function(){if("localStorage"in window&&window.localStorage!==null){var e=localStorage.shellHistory;if(e){e=e.split(",");var t=this;e.forEach(function(e){t.availableCommands.indexOf(e)==-1&&t.availableCommands.push(e)})}}this.$("input[type=text]").autocomplete({source:this.availableCommands})},submit:function(){var e=this.machine;e||Mist.backendsController.forEach(function(t){t.machines.forEach(function(t){t.selected&&t.hasKey&&(log("machine selected"),e=t)})});if(!e||!this.command)return;this.set("machine",e);var t=this,n=this.command;this.machine.shell(n,function(e){t.shellOutputItems.content||t.shellOutputItems.set("content",new Array),t.shellOutputItems.arrayContentWillChange(0,0,1),t.shellOutputItems.content.unshift({command:"# "+n,output:e.replace(/\n/g,"<br />"),cmdIndex:"cmd-"+t.shellOutputItems.content.length}),t.shellOutputItems.arrayContentDidChange(0,0,1)}),this.clear();if("localStorage"in window&&window.localStorage!==null){var r=localStorage.shellHistory;r?r=r.split(","):r=new Array,r.indexOf(n)==-1&&(r.push(n),localStorage.shellHistory=r)}this.availableCommands.push(n),this.$("input[type=text]").autocomplete("destroy"),this.$("input[type=text]").autocomplete({source:this.availableCommands})},clear:function(){this.set("command","")},disabledClass:function(){return this.command&&this.command.length>0?"":"ui-disabled"}.property("command"),init:function(){this._super(),this.set("template",Ember.Handlebars.compile(e))}})}),define("text!app/templates/image_list.html",[],function(){return'<div data-role="page" id="images" data-theme="c">\n\n    <div data-role="header">\n        <a href="#home" data-icon="home" data-direction="reverse" class="ui-btn-left">Home</a>\n        <h1>Images</h1>\n        <a href="#dialog-providers"\n        data-rel="dialog" data-role="button" data-iconpos="notext" data-transition="slidedown" data-icon="check"\n        {{bindAttr class="Mist.backendsController.state :state-providers "}} >Providers</a>\n    </div>\n\n    <div data-role="content">\n        {{view Mist.Select data-native-menu="false" name="select-images" id="mist-select-images"\n            contentBinding="Mist.selectImagesController.content"\n            selectionBinding="Mist.selectImagesController.selection"\n            optionLabelPath="content.name"\n            optionValuePath="content.id"\n            prompt="Show Images"\n        }}\n        <ul id="images-list" data-role="listview" data-filter="true" data-inset="true" data-theme="c" data-filter-placeholder="Filter images..">\n        {{#each Mist.backendsController}}\n        {{#each this.images}}\n            {{#unless hidden}}\n                {{view Mist.ImageListView imageBinding="this"}}\n            {{/unless}}\n        {{/each}}\n        {{/each}}\n        </ul>\n        \n        <div class="bottom-padding"></div>\n    </div>\n\n</div>'}),define("app/views/image_list",["text!app/templates/image_list.html","ember"],function(e){return Ember.View.extend({tagName:!1,init:function(){this._super(),this.set("template",Ember.Handlebars.compile(e))}})}),define("text!app/templates/machine_tags_dialog.html",[],function(){return'<div data-role="dialog" id="dialog-tags" class="mist-dialog">\n    <div data-role="header">\n        <h1>Manage Tags</h1>\n    </div>\n    <div data-role="content" data-theme="c">\n        <div id="tags-container">\n            <table id="tag-input">\n                <tr>\n\n                    <td>{{view Mist.ShellTextField valueBinding="tag" controllerBinding="this"}}</td>\n                <td id="tag-add-wrapper"><a id="tag-add" data-role="button" data-theme="c" {{action addTag}}>Add</a></td>\n                </tr>\n            </table>\n            <div id="tags-wrapper">\n                <ul id="tags-list">\n                {{#each Mist.machine.tags}}\n                    <li><a data-role="button" {{action deleteTag}} data-theme="c" data-icon="delete" data-inline="true" data-iconpos="notext" ></a>{{this}}</li>\n                {{/each}}\n                </ul>\n            </div>\n        </div>\n            <a id="tag-back" data-rel="back" data-role="button" data-transition="flip" data-theme="b">Close</a>\n    </div>\n</div>\n\n'}),define("app/views/machine_tags_dialog",["text!app/templates/machine_tags_dialog.html","ember"],function(e){return Ember.View.extend({tagName:!1,addTag:function(){var e=this.tag;log("tag to add: "+e)},deleteTag:function(){},init:function(){this._super(),this.set("template",Ember.Handlebars.compile(e))}})}),function(e,t,n){typeof define=="function"&&define.amd?define("mobile",["jquery"],function(r){return n(r,e,t),r.mobile}):n(e.jQuery,e,t)}(this,document,function(e,t,n,r){(function(e,t,r){var i={};e.mobile=e.extend({},{version:"1.2.0-beta.1",ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:250,touchOverflowEnabled:!1,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"e",autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,orientationChangeEnabled:!0,buttonMarkup:{hoverDelay:200},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},silentScroll:function(r){e.type(r)!=="number"&&(r=e.mobile.defaultHomeScroll),e.event.special.scrollstart.enabled=!1,setTimeout(function(){t.scrollTo(0,r),e(n).trigger("silentscroll",{x:0,y:r})},20),setTimeout(function(){e.event.special.scrollstart.enabled=!0},150)},nsNormalizeDict:i,nsNormalize:function(t){if(!t)return;return i[t]||(i[t]=e.camelCase(e.mobile.ns+t))},getInheritedTheme:function(e,t){var n=e[0],r="",i=/ui-(bar|body|overlay)-([a-z])\b/,s,o;while(n){s=n.className||"";if(s&&(o=i.exec(s))&&(r=o[2]))break;n=n.parentNode}return r||t||"a"},closestPageData:function(e){return e.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("page")},enhanceable:function(e){return this.haveParents(e,"enhance")},hijackable:function(e){return this.haveParents(e,"ajax")},haveParents:function(t,n){if(!e.mobile.ignoreContentEnabled)return t;var r=t.length,i=e(),s,o,u;for(var f=0;f<r;f++){o=t.eq(f),u=!1,s=t[f];while(s){var l=s.getAttribute?s.getAttribute("data-"+e.mobile.ns+n):"";if(l==="false"){u=!0;break}s=s.parentNode}u||(i=i.add(o))}return i},getScreenHeight:function(){return t.innerHeight||e(t).height()}},e.mobile),e.fn.jqmData=function(t,n){var i;return typeof t!="undefined"&&(t&&(t=e.mobile.nsNormalize(t)),arguments.length<2||n===r?i=this.data(t):i=this.data(t,n)),i},e.jqmData=function(t,n,r){var i;return typeof n!="undefined"&&(i=e.data(t,n?e.mobile.nsNormalize(n):n,r)),i},e.fn.jqmRemoveData=function(t){return this.removeData(e.mobile.nsNormalize(t))},e.jqmRemoveData=function(t,n){return e.removeData(t,e.mobile.nsNormalize(n))},e.fn.removeWithDependents=function(){e.removeWithDependents(this)},e.removeWithDependents=function(t){var n=e(t);(n.jqmData("dependents")||e()).remove(),n.remove()},e.fn.addDependents=function(t){e.addDependents(e(this),t)},e.addDependents=function(t,n){var r=e(t).jqmData("dependents")||e();e(t).jqmData("dependents",e.merge(r,n))},e.fn.getEncodedText=function(){return e("<div/>").text(e(this).text()).html()},e.fn.jqmEnhanceable=function(){return e.mobile.enhanceable(this)},e.fn.jqmHijackable=function(){return e.mobile.hijackable(this)};var s=e.find,o=/:jqmData\(([^)]*)\)/g;e.find=function(t,n,r,i){return t=t.replace(o,"[data-"+(e.mobile.ns||"")+"$1]"),s.call(this,t,n,r,i)},e.extend(e.find,s),e.find.matches=function(t,n){return e.find(t,null,null,n)},e.find.matchesSelector=function(t,n){return e.find(n,null,null,[t]).length>0}})(e,this),function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var n=0,r;(r=t[n])!=null;n++)try{e(r).triggerHandler("remove")}catch(s){}i(t)},e.widget=function(t,n,r){var i,s,o,u,f=t.split(".")[0];t=t.split(".")[1],i=f+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i]=function(t){return!!e.data(t,i)},e[f]=e[f]||{},s=e[f][t],o=e[f][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,s,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),u=new n,u.options=e.widget.extend({},u.options),e.each(r,function(t,i){e.isFunction(i)&&(r[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},r=function(e){return n.prototype[t].apply(this,e)};return function(){var t=this._super,n=this._superApply,s;return this._super=e,this._superApply=r,s=i.apply(this,arguments),this._super=t,this._superApply=n,s}}())}),o.prototype=e.widget.extend(u,{widgetEventPrefix:t},r,{constructor:o,namespace:f,widgetName:t,widgetBaseClass:i,widgetFullName:i}),s?(e.each(s._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o)},e.widget.extend=function(n){var i=r.call(arguments,1),s=0,o=i.length,u,f;for(;s<o;s++)for(u in i[s])f=i[s][u],i[s].hasOwnProperty(u)&&f!==t&&(n[u]=e.isPlainObject(f)?e.widget.extend({},n[u],f):f);return n},e.widget.bridge=function(n,i){var s=i.prototype.widgetFullName;e.fn[n]=function(o){var u=typeof o=="string",l=r.call(arguments,1),h=this;return o=!u&&l.length?e.widget.extend.apply(null,[o].concat(l)):o,u?this.each(function(){var r,i=e.data(this,s);if(!i)return e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+o+"'");if(!e.isFunction(i[o])||o.charAt(0)==="_")return e.error("no such method '"+o+"' for "+n+" widget instance");r=i[o].apply(i,l);if(r!==i&&r!==t)return h=r&&r.jquery?h.pushStack(r.get()):r,!1}):this.each(function(){var t=e.data(this,s);t?t.option(o||{})._init():new i(o,this)}),h}},e.Widget=function(e,t){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetName,this),e.data(r,this.widgetFullName,this),this._on({remove:"destroy"}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var i=n,s,o,u;if(arguments.length===0)return e.widget.extend({},this.options);if(typeof n=="string"){i={},s=n.split("."),n=s.shift();if(s.length){o=i[n]=e.widget.extend({},this.options[n]);for(u=0;u<s.length-1;u++)o[s[u]]=o[s[u]]||{},o=o[s[u]];n=s.pop();if(r===t)return o[n]===t?null:o[n];o[n]=r}else{if(r===t)return this.options[n]===t?null:this.options[n];i[n]=r}}return this._setOptions(i),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,e==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n){n?(t=e(t),this.bindings=this.bindings.add(t)):(n=t,t=this.element);var r=this;e.each(n,function(n,i){function s(){if(r.options.disabled===!0||e(this).hasClass("ui-state-disabled"))return;return(typeof i=="string"?r[i]:i).apply(r,arguments)}typeof i!="string"&&(s.guid=i.guid=i.guid||s.guid||e.guid++);var o=n.match(/^(\w+)\s*(.*)$/),u=o[1]+r.eventNamespace,f=o[2];f?r.widget().delegate(f,u,s):t.bind(u,s)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return(typeof e=="string"?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent;if(s)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){typeof i=="string"&&(i={effect:i});var o,u=i?i===!0||typeof i=="number"?n:i.effect||n:t;i=i||{},typeof i=="number"&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&(e.effects.effect[u]||e.uiBackCompat!==!1&&e.effects[u])?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}}),e.uiBackCompat!==!1&&(e.Widget.prototype._getCreateOptions=function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]})}(e),function(e,t){e.widget("mobile.widget",{_createWidget:function(){e.Widget.prototype._createWidget.apply(this,arguments),this._trigger("init")},_getCreateOptions:function(){var n=this.element,r={};return e.each(this.options,function(e){var i=n.jqmData(e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}));i!==t&&(r[e]=i)}),r},enhanceWithin:function(t,n){this.enhance(e(this.options.initSelector,e(t)),n)},enhance:function(t,n){var r,i,s=e(t),o=this;s=e.mobile.enhanceable(s),n&&s.length&&(r=e.mobile.closestPageData(s),i=r&&r.keepNativeSelector()||"",s=s.not(i)),s[this.widgetName]()},raise:function(e){throw"Widget ["+this.widgetName+"]: "+e}})}(e),function(e,t){e.extend(e.mobile,{loadingMessageTextVisible:r,loadingMessageTheme:r,loadingMessage:r,showPageLoadingMsg:function(t,n,r){e.mobile.loading("show",t,n,r)},hidePageLoadingMsg:function(){e.mobile.loading("hide")},loading:function(){this.loaderWidget.loader.apply(this.loaderWidget,arguments)}});var n="ui-loader",i=e("html"),s=e(t);e.widget("mobile.loader",{options:{theme:"a",textVisible:!1,html:"",text:"loading"},defaultHtml:"<div class='"+n+"'>"+"<span class='ui-icon ui-icon-loading'></span>"+"<h1></h1>"+"</div>",fakeFixLoader:function(){var t=e("."+e.mobile.activeBtnClass).first();this.element.css({top:e.support.scrollTop&&s.scrollTop()+s.height()/2||t.length&&t.offset().top||100})},checkLoaderPosition:function(){var t=this.element.offset(),n=s.scrollTop(),r=e.mobile.getScreenHeight();if(t.top<n||t.top-n>r)this.element.addClass("ui-loader-fakefix"),this.fakeFixLoader(),s.unbind("scroll",this.checkLoaderPosition).bind("scroll",this.fakeFixLoader)},resetHtml:function(){this.element.html(e(this.defaultHtml).html())},show:function(t,o,u){var l,h,p,v;this.resetHtml(),e.type(t)==="object"?(v=e.extend({},this.options,t),t=v.theme||e.mobile.loadingMessageTheme):(v=this.options,t=t||e.mobile.loadingMessageTheme||v.theme),h=o||e.mobile.loadingMessage||v.text,i.addClass("ui-loading");if(e.mobile.loadingMessage!==!1||v.html)e.mobile.loadingMessageTextVisible!==r?l=e.mobile.loadingMessageTextVisible:l=v.textVisible,this.element.attr("class",n+" ui-corner-all ui-body-"+t+" ui-loader-"+(l||o||t.text?"verbose":"default")+(v.textonly||u?" ui-loader-textonly":"")),v.html?this.element.html(v.html):this.element.find("h1").text(h),this.element.appendTo(e.mobile.pageContainer),this.checkLoaderPosition(),s.bind("scroll",e.proxy(this.checkLoaderPosition,this))},hide:function(){i.removeClass("ui-loading"),e.mobile.loadingMessage&&this.element.removeClass("ui-loader-fakefix"),e(t).unbind("scroll",e.proxy(this.fakeFixLoader,this)),e(t).unbind("scroll",e.proxy(this.checkLoaderPosition,this))}}),s.bind("pagecontainercreate",function(){e.mobile.loaderWidget=e.mobile.loaderWidget||e(e.mobile.loader.prototype.defaultHtml).loader()})}(e,this),function(e,t,n,r){function i(e){while(e&&typeof e.originalEvent!="undefined")e=e.originalEvent;return e}function s(t,n){var s=t.type,o,u,a,f,l,c,h,p,d;t=e.Event(t),t.type=n,o=t.originalEvent,u=e.event.props,s.search(/^(mouse|click)/)>-1&&(u=L);if(o)for(h=u.length,f;h;)f=u[--h],t[f]=o[f];s.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1);if(s.search(/^touch/)!==-1){a=i(o),s=a.touches,l=a.changedTouches,c=s&&s.length?s[0]:l&&l.length?l[0]:r;if(c)for(p=0,d=C.length;p<d;p++)f=C[p],t[f]=c[f]}return t}function o(t){var n={},r,i;while(t){r=e.data(t,x);for(i in r)r[i]&&(n[i]=n.hasVirtualBinding=!0);t=t.parentNode}return n}function u(t,n){var r;while(t){r=e.data(t,x);if(r&&(!n||r[n]))return t;t=t.parentNode}return null}function a(){B=!1}function f(){B=!0}function l(){q=0,P.length=0,H=!1,f()}function c(){a()}function h(){p(),O=setTimeout(function(){O=0,l()},e.vmouse.resetTimerDuration)}function p(){O&&(clearTimeout(O),O=0)}function d(t,n,r){var i;if(r&&r[t]||!r&&u(n.target,t))i=s(n,t),e(n.target).trigger(i);return i}function v(t){var n=e.data(t.target,T);if(!H&&(!q||q!==n)){var r=d("v"+t.type,t);r&&(r.isDefaultPrevented()&&t.preventDefault(),r.isPropagationStopped()&&t.stopPropagation(),r.isImmediatePropagationStopped()&&t.stopImmediatePropagation())}}function m(t){var n=i(t).touches,r,s;if(n&&n.length===1){r=t.target,s=o(r);if(s.hasVirtualBinding){q=I++,e.data(r,T,q),p(),c(),D=!1;var u=i(t).touches[0];M=u.pageX,_=u.pageY,d("vmouseover",t,s),d("vmousedown",t,s)}}}function g(e){if(B)return;D||d("vmousecancel",e,o(e.target)),D=!0,h()}function y(t){if(B)return;var n=i(t).touches[0],r=D,s=e.vmouse.moveDistanceThreshold,u=o(t.target);D=D||Math.abs(n.pageX-M)>s||Math.abs(n.pageY-_)>s,D&&!r&&d("vmousecancel",t,u),d("vmousemove",t,u),h()}function b(e){if(B)return;f();var t=o(e.target),n;d("vmouseup",e,t);if(!D){var r=d("vclick",e,t);r&&r.isDefaultPrevented()&&(n=i(e).changedTouches[0],P.push({touchID:q,x:n.clientX,y:n.clientY}),H=!0)}d("vmouseout",e,t),D=!1,h()}function w(t){var n=e.data(t,x),r;if(n)for(r in n)if(n[r])return!0;return!1}function E(){}function S(t){var n=t.substr(1);return{setup:function(r,i){w(this)||e.data(this,x,{});var s=e.data(this,x);s[t]=!0,A[t]=(A[t]||0)+1,A[t]===1&&F.bind(n,v),e(this).bind(n,E),j&&(A.touchstart=(A.touchstart||0)+1,A.touchstart===1&&F.bind("touchstart",m).bind("touchend",b).bind("touchmove",y).bind("scroll",g))},teardown:function(r,i){--A[t],A[t]||F.unbind(n,v),j&&(--A.touchstart,A.touchstart||F.unbind("touchstart",m).unbind("touchmove",y).unbind("touchend",b).unbind("scroll",g));var s=e(this),o=e.data(this,x);o&&(o[t]=!1),s.unbind(n,E),w(this)||s.removeData(x)}}}var x="virtualMouseBindings",T="virtualTouchID",N="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),C="clientX clientY pageX pageY screenX screenY".split(" "),k=e.event.mouseHooks?e.event.mouseHooks.props:[],L=e.event.props.concat(k),A={},O=0,M=0,_=0,D=!1,P=[],H=!1,B=!1,j="addEventListener"in n,F=e(n),I=1,q=0,R;e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var U=0;U<N.length;U++)e.event.special[N[U]]=S(N[U]);j&&n.addEventListener("click",function(t){var n=P.length,r=t.target,i,s,o,u,a,f;if(n){i=t.clientX,s=t.clientY,R=e.vmouse.clickDistanceThreshold,o=r;while(o){for(u=0;u<n;u++){a=P[u],f=0;if(o===r&&Math.abs(a.x-i)<R&&Math.abs(a.y-s)<R||e.data(o,T)===a.touchID){t.preventDefault(),t.stopPropagation();return}}o=o.parentNode}}},!0)}(e,t,n),function(e,t){var r={touch:"ontouchend"in n};e.mobile=e.mobile||{},e.mobile.support=e.mobile.support||{},e.extend(e.support,r),e.extend(e.mobile.support,r)}(e),function(e,t,r){function i(t,n,r){var i=r.type;r.type=n,e.event.handle.call(t,r),r.type=i}e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,n){e.fn[n]=function(e){return e?this.bind(n,e):this.trigger(n)},e.attrFn&&(e.attrFn[n]=!0)});var s=e.mobile.support.touch,o="touchmove scroll",u=s?"touchstart":"mousedown",a=s?"touchend":"mouseup",f=s?"touchmove":"mousemove";e.event.special.scrollstart={enabled:!0,setup:function(){function t(e,t){s=t,i(n,s?"scrollstart":"scrollstop",e)}var n=this,r=e(n),s,u;r.bind(o,function(n){if(!e.event.special.scrollstart.enabled)return;s||t(n,!0),clearTimeout(u),u=setTimeout(function(){t(n,!1)},50)})}},e.event.special.tap={tapholdThreshold:750,setup:function(){var t=this,r=e(t);r.bind("vmousedown",function(s){function o(){clearTimeout(h)}function u(){o(),r.unbind("vclick",a).unbind("vmouseup",o),e(n).unbind("vmousecancel",u)}function a(e){u(),f===e.target&&i(t,"tap",e)}if(s.which&&s.which!==1)return!1;var f=s.target,l=s.originalEvent,h;r.bind("vmouseup",o).bind("vclick",a),e(n).bind("vmousecancel",u),h=setTimeout(function(){i(t,"taphold",e.Event("taphold",{target:f}))},e.event.special.tap.tapholdThreshold)})}},e.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var t=this,n=e(t);n.bind(u,function(t){function i(t){if(!o)return;var n=t.originalEvent.touches?t.originalEvent.touches[0]:t;u={time:(new Date).getTime(),coords:[n.pageX,n.pageY]},Math.abs(o.coords[0]-u.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&t.preventDefault()}var s=t.originalEvent.touches?t.originalEvent.touches[0]:t,o={time:(new Date).getTime(),coords:[s.pageX,s.pageY],origin:e(t.target)},u;n.bind(f,i).one(a,function(t){n.unbind(f,i),o&&u&&u.time-o.time<e.event.special.swipe.durationThreshold&&Math.abs(o.coords[0]-u.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(o.coords[1]-u.coords[1])<e.event.special.swipe.verticalDistanceThreshold&&o.origin.trigger("swipe").trigger(o.coords[0]>u.coords[0]?"swipeleft":"swiperight"),o=u=r})})}},e.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(t,n){e.event.special[t]={setup:function(){e(this).bind(n,e.noop)}}})}(e,this),function(e,n){e.extend(e.support,{orientation:"orientation"in t&&"onorientationchange"in t})}(e),function(e){e.event.special.throttledresize={setup:function(){e(this).bind("resize",n)},teardown:function(){e(this).unbind("resize",n)}};var t=250,n=function(){s=(new Date).getTime(),o=s-r,o>=t?(r=s,e(this).trigger("throttledresize")):(i&&clearTimeout(i),i=setTimeout(n,t-o))},r=0,i,s,o}(e),function(e,t){function r(){var e=u();e!==a&&(a=e,i.trigger(s))}var i=e(t),s="orientationchange",o,u,a,f,l,h={0:!0,180:!0};if(e.support.orientation){var p=t.innerWidth||e(t).width(),d=t.innerHeight||e(t).height(),v=50;f=p>d&&p-d>v,l=h[t.orientation];if(f&&l||!f&&!l)h={"-90":!0,90:!0}}e.event.special.orientationchange=e.extend({},e.event.special.orientationchange,{setup:function(){if(e.support.orientation&&!e.event.special.orientationchange.disabled)return!1;a=u(),i.bind("throttledresize",r)},teardown:function(){if(e.support.orientation&&!e.event.special.orientationchange.disabled)return!1;i.unbind("throttledresize",r)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=u(),t.apply(this,arguments)}}}),e.event.special.orientationchange.orientation=u=function(){var r=!0,i=n.documentElement;return e.support.orientation?r=h[t.orientation]:r=i&&i.clientWidth/i.clientHeight<1.1,r?"portrait":"landscape"},e.fn[s]=function(e){return e?this.bind(s,e):this.trigger(s)},e.attrFn&&(e.attrFn[s]=!0)}(e,this),function(e,r){var i=e(t),s=e("html");e.mobile.media=function(){var t={},r=e("<div id='jquery-mediatest'></div>"),i=e("<body>").append(r);return function(e){if(!(e in t)){var o=n.createElement("style"),u="@media "+e+" { #jquery-mediatest { position:absolute; } }";o.type="text/css",o.styleSheet?o.styleSheet.cssText=u:o.appendChild(n.createTextNode(u)),s.prepend(i).prepend(o),t[e]=r.css("position")==="absolute",i.add(o).remove()}return t[e]}}()}(e),function(e,r){function i(e){var t=e.charAt(0).toUpperCase()+e.substr(1),n=(e+" "+h.join(t+" ")+t).split(" ");for(var i in n)if(l[n[i]]!==r)return!0}function s(e,t,r){var i=n.createElement("div"),s=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},o=function(e){return"-"+e.charAt(0).toLowerCase()+e.substr(1)+"-"},u=function(n){var r=o(n)+e+": "+t+";",u=s(n),a=u+s(e);i.setAttribute("style",r),!i.style[a]||(f=!0)},a=r?[r]:h,f;for(var l=0;l<a.length;l++)u(a[l]);return!!f}function o(){var t="transform-3d";return s("perspective","10px","moz")||e.mobile.media("(-"+h.join("-"+t+"),(-")+"-"+t+"),("+t+")")}function u(){var t=location.protocol+"//"+location.host+location.pathname+"ui-dir/",n=e("head base"),r=null,i="",s,o;return n.length?i=n.attr("href"):n=r=e("<base>",{href:t}).appendTo("head"),s=e("<a href='testurl' />").prependTo(f),o=s[0].href,n[0].href=i||location.pathname,r&&r.remove(),o.indexOf(t)===0}function a(){var e=n.createElement("x"),r=n.documentElement,i=t.getComputedStyle,s;return"pointerEvents"in e.style?(e.style.pointerEvents="auto",e.style.pointerEvents="x",r.appendChild(e),s=i&&i(e,"").pointerEvents==="auto",r.removeChild(e),!!s):!1}var f=e("<body>").prependTo("html"),l=f[0].style,h=["Webkit","Moz","O"],p="palmGetResource"in t,d=t.opera,v=t.operamini&&{}.toString.call(t.operamini)==="[object OperaMini]",m=t.blackberry;e.extend(e.mobile,{browser:{}}),e.mobile.browser.ie=function(){var e=3,t=n.createElement("div"),r=t.all||[];do t.innerHTML="<!--[if gt IE "+ ++e+"]><br><![endif]-->";while(r[0]);return e>4?e:!e}(),e.extend(e.support,{cssTransitions:"WebKitTransitionEvent"in t||s("transition","height 100ms linear")&&!d,pushState:"pushState"in history&&"replaceState"in history,mediaquery:e.mobile.media("only all"),cssPseudoElement:!!i("content"),touchOverflow:!!i("overflowScrolling"),cssTransform3d:o(),boxShadow:!!i("boxShadow")&&!m,scrollTop:("pageXOffset"in t||"scrollTop"in n.documentElement||"scrollTop"in f[0])&&!p&&!v,dynamicBaseTag:u(),cssPointerEvents:a()}),f.remove();var g=function(){var e=t.navigator.userAgent;return e.indexOf("Nokia")>-1&&(e.indexOf("Symbian/3")>-1||e.indexOf("Series60/5")>-1)&&e.indexOf("AppleWebKit")>-1&&e.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}();e.mobile.gradeA=function(){return e.support.mediaquery||e.mobile.browser.ie&&e.mobile.browser.ie>=7},e.mobile.ajaxBlacklist=t.blackberry&&!t.WebKitPoint||v||g,g&&e(function(){e("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")}),e.support.boxShadow||e("html").addClass("ui-mobile-nosupport-boxshadow")}(e),function(e,t){e.widget("mobile.page",e.mobile.widget,{options:{theme:"c",domCache:!1,keepNativeDefault:":jqmData(role='none'), :jqmData(role='nojs')"},_create:function(){var e=this;if(e._trigger("beforecreate")===!1)return!1;e.element.attr("tabindex","0").addClass("ui-page ui-body-"+e.options.theme).bind("pagebeforehide",function(){e.removeContainerBackground()}).bind("pagebeforeshow",function(){e.setContainerBackground()})},removeContainerBackground:function(){e.mobile.pageContainer.removeClass("ui-overlay-"+e.mobile.getInheritedTheme(this.element.parent()))},setContainerBackground:function(t){this.options.theme&&e.mobile.pageContainer.addClass("ui-overlay-"+(t||this.options.theme))},keepNativeSelector:function(){var t=this.options,n=t.keepNative&&e.trim(t.keepNative);return n&&t.keepNative!==t.keepNativeDefault?[t.keepNative,t.keepNativeDefault].join(", "):t.keepNativeDefault}})}(e),function(e,t,r){function i(e){return e=e||location.href,"#"+e.replace(/^[^#]*#?(.*)$/,"$1")}var s="hashchange",o=n,u,a=e.event.special,f=o.documentMode,l="on"+s in t&&(f===r||f>7);e.fn[s]=function(e){return e?this.bind(s,e):this.trigger(s)},e.fn[s].delay=50,a[s]=e.extend(a[s],{setup:function(){if(l)return!1;e(u.start)},teardown:function(){if(l)return!1;e(u.stop)}}),u=function(){function n(){var r=i(),o=p(f);r!==f?(h(f=r,o),e(t).trigger(s)):o!==f&&(location.href=location.href.replace(/#.*/,"")+o),a=setTimeout(n,e.fn[s].delay)}var u={},a,f=i(),c=function(e){return e},h=c,p=c;return u.start=function(){a||n()},u.stop=function(){a&&clearTimeout(a),a=r},e.browser.msie&&!l&&function(){var t,r;u.start=function(){t||(r=e.fn[s].src,r=r&&r+i(),t=e('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){r||h(i()),n()}).attr("src",r||"javascript:0").insertAfter("body")[0].contentWindow,o.onpropertychange=function(){try{event.propertyName==="title"&&(t.document.title=o.title)}catch(e){}})},u.stop=c,p=function(){return i(t.location.href)},h=function(n,r){var i=t.document,u=e.fn[s].domain;n!==r&&(i.title=o.title,i.open(),u&&i.write('<script>document.domain="'+u+'"</script>'),i.close(),t.location.hash=n)}}(),u}()}(e,this),function(e,t,n){var r=function(r){return r===n&&(r=!0),function(n,i,s,o){var u=new e.Deferred,f=i?" reverse":"",l=e.mobile.urlHistory.getActive(),c=l.lastScroll||e.mobile.defaultHomeScroll,h=e.mobile.getScreenHeight(),p=e.mobile.maxTransitionWidth!==!1&&e(t).width()>e.mobile.maxTransitionWidth,v=!e.support.cssTransitions||p||!n||n==="none"||Math.max(e(t).scrollTop(),c)>e.mobile.getMaxScrollForTransition(),m=" ui-page-pre-in",g=function(){e.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+n)},y=function(){e.event.special.scrollstart.enabled=!1,t.scrollTo(0,c),setTimeout(function(){e.event.special.scrollstart.enabled=!0},150)},w=function(){o.removeClass(e.mobile.activePageClass+" out in reverse "+n).height("")},E=function(){r?o.animationComplete(S):S(),o.height(h+e(t).scrollTop()).addClass(n+" out"+f)},S=function(){o&&r&&w(),x()},x=function(){s.css("z-index",-10),s.addClass(e.mobile.activePageClass+m),e.mobile.focusPage(s),s.height(h+c),y(),s.css("z-index",""),v||s.animationComplete(T),s.removeClass(m).addClass(n+" in"+f),v&&T()},T=function(){r||o&&w(),s.removeClass("out in reverse "+n).height(""),g(),e(t).scrollTop()!==c&&y(),u.resolve(n,i,s,o,!0)};return g(),o&&!v?E():S(),u.promise()}},i=r(),s=r(!1),o=function(){return e.mobile.getScreenHeight()*3};e.mobile.defaultTransitionHandler=i,e.mobile.transitionHandlers={"default":e.mobile.defaultTransitionHandler,sequential:i,simultaneous:s},e.mobile.transitionFallbacks={},e.mobile._maybeDegradeTransition=function(t){return t&&!e.support.cssTransform3d&&e.mobile.transitionFallbacks[t]&&(t=e.mobile.transitionFallbacks[t]),t},e.mobile.getMaxScrollForTransition=e.mobile.getMaxScrollForTransition||o}(e,this),function(e,r){function i(t){!!m&&(!m.closest("."+e.mobile.activePageClass).length||t)&&m.removeClass(e.mobile.activeBtnClass),m=null}function s(){E=!1,w.length>0&&e.mobile.changePage.apply(null,w.pop())}function o(t,n,r,i){n&&n.data("page")._trigger("beforehide",null,{nextPage:t}),t.data("page")._trigger("beforeshow",null,{prevPage:n||e("")}),e.mobile.hidePageLoadingMsg(),r=e.mobile._maybeDegradeTransition(r);var s=e.mobile.transitionHandlers[r||"default"]||e.mobile.defaultTransitionHandler,o=s(r,i,t,n);return o.done(function(){n&&n.data("page")._trigger("hide",null,{nextPage:t}),t.data("page")._trigger("show",null,{prevPage:n||e("")})}),o}function u(){var t=e("."+e.mobile.activePageClass),n=parseFloat(t.css("padding-top")),r=parseFloat(t.css("padding-bottom")),i=parseFloat(t.css("border-top-width")),s=parseFloat(t.css("border-bottom-width"));t.css("min-height",k()-n-r-i-s)}function a(t,n){n&&t.attr("data-"+e.mobile.ns+"role",n),t.page()}function f(e){while(e){if(typeof e.nodeName=="string"&&e.nodeName.toLowerCase()==="a")break;e=e.parentNode}return e}function l(t){var n=e(t).closest(".ui-page").jqmData("url"),r=N.hrefNoHash;if(!n||!v.isPath(n))n=r;return v.makeUrlAbsolute(n,r)}var h=e(t),p=e("html"),d=e("head"),v={urlParseRE:/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(t){var n=t?e.mobile.path.parseUrl(t):location;return n.protocol+"//"+n.host+n.pathname+n.search+n.hash},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(t){if(e.type(t)==="object")return t;var n=v.urlParseRE.exec(t||"")||[];return{href:n[0]||"",hrefNoHash:n[1]||"",hrefNoSearch:n[2]||"",domain:n[3]||"",protocol:n[4]||"",doubleSlash:n[5]||"",authority:n[6]||"",username:n[8]||"",password:n[9]||"",host:n[10]||"",hostname:n[11]||"",port:n[12]||"",pathname:n[13]||"",directory:n[14]||"",filename:n[15]||"",search:n[16]||"",hash:n[17]||""}},makePathAbsolute:function(e,t){if(e&&e.charAt(0)==="/")return e;e=e||"",t=t?t.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"";var n=t?t.split("/"):[],r=e.split("/");for(var i=0;i<r.length;i++){var s=r[i];switch(s){case".":break;case"..":n.length&&n.pop();break;default:n.push(s)}}return"/"+n.join("/")},isSameDomain:function(e,t){return v.parseUrl(e).domain===v.parseUrl(t).domain},isRelativeUrl:function(e){return v.parseUrl(e).protocol===""},isAbsoluteUrl:function(e){return v.parseUrl(e).protocol!==""},makeUrlAbsolute:function(e,t){if(!v.isRelativeUrl(e))return e;t===r&&(t=N);var n=v.parseUrl(e),i=v.parseUrl(t),s=n.protocol||i.protocol,o=n.protocol?n.doubleSlash:n.doubleSlash||i.doubleSlash,u=n.authority||i.authority,a=n.pathname!=="",f=v.makePathAbsolute(n.pathname||i.filename,i.pathname),l=n.search||!a&&i.search||"",c=n.hash;return s+o+u+f+l+c},addSearchParams:function(t,n){var r=v.parseUrl(t),i=typeof n=="object"?e.param(n):n,s=r.search||"?";return r.hrefNoSearch+s+(s.charAt(s.length-1)!=="?"?"&":"")+i+(r.hash||"")},convertUrlToDataUrl:function(e){var n=v.parseUrl(e);return v.isEmbeddedPage(n)?n.hash.split(S)[0].replace(/^#/,""):v.isSameDomain(n,N)?n.hrefNoHash.replace(N.domain,"").split(S)[0]:t.decodeURIComponent(e)},get:function(e){return e===r&&(e=location.hash),v.stripHash(e).replace(/[^\/]*\.[^\/*]+$/,"")},getFilePath:function(t){var n="&"+e.mobile.subPageUrlKey;return t&&t.split(n)[0].split(S)[0]},set:function(e){location.hash=e},isPath:function(e){return/\//.test(e)},clean:function(e){return e.replace(N.domain,"")},stripHash:function(e){return e.replace(/^#/,"")},cleanHash:function(e){return v.stripHash(e.replace(/\?.*$/,"").replace(S,""))},isHashValid:function(e){return/^#[^#]+$/.test(e)},isExternal:function(e){var t=v.parseUrl(e);return t.protocol&&t.domain!==T.domain?!0:!1},hasProtocol:function(e){return/^(:?\w+:)/.test(e)},isFirstPageUrl:function(t){var n=v.parseUrl(v.makeUrlAbsolute(t,N)),i=n.hrefNoHash===T.hrefNoHash||C&&n.hrefNoHash===N.hrefNoHash,s=e.mobile.firstPage,o=s&&s[0]?s[0].id:r;return i&&(!n.hash||n.hash==="#"||o&&n.hash.replace(/^#/,"")===o)},isEmbeddedPage:function(e){var t=v.parseUrl(e);return t.protocol!==""?t.hash&&(t.hrefNoHash===T.hrefNoHash||C&&t.hrefNoHash===N.hrefNoHash):/^#/.test(t.href)},isPermittedCrossDomainRequest:function(t,n){return e.mobile.allowCrossDomainPages&&t.protocol==="file:"&&n.search(/^https?:/)!==-1}},m=null,g={stack:[],activeIndex:0,getActive:function(){return g.stack[g.activeIndex]},getPrev:function(){return g.stack[g.activeIndex-1]},getNext:function(){return g.stack[g.activeIndex+1]},addNew:function(e,t,n,r,i){g.getNext()&&g.clearForward(),g.stack.push({url:e,transition:t,title:n,pageUrl:r,role:i}),g.activeIndex=g.stack.length-1},clearForward:function(){g.stack=g.stack.slice(0,g.activeIndex+1)},directHashChange:function(t){var n,i,s,o=this.getActive();e.each(g.stack,function(e,r){decodeURIComponent(t.currentUrl)===decodeURIComponent(r.url)&&(n=e<g.activeIndex,i=!n,s=e)}),this.activeIndex=s!==r?s:this.activeIndex,n?(t.either||t.isBack)(!0):i&&(t.either||t.isForward)(!1)},ignoreNextHashChange:!1},y="[tabindex],a,button:visible,select:visible,input",w=[],E=!1,S="&ui-state=dialog",x=d.children("base"),T=v.parseLocation(),N=x.length?v.parseUrl(v.makeUrlAbsolute(x.attr("href"),T.href)):T,C=T.hrefNoHash!==N.hrefNoHash,k=e.mobile.getScreenHeight,L=e.support.dynamicBaseTag?{element:x.length?x:e("<base>",{href:N.hrefNoHash}).prependTo(d),set:function(e){L.element.attr("href",v.makeUrlAbsolute(e,N))},reset:function(){L.element.attr("href",N.hrefNoHash)}}:r;e.mobile.focusPage=function(e){var t=e.find("[autofocus]"),n=e.find(".ui-title:eq(0)");if(t.length){t.focus();return}n.length?n.focus():e.focus()};var A=!0,O,M;O=function(){if(!A)return;var t=e.mobile.urlHistory.getActive();if(t){var n=h.scrollTop();t.lastScroll=n<e.mobile.minScrollBack?e.mobile.defaultHomeScroll:n}},M=function(){setTimeout(O,100)},h.bind(e.support.pushState?"popstate":"hashchange",function(){A=!1}),h.one(e.support.pushState?"popstate":"hashchange",function(){A=!0}),h.one("pagecontainercreate",function(){e.mobile.pageContainer.bind("pagechange",function(){A=!0,h.unbind("scrollstop",M),h.bind("scrollstop",M)})}),h.bind("scrollstop",M),e.mobile._maybeDegradeTransition=e.mobile._maybeDegradeTransition||function(e){return e},e.fn.animationComplete=function(t){return e.support.cssTransitions?e(this).one("webkitAnimationEnd animationend",t):(setTimeout(t,0),e(this))},e.mobile.path=v,e.mobile.base=L,e.mobile.urlHistory=g,e.mobile.dialogHashKey=S,e.mobile.allowCrossDomainPages=!1,e.mobile.getDocumentUrl=function(t){return t?e.extend({},T):T.href},e.mobile.getDocumentBase=function(t){return t?e.extend({},N):N.href},e.mobile._bindPageRemove=function(){var t=e(this);!t.data("page").options.domCache&&t.is(":jqmData(external-page='true')")&&t.bind("pagehide.remove",function(){var t=e(this),n=new e.Event("pageremove");t.trigger(n),n.isDefaultPrevented()||t.removeWithDependents()})},e.mobile.loadPage=function(t,n){var i=e.Deferred(),s=e.extend({},e.mobile.loadPage.defaults,n),o=null,u=null,f=function(){var t=e.mobile.activePage&&l(e.mobile.activePage);return t||N.hrefNoHash},c=v.makeUrlAbsolute(t,f());s.data&&s.type==="get"&&(c=v.addSearchParams(c,s.data),s.data=r),s.data&&s.type==="post"&&(s.reloadPage=!0);var h=v.getFilePath(c),p=v.convertUrlToDataUrl(c);s.pageContainer=s.pageContainer||e.mobile.pageContainer,o=s.pageContainer.children("[data-"+e.mobile.ns+"url='"+p+"']"),o.length===0&&p&&!v.isPath(p)&&(o=s.pageContainer.children("#"+p).attr("data-"+e.mobile.ns+"url",p).jqmData("url",p));if(o.length===0)if(e.mobile.firstPage&&v.isFirstPageUrl(h))e.mobile.firstPage.parent().length&&(o=e(e.mobile.firstPage));else if(v.isEmbeddedPage(h))return i.reject(c,n),i.promise();if(o.length){if(!s.reloadPage)return a(o,s.role),i.resolve(c,n,o),i.promise();u=o}var d=s.pageContainer,m=new e.Event("pagebeforeload"),g={url:t,absUrl:c,dataUrl:p,deferred:i,options:s};d.trigger(m,g);if(m.isDefaultPrevented())return i.promise();if(s.showLoadMsg)var y=setTimeout(function(){e.mobile.showPageLoadingMsg()},s.loadMsgDelay),b=function(){clearTimeout(y),e.mobile.hidePageLoadingMsg()};return L&&L.reset(),!e.mobile.allowCrossDomainPages&&!v.isSameDomain(T,c)?i.reject(c,n):e.ajax({url:h,type:s.type,data:s.data,dataType:"html",success:function(r,f,l){var d=e("<div></div>"),m=r.match(/<title[^>]*>([^<]*)/)&&RegExp.$1,y=new RegExp("(<[^>]+\\bdata-"+e.mobile.ns+"role=[\"']?page[\"']?[^>]*>)"),w=new RegExp("\\bdata-"+e.mobile.ns+"url=[\"']?([^\"'>]*)[\"']?");y.test(r)&&RegExp.$1&&w.test(RegExp.$1)&&RegExp.$1&&(t=h=v.getFilePath(e("<div>"+RegExp.$1+"</div>").text())),L&&L.set(h),d.get(0).innerHTML=r,o=d.find(":jqmData(role='page'), :jqmData(role='dialog')").first(),o.length||(o=e("<div data-"+e.mobile.ns+"role='page'>"+r.split(/<\/?body[^>]*>/gmi)[1]+"</div>")),m&&!o.jqmData("title")&&(~m.indexOf("&")&&(m=e("<div>"+m+"</div>").text()),o.jqmData("title",m));if(!e.support.dynamicBaseTag){var E=v.get(h);o.find("[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]").each(function(){var t=e(this).is("[href]")?"href":e(this).is("[src]")?"src":"action",n=e(this).attr(t);n=n.replace(location.protocol+"//"+location.host+location.pathname,""),/^(\w+:|#|\/)/.test(n)||e(this).attr(t,E+n)})}o.attr("data-"+e.mobile.ns+"url",v.convertUrlToDataUrl(h)).attr("data-"+e.mobile.ns+"external-page",!0).appendTo(s.pageContainer),o.one("pagecreate",e.mobile._bindPageRemove),a(o,s.role),c.indexOf("&"+e.mobile.subPageUrlKey)>-1&&(o=s.pageContainer.children("[data-"+e.mobile.ns+"url='"+p+"']")),s.showLoadMsg&&b(),g.xhr=l,g.textStatus=f,g.page=o,s.pageContainer.trigger("pageload",g),i.resolve(c,n,o,u)},error:function(t,r,o){L&&L.set(v.get()),g.xhr=t,g.textStatus=r,g.errorThrown=o;var u=new e.Event("pageloadfailed");s.pageContainer.trigger(u,g);if(u.isDefaultPrevented())return;s.showLoadMsg&&(b(),e.mobile.showPageLoadingMsg(e.mobile.pageLoadErrorMessageTheme,e.mobile.pageLoadErrorMessage,!0),setTimeout(e.mobile.hidePageLoadingMsg,1500)),i.reject(c,n)}}),i.promise()},e.mobile.loadPage.defaults={type:"get",data:r,reloadPage:!1,role:r,showLoadMsg:!1,pageContainer:r,loadMsgDelay:50},e.mobile.changePage=function(t,u){if(E){w.unshift(arguments);return}var f=e.extend({},e.mobile.changePage.defaults,u);f.pageContainer=f.pageContainer||e.mobile.pageContainer,f.fromPage=f.fromPage||e.mobile.activePage;var l=f.pageContainer,h=new e.Event("pagebeforechange"),p={toPage:t,options:f};l.trigger(h,p);if(h.isDefaultPrevented())return;t=p.toPage,E=!0;if(typeof t=="string"){e.mobile.loadPage(t,f).done(function(t,n,r,i){E=!1,n.duplicateCachedPage=i,e.mobile.changePage(r,n)}).fail(function(e,t){E=!1,i(!0),s(),f.pageContainer.trigger("pagechangefailed",p)});return}t[0]===e.mobile.firstPage[0]&&!f.dataUrl&&(f.dataUrl=T.hrefNoHash);var d=f.fromPage,m=f.dataUrl&&v.convertUrlToDataUrl(f.dataUrl)||t.jqmData("url"),y=m,b=v.getFilePath(m),x=g.getActive(),N=g.activeIndex===0,C=0,k=n.title,L=f.role==="dialog"||t.jqmData("role")==="dialog";if(d&&d[0]===t[0]&&!f.allowSamePageTransition){E=!1,l.trigger("pagechange",p),f.fromHashChange&&g.directHashChange({currentUrl:m,isBack:function(){},isForward:function(){}});return}a(t,f.role),f.fromHashChange&&g.directHashChange({currentUrl:m,isBack:function(){C=-1},isForward:function(){C=1}});try{n.activeElement&&n.activeElement.nodeName.toLowerCase()!=="body"?e(n.activeElement).blur():e("input:focus, textarea:focus, select:focus").blur()}catch(A){}var O=!1;L&&x&&(x.url.indexOf(S)>-1&&!e.mobile.activePage.is(".ui-dialog")&&(f.changeHash=!1,O=!0),m=(x.url||"")+(O?"":S),g.activeIndex===0&&m===g.initialDst&&(m+=S)),f.changeHash!==!1&&m&&(g.ignoreNextHashChange=!0,v.set(m));var M=x?t.jqmData("title")||t.children(":jqmData(role='header')").find(".ui-title").getEncodedText():k;!!M&&k===n.title&&(k=M),t.jqmData("title")||t.jqmData("title",k),f.transition=f.transition||(C&&!N?x.transition:r)||(L?e.mobile.defaultDialogTransition:e.mobile.defaultPageTransition),C||(O&&(g.activeIndex=Math.max(0,g.activeIndex-1)),g.addNew(m,f.transition,k,y,f.role)),n.title=g.getActive().title,e.mobile.activePage=t,f.reverse=f.reverse||C<0,o(t,d,f.transition,f.reverse).done(function(n,r,o,u,a){i(),f.duplicateCachedPage&&f.duplicateCachedPage.remove(),a||e.mobile.focusPage(t),s(),l.trigger("pagechange",p)})},e.mobile.changePage.defaults={transition:r,reverse:!1,changeHash:!0,fromHashChange:!1,role:r,duplicateCachedPage:r,pageContainer:r,showLoadMsg:!0,dataUrl:r,fromPage:r,allowSamePageTransition:!1},e.mobile.navreadyDeferred=e.Deferred(),e.mobile.navreadyDeferred.done(function(){e(n).delegate("form","submit",function(t){var n=e(this);if(!e.mobile.ajaxEnabled||n.is(":jqmData(ajax='false')")||!n.jqmHijackable().length)return;var r=n.attr("method"),i=n.attr("target"),s=n.attr("action");s||(s=l(n),s===N.hrefNoHash&&(s=T.hrefNoSearch)),s=v.makeUrlAbsolute(s,l(n));if(v.isExternal(s)&&!v.isPermittedCrossDomainRequest(T,s)||i)return;e.mobile.changePage(s,{type:r&&r.length&&r.toLowerCase()||"get",data:n.serialize(),transition:n.jqmData("transition"),reverse:n.jqmData("direction")==="reverse",reloadPage:!0}),t.preventDefault()}),e(n).bind("vclick",function(t){if(t.which>1||!e.mobile.linkBindingEnabled)return;var n=f(t.target);if(!e(n).jqmHijackable().length)return;n&&v.parseUrl(n.getAttribute("href")||"#").hash!=="#"&&(i(!0),m=e(n).closest(".ui-btn").not(".ui-disabled"),m.addClass(e.mobile.activeBtnClass))}),e(n).bind("click",function(n){if(!e.mobile.linkBindingEnabled)return;var s=f(n.target),o=e(s),u;if(!s||n.which>1||!o.jqmHijackable().length)return;u=function(){t.setTimeout(function(){i(!0)},200)};if(o.is(":jqmData(rel='back')"))return t.history.back(),!1;var a=l(o),c=v.makeUrlAbsolute(o.attr("href")||"#",a);if(!e.mobile.ajaxEnabled&&!v.isEmbeddedPage(c)){u();return}if(c.search("#")!==-1){c=c.replace(/[^#]*#/,"");if(!c){n.preventDefault();return}v.isPath(c)?c=v.makeUrlAbsolute(c,a):c=v.makeUrlAbsolute("#"+c,T.hrefNoHash)}var h=o.is("[rel='external']")||o.is(":jqmData(ajax='false')")||o.is("[target]"),p=h||v.isExternal(c)&&!v.isPermittedCrossDomainRequest(T,c);if(p){u();return}var d=o.jqmData("transition"),m=o.jqmData("direction")==="reverse"||o.jqmData("back"),g=o.attr("data-"+e.mobile.ns+"rel")||r;e.mobile.changePage(c,{transition:d,reverse:m,role:g,link:o}),n.preventDefault()}),e(n).delegate(".ui-page","pageshow.prefetch",function(){var t=[];e(this).find("a:jqmData(prefetch)").each(function(){var n=e(this),r=n.attr("href");r&&e.inArray(r,t)===-1&&(t.push(r),e.mobile.loadPage(r,{role:n.attr("data-"+e.mobile.ns+"rel")}))})}),e.mobile._handleHashChange=function(n){var i=v.stripHash(n),s=e.mobile.urlHistory.stack.length===0?"none":r,o=new e.Event("navigate"),u={transition:s,changeHash:!1,fromHashChange:!0};0===g.stack.length&&(g.initialDst=i),e.mobile.pageContainer.trigger(o);if(o.isDefaultPrevented())return;if(!e.mobile.hashListeningEnabled||g.ignoreNextHashChange){g.ignoreNextHashChange=!1;return}if(g.stack.length>1&&i.indexOf(S)>-1&&g.initialDst!==i){if(!e.mobile.activePage.is(".ui-dialog")){g.directHashChange({currentUrl:i,isBack:function(){t.history.back()},isForward:function(){t.history.forward()}});return}g.directHashChange({currentUrl:i,either:function(t){var n=e.mobile.urlHistory.getActive();i=n.pageUrl,e.extend(u,{role:n.role,transition:n.transition,reverse:t})}})}i?(i=typeof i=="string"&&!v.isPath(i)?v.makeUrlAbsolute("#"+i,N):i,i===v.makeUrlAbsolute("#"+g.initialDst,N)&&g.stack.length&&g.stack[0].url!==g.initialDst.replace(S,"")&&(i=e.mobile.firstPage),e.mobile.changePage(i,u)):e.mobile.changePage(e.mobile.firstPage,u)},h.bind("hashchange",function(t,n){e.mobile._handleHashChange(v.parseLocation().hash)}),e(n).bind("pageshow",u),e(t).bind("throttledresize",u)})}(e),function(e,t){var i={},s=i,o=e(t),u=e.mobile.path.parseLocation(),a=e.Deferred(),f=e.Deferred();e(n).ready(e.proxy(f,"resolve")),e(n).one("mobileinit",e.proxy(a,"resolve")),e.extend(i,{initialFilePath:function(){return u.pathname+u.search}(),hashChangeTimeout:200,hashChangeEnableTimer:r,initialHref:u.hrefNoHash,state:function(){return{hash:e.mobile.path.parseLocation().hash||"#"+s.initialFilePath,title:n.title,initialHref:s.initialHref}},resetUIKeys:function(t){var n=e.mobile.dialogHashKey,r="&"+e.mobile.subPageUrlKey,i=t.indexOf(n);return i>-1?t=t.slice(0,i)+"#"+t.slice(i):t.indexOf(r)>-1&&(t=t.split(r).join("#"+r)),t},nextHashChangePrevented:function(t){e.mobile.urlHistory.ignoreNextHashChange=t,s.onHashChangeDisabled=t},onHashChange:function(t){if(s.onHashChangeDisabled)return;var r,i,o=e.mobile.path.parseLocation().hash,u=e.mobile.path.isPath(o),a=u?e.mobile.path.getLocation():e.mobile.getDocumentUrl();o=u?o.replace("#",""):o,i=s.state(),r=e.mobile.path.makeUrlAbsolute(o,a),u&&(r=s.resetUIKeys(r)),history.replaceState(i,n.title,r)},onPopState:function(t){var n=t.originalEvent.state,r,i,o;n&&(clearTimeout(s.hashChangeEnableTimer),s.nextHashChangePrevented(!1),e.mobile._handleHashChange(n.hash),s.nextHashChangePrevented(!0),s.hashChangeEnableTimer=setTimeout(function(){s.nextHashChangePrevented(!1)},s.hashChangeTimeout))},init:function(){o.bind("hashchange",s.onHashChange),o.bind("popstate",s.onPopState),location.hash===""&&history.replaceState(s.state(),n.title,e.mobile.path.getLocation())}}),e.when(f,a,e.mobile.navreadyDeferred).done(function(){e.mobile.pushStateEnabled&&e.support.pushState&&i.init()})}(e,this),function(e,t,n){e.mobile.transitionFallbacks.flip="fade"}(e,this),function(e,t,n){e.mobile.transitionFallbacks.flow="fade"}(e,this),function(e,t,n){e.mobile.transitionFallbacks.pop="fade"}(e,this),function(e,t,n){e.mobile.transitionHandlers.slide=e.mobile.transitionHandlers.simultaneous,e.mobile.transitionFallbacks.slide="fade"}(e,this),function(e,t,n){e.mobile.transitionFallbacks.slidedown="fade"}(e,this),function(e,t,n){e.mobile.transitionFallbacks.slidefade="fade"}(e,this),function(e,t,n){e.mobile.transitionFallbacks.slideup="fade"}(e,this),function(e,t,n){e.mobile.transitionFallbacks.turn="fade"}(e,this),function(e,t){e.mobile.page.prototype.options.degradeInputs={color:!1,date:!1,datetime:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:"number",search:"text",tel:!1,time:!1,url:!1,week:!1},e(n).bind("pagecreate create",function(t){var n=e.mobile.closestPageData(e(t.target)),r;if(!n)return;r=n.options,e(t.target).find("input").not(n.keepNativeSelector()).each(function(){var t=e(this),n=this.getAttribute("type"),i=r.degradeInputs[n]||"text";if(r.degradeInputs[n]){var s=e("<div>").html(t.clone()).html(),o=s.indexOf(" type=")>-1,u=o?/\s+type=["']?\w+['"]?/:/\/?>/,f=' type="'+i+'" data-'+e.mobile.ns+'type="'+n+'"'+(o?"":">");t.replaceWith(s.replace(u,f))}})})}(e),function(e,t,r){e.widget("mobile.dialog",e.mobile.widget,{options:{closeBtnText:"Close",overlayTheme:"a",initSelector:":jqmData(role='dialog')"},_create:function(){var t=this,n=this.element,r=e("<a href='#' data-"+e.mobile.ns+"icon='delete' data-"+e.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>"),i=e("<div/>",{role:"dialog","class":"ui-dialog-contain ui-corner-all ui-overlay-shadow"});n.addClass("ui-dialog ui-overlay-"+this.options.overlayTheme),n.wrapInner(i).children().find(":jqmData(role='header')").prepend(r).end().children(":first-child").addClass("ui-corner-top").end().children(":last-child").addClass("ui-corner-bottom"),r.bind("click",function(){t.close()}),n.bind("vclick submit",function(t){var n=e(t.target).closest(t.type==="vclick"?"a":"form"),r;n.length&&!n.jqmData("transition")&&(r=e.mobile.urlHistory.getActive()||{},n.attr("data-"+e.mobile.ns+"transition",r.transition||e.mobile.defaultDialogTransition).attr("data-"+e.mobile.ns+"direction","reverse"))}).bind("pagehide",function(t,n){e(this).find("."+e.mobile.activeBtnClass).not(".ui-slider-bg").removeClass(e.mobile.activeBtnClass)}).bind("pagebeforeshow",function(){t._isCloseable=!0,t.options.overlayTheme&&t.element.page("removeContainerBackground").page("setContainerBackground",t.options.overlayTheme)})},close:function(){var n;this._isCloseable&&(this._isCloseable=!1,e.mobile.hashListeningEnabled?t.history.back():(n=e.mobile.urlHistory.getPrev().url,e.mobile.path.isPath(n)||(n=e.mobile.path.makeUrlAbsolute("#"+n)),e.mobile.changePage(n,{changeHash:!1,fromHashChange:!0})))}}),e(n).delegate(e.mobile.dialog.prototype.options.initSelector,"pagecreate",function(){e.mobile.dialog.prototype.enhance(this)})}(e,this),function(e,t){e.mobile.page.prototype.options.backBtnText="Back",e.mobile.page.prototype.options.addBackBtn=!1,e.mobile.page.prototype.options.backBtnTheme=null,e.mobile.page.prototype.options.headerTheme="a",e.mobile.page.prototype.options.footerTheme="a",e.mobile.page.prototype.options.contentTheme=null,e(n).bind("pagecreate",function(t){var n=e(t.target),r=n.data("page").options,i=n.jqmData("role"),s=r.theme;e(":jqmData(role='header'), :jqmData(role='footer'), :jqmData(role='content')",n).jqmEnhanceable().each(function(){var t=e(this),o=t.jqmData("role"),u=t.jqmData("theme"),l=u||r.contentTheme||i==="dialog"&&s,h,p,v,m;t.addClass("ui-"+o);if(o==="header"||o==="footer"){var g=u||(o==="header"?r.headerTheme:r.footerTheme)||s;t.addClass("ui-bar-"+g).attr("role",o==="header"?"banner":"contentinfo"),o==="header"&&(h=t.children("a, button"),p=h.hasClass("ui-btn-left"),v=h.hasClass("ui-btn-right"),p=p||h.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length,v=v||h.eq(1).addClass("ui-btn-right").length),r.addBackBtn&&o==="header"&&e(".ui-page").length>1&&n.jqmData("url")!==e.mobile.path.stripHash(location.hash)&&!p&&(m=e("<a href='javascript:void(0);' class='ui-btn-left' data-"+e.mobile.ns+"rel='back' data-"+e.mobile.ns+"icon='arrow-l'>"+r.backBtnText+"</a>").attr("data-"+e.mobile.ns+"theme",r.backBtnTheme||g).prependTo(t)),t.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading","aria-level":"1"})}else o==="content"&&(l&&t.addClass("ui-body-"+l),t.attr("role","main"))})})}(e),function(e,t){e.fn.fieldcontain=function(e){return this.addClass("ui-field-contain ui-body ui-br").contents().filter(function(){return this.nodeType===3&&!/\S/.test(this.nodeValue)}).remove()},e(n).bind("pagecreate create",function(t){e(":jqmData(role='fieldcontain')",t.target).jqmEnhanceable().fieldcontain()})}(e),function(e,t){e.fn.grid=function(t){return this.each(function(){var n=e(this),r=e.extend({grid:null},t),i=n.children(),s={solo:1,a:2,b:3,c:4,d:5},o=r.grid,u;if(!o)if(i.length<=5)for(var f in s)s[f]===i.length&&(o=f);else o="a",n.addClass("ui-grid-duo");u=s[o],n.addClass("ui-grid-"+o),i.filter(":nth-child("+u+"n+1)").addClass("ui-block-a"),u>1&&i.filter(":nth-child("+u+"n+2)").addClass("ui-block-b"),u>2&&i.filter(":nth-child("+u+"n+3)").addClass("ui-block-c"),u>3&&i.filter(":nth-child("+u+"n+4)").addClass("ui-block-d"),u>4&&i.filter(":nth-child("+u+"n+5)").addClass("ui-block-e")})}}(e),function(e,t){e(n).bind("pagecreate create",function(t){e(":jqmData(role='nojs')",t.target).addClass("ui-nojs")})}(e),function(e,t){function r(e){var t;while(e){t=typeof e.className=="string"&&e.className+" ";if(t&&t.indexOf("ui-btn ")>-1&&t.indexOf("ui-disabled ")<0)break;e=e.parentNode}return e}e.fn.buttonMarkup=function(r){var s=this,o=function(t,n){l.setAttribute("data-"+e.mobile.ns+t,n),f.jqmData(t,n)};r=r&&e.type(r)==="object"?r:{};for(var u=0;u<s.length;u++){var f=s.eq(u),l=f[0],h=e.extend({},e.fn.buttonMarkup.defaults,{icon:r.icon!==t?r.icon:f.jqmData("icon"),iconpos:r.iconpos!==t?r.iconpos:f.jqmData("iconpos"),theme:r.theme!==t?r.theme:f.jqmData("theme")||e.mobile.getInheritedTheme(f,"c"),inline:r.inline!==t?r.inline:f.jqmData("inline"),shadow:r.shadow!==t?r.shadow:f.jqmData("shadow"),corners:r.corners!==t?r.corners:f.jqmData("corners"),iconshadow:r.iconshadow!==t?r.iconshadow:f.jqmData("iconshadow"),mini:r.mini!==t?r.mini:f.jqmData("mini")},r),p="ui-btn-inner",d="ui-btn-text",v,m,g,y,w,E;e.each(h,o),f.jqmData("rel")==="popup"&&f.attr("href")&&(l.setAttribute("aria-haspopup",!0),l.setAttribute("aria-owns",l.getAttribute("href"))),E=e.data(l.tagName==="INPUT"||l.tagName==="BUTTON"?l.parentNode:l,"buttonElements"),E?(l=E.outer,f=e(l),g=E.inner,y=E.text,e(E.icon).remove(),E.icon=null):(g=n.createElement(h.wrapperEls),y=n.createElement(h.wrapperEls)),w=h.icon?n.createElement("span"):null,i&&!E&&i(),h.theme||(h.theme=e.mobile.getInheritedTheme(f,"c")),v="ui-btn ui-btn-up-"+h.theme,v+=h.shadow?" ui-shadow":"",v+=h.corners?" ui-btn-corner-all":"",h.mini!==t&&(v+=h.mini===!0?" ui-mini":" ui-fullsize"),h.inline!==t&&(v+=h.inline===!0?" ui-btn-inline":" ui-btn-block"),h.icon&&(h.icon="ui-icon-"+h.icon,h.iconpos=h.iconpos||"left",m="ui-icon "+h.icon,h.iconshadow&&(m+=" ui-icon-shadow")),h.iconpos&&(v+=" ui-btn-icon-"+h.iconpos,h.iconpos==="notext"&&!f.attr("title")&&f.attr("title",f.getEncodedText())),p+=h.corners?" ui-btn-corner-all":"",h.iconpos&&h.iconpos==="notext"&&!f.attr("title")&&f.attr("title",f.getEncodedText()),E&&f.removeClass(E.bcls||""),f.removeClass("ui-link").addClass(v),g.className=p,y.className=d,E||g.appendChild(y);if(w){w.className=m;if(!E||!E.icon)w.innerHTML="&#160;",g.appendChild(w)}while(l.firstChild&&!E)y.appendChild(l.firstChild);E||l.appendChild(g),E={bcls:v,outer:l,inner:g,text:y,icon:w},e.data(l,"buttonElements",E),e.data(g,"buttonElements",E),e.data(y,"buttonElements",E),w&&e.data(w,"buttonElements",E)}return this},e.fn.buttonMarkup.defaults={corners:!0,shadow:!0,iconshadow:!0,wrapperEls:"span"};var i=function(){var t=e.mobile.buttonMarkup.hoverDelay,s,o;e(n).bind({"vmousedown vmousecancel vmouseup vmouseover vmouseout focus blur scrollstart":function(n){var i,u=e(r(n.target)),l=n.originalEvent&&/^touch/.test(n.originalEvent.type),c=n.type;if(u.length){i=u.attr("data-"+e.mobile.ns+"theme");if(c==="vmousedown")l?s=setTimeout(function(){u.removeClass("ui-btn-up-"+i).addClass("ui-btn-down-"+i)},t):u.removeClass("ui-btn-up-"+i).addClass("ui-btn-down-"+i);else if(c==="vmousecancel"||c==="vmouseup")u.removeClass("ui-btn-down-"+i).addClass("ui-btn-up-"+i);else if(c==="vmouseover"||c==="focus")l?o=setTimeout(function(){u.removeClass("ui-btn-up-"+i).addClass("ui-btn-hover-"+i)},t):u.removeClass("ui-btn-up-"+i).addClass("ui-btn-hover-"+i);else if(c==="vmouseout"||c==="blur"||c==="scrollstart")u.removeClass("ui-btn-hover-"+i+" ui-btn-down-"+i).addClass("ui-btn-up-"+i),s&&clearTimeout(s),o&&clearTimeout(o)}},"focusin focus":function(t){e(r(t.target)).addClass(e.mobile.focusClass)},"focusout blur":function(t){e(r(t.target)).removeClass(e.mobile.focusClass)}}),i=null};e(n).bind("pagecreate create",function(t){e(":jqmData(role='button'), .ui-bar > a, .ui-header > a, .ui-footer > a, .ui-bar > :jqmData(role='controlgroup') > a",t.target).jqmEnhanceable().not("button, input, .ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").buttonMarkup()})}(e),function(e,t){e.widget("mobile.collapsible",e.mobile.widget,{options:{expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsed:!0,heading:"h1,h2,h3,h4,h5,h6,legend",theme:null,contentTheme:null,inset:!0,mini:!1,initSelector:":jqmData(role='collapsible')"},_create:function(){var n=this.element,r=this.options,i=n.addClass("ui-collapsible"),s=n.children(r.heading).first(),o=n.jqmData("collapsed-icon")||r.collapsedIcon,u=n.jqmData("expanded-icon")||r.expandedIcon,f=i.wrapInner("<div class='ui-collapsible-content'></div>").children(".ui-collapsible-content"),l=n.closest(":jqmData(role='collapsible-set')").addClass("ui-collapsible-set");s.is("legend")&&(s=e("<div role='heading'>"+s.html()+"</div>").insertBefore(s),s.next().remove()),l.length?(r.theme||(r.theme=l.jqmData("theme")||e.mobile.getInheritedTheme(l,"c")),r.contentTheme||(r.contentTheme=l.jqmData("content-theme")),r.collapsedIcon||(r.collapsedIcon=l.jqmData("collapsed-icon")),r.expandedIcon||(r.expandedIcon=l.jqmData("expanded-icon")),r.iconPos||(r.iconPos=l.jqmData("iconpos")),l.jqmData("inset")!==t?r.inset=l.jqmData("inset"):r.inset=!0,r.mini||(r.mini=l.jqmData("mini"))):r.theme||(r.theme=e.mobile.getInheritedTheme(n,"c")),!r.inset||i.addClass("ui-collapsible-inset"),f.addClass(r.contentTheme?"ui-body-"+r.contentTheme:""),o=n.jqmData("collapsed-icon")||r.collapsedIcon||"plus",u=n.jqmData("expanded-icon")||r.expandedIcon||"minus",s.insertBefore(f).addClass("ui-collapsible-heading").append("<span class='ui-collapsible-heading-status'></span>").wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().buttonMarkup({shadow:!1,corners:!1,iconpos:n.jqmData("iconpos")||r.iconPos||"left",icon:o,mini:r.mini,theme:r.theme}),!r.inset||s.find("a").first().add(".ui-btn-inner",n).addClass("ui-corner-top ui-corner-bottom"),i.bind("expand collapse",function(t){if(!t.isDefaultPrevented()){var n=e(this),c=t.type==="collapse",p=r.contentTheme;t.preventDefault(),s.toggleClass("ui-collapsible-heading-collapsed",c).find(".ui-collapsible-heading-status").text(c?r.expandCueText:r.collapseCueText).end().find(".ui-icon").toggleClass("ui-icon-"+u,!c).toggleClass("ui-icon-"+o,c||u===o).end().find("a").first().removeClass(e.mobile.activeBtnClass),n.toggleClass("ui-collapsible-collapsed",c),f.toggleClass("ui-collapsible-content-collapsed",c).attr("aria-hidden",c),p&&!!r.inset&&(!l.length||i.jqmData("collapsible-last"))&&(s.find("a").first().add(s.find(".ui-btn-inner")).toggleClass("ui-corner-bottom",c),f.toggleClass("ui-corner-bottom",!c)),f.trigger("updatelayout")}}).trigger(r.collapsed?"collapse":"expand"),s.bind("tap",function(t){s.find("a").first().addClass(e.mobile.activeBtnClass)}).bind("click",function(e){var t=s.is(".ui-collapsible-heading-collapsed")?"expand":"collapse";i.trigger(t),e.preventDefault(),e.stopPropagation()})}}),e(n).bind("pagecreate create",function(t){e.mobile.collapsible.prototype.enhanceWithin(t.target)})}(e),function(e,t){e.widget("mobile.collapsibleset",e.mobile.widget,{options:{initSelector:":jqmData(role='collapsible-set')"},_create:function(){var n=this.element.addClass("ui-collapsible-set"),r=this.options;r.theme||(r.theme=e.mobile.getInheritedTheme(n,"c")),r.contentTheme||(r.contentTheme=n.jqmData("content-theme")),n.jqmData("inset")!==t&&(r.inset=n.jqmData("inset")),r.inset=r.inset!==t?r.inset:!0,n.jqmData("collapsiblebound")||n.jqmData("collapsiblebound",!0).bind("expand collapse",function(t){var n=t.type==="collapse",i=e(t.target).closest(".ui-collapsible"),s=i.data("collapsible");i.jqmData("collapsible-last")&&!!r.inset&&(i.find(".ui-collapsible-heading").first().find("a").first().toggleClass("ui-corner-bottom",n).find(".ui-btn-inner").toggleClass("ui-corner-bottom",n),i.find(".ui-collapsible-content").toggleClass("ui-corner-bottom",!n))}).bind("expand",function(t){var n=e(t.target).closest(".ui-collapsible");n.parent().is(":jqmData(role='collapsible-set')")&&n.siblings(".ui-collapsible").trigger("collapse")})},_init:function(){var e=this.element,t=e.children(":jqmData(role='collapsible')"),n=t.filter(":jqmData(collapsed='false')");this.refresh(),n.trigger("expand")},refresh:function(){var t=this.element,n=this.options,r=t.children(":jqmData(role='collapsible')");e.mobile.collapsible.prototype.enhance(r.not(".ui-collapsible")),!n.inset||(r.each(function(){e(this).jqmRemoveData("collapsible-last").find(".ui-collapsible-heading").find("a").first().removeClass("ui-corner-top ui-corner-bottom").find(".ui-btn-inner").removeClass("ui-corner-top ui-corner-bottom")}),r.first().find("a").first().addClass("ui-corner-top").find(".ui-btn-inner").addClass("ui-corner-top"),r.last().jqmData("collapsible-last",!0).find("a").first().addClass("ui-corner-bottom").find(".ui-btn-inner").addClass("ui-corner-bottom"))}}),e(n).bind("pagecreate create",function(t){e.mobile.collapsibleset.prototype.enhanceWithin(t.target)})}(e),function(e,t){e.widget("mobile.navbar",e.mobile.widget,{options:{iconpos:"top",grid:null,initSelector:":jqmData(role='navbar')"},_create:function(){var n=this.element,r=n.find("a"),i=r.filter(":jqmData(icon)").length?this.options.iconpos:t;n.addClass("ui-navbar ui-mini").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid}),r.buttonMarkup({corners:!1,shadow:!1,inline:!0,iconpos:i}),n.delegate("a","vclick",function(t){e(t.target).hasClass("ui-disabled")||(r.removeClass(e.mobile.activeBtnClass),e(this).addClass(e.mobile.activeBtnClass))}),n.closest(".ui-page").bind("pagebeforeshow",function(){r.filter(".ui-state-persist").addClass(e.mobile.activeBtnClass)})}}),e(n).bind("pagecreate create",function(t){e.mobile.navbar.prototype.enhanceWithin(t.target)})}(e),function(e,t){var r={};e.widget("mobile.listview",e.mobile.widget,{options:{theme:null,countTheme:"c",headerTheme:"b",dividerTheme:"b",splitIcon:"arrow-r",splitTheme:"b",inset:!1,initSelector:":jqmData(role='listview')"},_create:function(){var e=this,t="";t+=e.options.inset?" ui-listview-inset ui-corner-all ui-shadow ":"",e.element.addClass(function(e,n){return n+" ui-listview "+t}),e.refresh(!0)},_removeCorners:function(e,t){var n="ui-corner-top ui-corner-tr ui-corner-tl",r="ui-corner-bottom ui-corner-br ui-corner-bl";e=e.add(e.find(".ui-btn-inner, .ui-li-link-alt, .ui-li-thumb")),t==="top"?e.removeClass(n):t==="bottom"?e.removeClass(r):e.removeClass(n+" "+r)},_refreshCorners:function(e){var t,n,r,i;t=this.element.children("li"),n=e||t.filter(":visible").length===0?t.not(".ui-screen-hidden"):t.filter(":visible"),t.filter(".ui-li-last").removeClass("ui-li-last"),this.options.inset?(this._removeCorners(t),r=n.first().addClass("ui-corner-top"),r.add(r.find(".ui-btn-inner").not(".ui-li-link-alt span:first-child")).addClass("ui-corner-top").end().find(".ui-li-link-alt, .ui-li-link-alt span:first-child").addClass("ui-corner-tr").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-tl"),i=n.last().addClass("ui-corner-bottom ui-li-last"),i.add(i.find(".ui-btn-inner")).find(".ui-li-link-alt").addClass("ui-corner-br").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-bl")):n.last().addClass("ui-li-last"),e||this.element.trigger("updatelayout")},_findFirstElementByTagName:function(e,t,n,r){var i={};i[n]=i[r]=!0;while(e){if(i[e.nodeName])return e;e=e[t]}return null},_getChildrenByTagName:function(t,n,r){var i=[],s={};s[n]=s[r]=!0,t=t.firstChild;while(t)s[t.nodeName]&&i.push(t),t=t.nextSibling;return e(i)},_addThumbClasses:function(t){var n,r,i=t.length;for(n=0;n<i;n++)r=e(this._findFirstElementByTagName(t[n].firstChild,"nextSibling","img","IMG")),r.length&&(r.addClass("ui-li-thumb"),e(this._findFirstElementByTagName(r[0].parentNode,"parentNode","li","LI")).addClass(r.is(".ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb"))},refresh:function(t){this.parentPage=this.element.closest(".ui-page"),this._createSubPages();var r=this.options,i=this.element,s=this,o=i.jqmData("dividertheme")||r.dividerTheme,u=i.jqmData("splittheme"),f=i.jqmData("spliticon"),l=this._getChildrenByTagName(i[0],"li","LI"),h=!!e.nodeName(i[0],"ol"),p=!e.support.cssPseudoElement,d=i.attr("start"),v={},m,g,y,b,w,E,S,x,T,N,C,k,L,A;h&&p&&i.find(".ui-li-dec").remove(),h&&(d||d===0?p?S=parseFloat(d):(x=parseFloat(d)-1,i.css("counter-reset","listnumbering "+x)):p&&(S=1)),r.theme||(r.theme=e.mobile.getInheritedTheme(this.element,"c"));for(var O=0,M=l.length;O<M;O++){m=l.eq(O),g="ui-li";if(t||!m.hasClass("ui-li")){y=m.jqmData("theme")||r.theme,b=this._getChildrenByTagName(m[0],"a","A");var _=m.jqmData("role")==="list-divider";b.length&&!_?(C=m.jqmData("icon"),m.buttonMarkup({wrapperEls:"div",shadow:!1,corners:!1,iconpos:"right",icon:b.length>1||C===!1?!1:C||"arrow-r",theme:y}),C!==!1&&b.length===1&&m.addClass("ui-li-has-arrow"),b.first().removeClass("ui-link").addClass("ui-link-inherit"),b.length>1&&(g+=" ui-li-has-alt",w=b.last(),E=u||w.jqmData("theme")||r.splitTheme,A=w.jqmData("icon"),w.appendTo(m).attr("title",w.getEncodedText()).addClass("ui-li-link-alt").empty().buttonMarkup({shadow:!1,corners:!1,theme:y,icon:!1,iconpos:"notext"}).find(".ui-btn-inner").append(e(n.createElement("span")).buttonMarkup({shadow:!0,corners:!0,theme:E,iconpos:"notext",icon:A||C||f||r.splitIcon})))):_?(g+=" ui-li-divider ui-bar-"+o,m.attr("role","heading"),h&&(d||d===0?p?S=parseFloat(d):(T=parseFloat(d)-1,m.css("counter-reset","listnumbering "+T)):p&&(S=1))):g+=" ui-li-static ui-btn-up-"+y}h&&p&&g.indexOf("ui-li-divider")<0&&(N=g.indexOf("ui-li-static")>0?m:m.find(".ui-link-inherit"),N.addClass("ui-li-jsnumbering").prepend("<span class='ui-li-dec'>"+S++ +". </span>")),v[g]||(v[g]=[]),v[g].push(m[0])}for(g in v)e(v[g]).addClass(g).children(".ui-btn-inner").addClass(g);i.find("h1, h2, h3, h4, h5, h6").addClass("ui-li-heading").end().find("p, dl").addClass("ui-li-desc").end().find(".ui-li-aside").each(function(){var t=e(this);t.prependTo(t.parent())}).end().find(".ui-li-count").each(function(){e(this).closest("li").addClass("ui-li-has-count")}).addClass("ui-btn-up-"+(i.jqmData("counttheme")||this.options.countTheme)+" ui-btn-corner-all"),this._addThumbClasses(l),this._addThumbClasses(i.find(".ui-link-inherit")),this._refreshCorners(t),this._trigger("afterrefresh")},_idStringEscape:function(e){return e.replace(/[^a-zA-Z0-9]/g,"-")},_createSubPages:function(){var t=this.element,n=t.closest(".ui-page"),i=n.jqmData("url"),s=i||n[0][e.expando],o=t.attr("id"),u=this.options,f="data-"+e.mobile.ns,l=this,c=n.find(":jqmData(role='footer')").jqmData("id"),h;typeof r[s]=="undefined"&&(r[s]=-1),o=o||++r[s],e(t.find("li>ul, li>ol").toArray().reverse()).each(function(n){var r=this,s=e(this),l=s.attr("id")||o+"-"+n,p=s.parent(),d=e(s.prevAll().toArray().reverse()),v=d.length?d:e("<span>"+e.trim(p.contents()[0].nodeValue)+"</span>"),m=v.first().getEncodedText(),y=(i||"")+"&"+e.mobile.subPageUrlKey+"="+l,w=s.jqmData("theme")||u.theme,E=s.jqmData("counttheme")||t.jqmData("counttheme")||u.countTheme,S,x;h=!0,S=s.detach().wrap("<div "+f+"role='page' "+f+"url='"+y+"' "+f+"theme='"+w+"' "+f+"count-theme='"+E+"'><div "+f+"role='content'></div></div>").parent().before("<div "+f+"role='header' "+f+"theme='"+u.headerTheme+"'><div class='ui-title'>"+m+"</div></div>").after(c?e("<div "+f+"role='footer' "+f+"id='"+c+"'>"):"").parent().appendTo(e.mobile.pageContainer),S.page(),x=p.find("a:first"),x.length||(x=e("<a/>").html(v||m).prependTo(p.empty())),x.attr("href","#"+y)}).listview();if(h&&n.is(":jqmData(external-page='true')")&&n.data("page").options.domCache===!1){var p=function(t,r){var s=r.nextPage,o,u=new e.Event("pageremove");r.nextPage&&(o=s.jqmData("url"),o.indexOf(i+"&"+e.mobile.subPageUrlKey)!==0&&(l.childPages().remove(),n.trigger(u),u.isDefaultPrevented()||n.removeWithDependents()))};n.unbind("pagehide.remove").bind("pagehide.remove",p)}},childPages:function(){var t=this.parentPage.jqmData("url");return e(":jqmData(url^='"+t+"&"+e.mobile.subPageUrlKey+"')")}}),e(n).bind("pagecreate create",function(t){e.mobile.listview.prototype.enhanceWithin(t.target)})}(e),function(e,t){e.mobile.listview.prototype.options.autodividers=!1,e.mobile.listview.prototype.options.autodividersSelector=function(e){var t=e.text()||null;return t?(t=t.slice(0,1).toUpperCase(),t):null},e(n).delegate("ul,ol","listviewcreate",function(){var t=e(this),r=t.data("listview");if(!r||!r.options.autodividers)return;var i=function(){t.find("li:jqmData(role='list-divider')").remove();var i=t.find("li"),s=null,o,u;for(var f=0;f<i.length;f++){o=i[f],u=r.options.autodividersSelector(e(o));if(u&&s!==u){var l=n.createElement("li");l.appendChild(n.createTextNode(u)),l.setAttribute("data-"+e.mobile.ns+"role","list-divider"),o.parentNode.insertBefore(l,o)}s=u}},s=function(){t.unbind("listviewafterrefresh",s),i(),r.refresh(),t.bind("listviewafterrefresh",s)};s()})}(e),function(e,t){e.widget("mobile.checkboxradio",e.mobile.widget,{options:{theme:null,initSelector:"input[type='checkbox'],input[type='radio']"},_create:function(){var r=this,i=this.element,s=function(e,t){return e.jqmData(t)||e.closest("form, fieldset").jqmData(t)},o=e(i).closest("label"),u=o.length?o:e(i).closest("form, fieldset, :jqmData(role='page'), :jqmData(role='dialog')").find("label").filter("[for='"+i[0].id+"']").first(),f=i[0].type,l=s(i,"mini"),h=f+"-on",p=f+"-off",d=i.parents(":jqmData(type='horizontal')").length?t:p,v=s(i,"iconpos"),m=d?"":" "+e.mobile.activeBtnClass,g="ui-"+h+m,y="ui-"+p,w="ui-icon-"+h,E="ui-icon-"+p;if(f!=="checkbox"&&f!=="radio")return;e.extend(this,{label:u,inputtype:f,checkedClass:g,uncheckedClass:y,checkedicon:w,uncheckedicon:E}),this.options.theme||(this.options.theme=e.mobile.getInheritedTheme(this.element,"c")),u.buttonMarkup({theme:this.options.theme,icon:d,shadow:!1,mini:l,iconpos:v});var S=n.createElement("div");S.className="ui-"+f,i.add(u).wrapAll(S),u.bind({vmouseover:function(t){e(this).parent().is(".ui-disabled")&&t.stopPropagation()},vclick:function(e){if(i.is(":disabled")){e.preventDefault();return}return r._cacheVals(),i.prop("checked",f==="radio"&&!0||!i.prop("checked")),i.triggerHandler("click"),r._getInputSet().not(i).prop("checked",!1),r._updateAll(),!1}}),i.bind({vmousedown:function(){r._cacheVals()},vclick:function(){var t=e(this);t.is(":checked")?(t.prop("checked",!0),r._getInputSet().not(t).prop("checked",!1)):t.prop("checked",!1),r._updateAll()},focus:function(){u.addClass(e.mobile.focusClass)},blur:function(){u.removeClass(e.mobile.focusClass)}}),this.refresh()},_cacheVals:function(){this._getInputSet().each(function(){e(this).jqmData("cacheVal",this.checked)})},_getInputSet:function(){return this.inputtype==="checkbox"?this.element:this.element.closest("form, fieldset, :jqmData(role='page'), :jqmData(role='dialog')").find("input[name='"+this.element[0].name+"'][type='"+this.inputtype+"']")},_updateAll:function(){var t=this;this._getInputSet().each(function(){var n=e(this);(this.checked||t.inputtype==="checkbox")&&n.trigger("change")}).checkboxradio("refresh")},refresh:function(){var e=this.element[0],t=this.label,n=t.find(".ui-icon");e.checked?(t.addClass(this.checkedClass).removeClass(this.uncheckedClass),n.addClass(this.checkedicon).removeClass(this.uncheckedicon)):(t.removeClass(this.checkedClass).addClass(this.uncheckedClass),n.removeClass(this.checkedicon).addClass(this.uncheckedicon)),e.disabled?this.disable():this.enable()},disable:function(){this.element.prop("disabled",!0).parent().addClass("ui-disabled")},enable:function(){this.element.prop("disabled",!1).parent().removeClass("ui-disabled")}}),e(n).bind("pagecreate create",function(t){e.mobile.checkboxradio.prototype.enhanceWithin(t.target,!0)})}(e),function(e,t){e.widget("mobile.button",e.mobile.widget,{options:{theme:null,icon:null,iconpos:null,corners:!0,shadow:!0,iconshadow:!0,initSelector:"button, [type='button'], [type='submit'], [type='reset']"},_create:function(){var r=this.element,i,s=this.options,o,u,f=s.inline||r.jqmData("inline"),l=s.mini||r.jqmData("mini"),h="",p;if(r[0].tagName==="A"){r.hasClass("ui-btn")||r.buttonMarkup();return}this.options.theme||(this.options.theme=e.mobile.getInheritedTheme(this.element,"c")),!~r[0].className.indexOf("ui-btn-left")||(h="ui-btn-left"),!~r[0].className.indexOf("ui-btn-right")||(h="ui-btn-right");if(r.attr("type")==="submit"||r.attr("type")==="reset")h?h+=" ui-submit":h="ui-submit";e("label[for='"+r.attr("id")+"']").addClass("ui-submit"),this.button=e("<div></div>")[r.html()?"html":"text"](r.html()||r.val()).insertBefore(r).buttonMarkup({theme:s.theme,icon:s.icon,iconpos:s.iconpos,inline:f,corners:s.corners,shadow:s.shadow,iconshadow:s.iconshadow,mini:l}).addClass(h).append(r.addClass("ui-btn-hidden")),i=this.button,o=r.attr("type"),u=r.attr("name"),o!=="button"&&o!=="reset"&&u&&r.bind("vclick",function(){p===t&&(p=e("<input>",{type:"hidden",name:r.attr("name"),value:r.attr("value")}).insertBefore(r),e(n).one("submit",function(){p.remove(),p=t}))}),r.bind({focus:function(){i.addClass(e.mobile.focusClass)},blur:function(){i.removeClass(e.mobile.focusClass)}}),this.refresh()},enable:function(){return this.element.attr("disabled",!1),this.button.removeClass("ui-disabled").attr("aria-disabled",!1),this._setOption("disabled",!1)},disable:function(){return this.element.attr("disabled",!0),this.button.addClass("ui-disabled").attr("aria-disabled",!0),this._setOption("disabled",!0)},refresh:function(){var t=this.element;t.prop("disabled")?this.disable():this.enable(),e(this.button.data("buttonElements").text)[t.html()?"html":"text"](t.html()||t.val())}}),e(n).bind("pagecreate create",function(t){e.mobile.button.prototype.enhanceWithin(t.target,!0)})}(e),function(e,t){e.fn.controlgroup=function(t){function n(e,t){e.removeClass("ui-btn-corner-all ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-controlgroup-last ui-shadow").eq(0).addClass(t[0]).end().last().addClass(t[1]).addClass("ui-controlgroup-last")}return this.each(function(){var r=e(this),i=e.extend({direction:r.jqmData("type")||"vertical",shadow:!1,excludeInvisible:!0,mini:r.jqmData("mini")},t),s=r.children("legend"),o=r.children(".ui-controlgroup-label"),u=r.children(".ui-controlgroup-controls"),f=i.direction==="horizontal"?["ui-corner-left","ui-corner-right"]:["ui-corner-top","ui-corner-bottom"],l=r.find("input").first().attr("type");u.length&&u.contents().unwrap(),r.wrapInner("<div class='ui-controlgroup-controls'></div>"),s.length?(e("<div role='heading' class='ui-controlgroup-label'>"+s.html()+"</div>").insertBefore(r.children(0)),s.remove()):o.length&&r.prepend(o),r.addClass("ui-corner-all ui-controlgroup ui-controlgroup-"+i.direction),n(r.find(".ui-btn"+(i.excludeInvisible?":visible":"")).not(".ui-slider-handle"),f),n(r.find(".ui-btn-inner"),f),i.shadow&&r.addClass("ui-shadow"),i.mini&&r.addClass("ui-mini")})}}(e),function(e,t){e(n).bind("pagecreate create",function(t){e(t.target).find("a").jqmEnhanceable().not(".ui-btn, .ui-link-inherit, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")})}(e),function(e,r){function i(e,t,n,r){var i=r;return e<t?i=n+(e-t)/2:i=Math.min(Math.max(n,r-t/2),n+e-t),i}function s(){var n=e(t);return{x:n.scrollLeft(),y:n.scrollTop(),cx:t.innerWidth||n.width(),cy:t.innerHeight||n.height()}}e.widget("mobile.popup",e.mobile.widget,{options:{theme:null,overlayTheme:null,shadow:!0,corners:!0,transition:"none",positionTo:"origin",tolerance:null,initSelector:":jqmData(role='popup')",closeLinkSelector:"a:jqmData(rel='back')",closeLinkEvents:"click.popup",navigateEvents:"navigate.popup",closeEvents:"navigate.popup pagebeforechange.popup",history:!e.mobile.browser.ie},_eatEventAndClose:function(e){return e.preventDefault(),e.stopImmediatePropagation(),this.close(),!1},_resizeScreen:function(){var e=this._ui.container.outerHeight(!0);this._ui.screen.removeAttr("style"),e>this._ui.screen.height()&&this._ui.screen.height(e)},_handleWindowKeyUp:function(t){if(this._isOpen&&t.keyCode===e.mobile.keyCode.ESCAPE)return this._eatEventAndClose(t)},_maybeRefreshTimeout:function(){var t=s();if(this._resizeData){if(t.x===this._resizeData.winCoords.x&&t.y===this._resizeData.winCoords.y&&t.cx===this._resizeData.winCoords.cx&&t.cy===this._resizeData.winCoords.cy)return!1;clearTimeout(this._resizeData.timeoutId)}return this._resizeData={timeoutId:setTimeout(e.proxy(this,"_resizeTimeout"),200),winCoords:t},!0},_resizeTimeout:function(){this._maybeRefreshTimeout()||(this._trigger("beforeposition"),this._ui.container.removeClass("ui-selectmenu-hidden").offset(this._placementCoords(this._desiredCoords(r,r,"window"))),this._resizeScreen(),this._resizeData=null,this._orientationchangeInProgress=!1)},_handleWindowResize:function(e){this._isOpen&&this._maybeRefreshTimeout()},_handleWindowOrientationchange:function(e){this._orientationchangeInProgress||(this._ui.container.addClass("ui-selectmenu-hidden").removeAttr("style"),this._orientationchangeInProgress=!0)},_create:function(){var n={screen:e("<div class='ui-screen-hidden ui-popup-screen'></div>"),placeholder:e("<div style='display: none;'><!-- placeholder --></div>"),container:e("<div class='ui-popup-container ui-selectmenu-hidden'></div>")},i=this.element.closest(".ui-page"),s=this.element.attr("id"),o=this;i.length===0&&(i=e("body")),this.options.container=this.options.container||e.mobile.pageContainer,i.append(n.screen),n.container.insertAfter(n.screen),n.placeholder.insertAfter(this.element),s&&(n.screen.attr("id",s+"-screen"),n.container.attr("id",s+"-popup"),n.placeholder.html("<!-- placeholder for "+s+" -->")),n.container.append(this.element),this.element.addClass("ui-popup"),e.extend(this,{_page:i,_ui:n,_fallbackTransition:"",_currentTransition:!1,_prereqs:null,_isOpen:!1,_tolerance:null,_resizeData:null,_orientationchangeInProgress:!1,_globalHandlers:[{src:e(t),handler:{orientationchange:e.proxy(this,"_handleWindowOrientationchange"),resize:e.proxy(this,"_handleWindowResize"),keyup:e.proxy(this,"_handleWindowKeyUp")}}]}),e.each(this.options,function(e,t){o.options[e]=r,o._setOption(e,t,!0)}),n.screen.bind("vclick",e.proxy(this,"_eatEventAndClose")),e.each(this._globalHandlers,function(e,t){t.src.bind(t.handler)})},_applyTheme:function(e,t,n){var r=(e.attr("class")||"").split(" "),i=!0,s=null,o,u=String(t);while(r.length>0){s=r.pop(),o=(new RegExp("^ui-"+n+"-([a-z])$")).exec(s);if(o&&o.length>1){s=o[1];break}s=null}t!==s&&(e.removeClass("ui-"+n+"-"+s),t!==null&&t!=="none"&&e.addClass("ui-"+n+"-"+u))},_setTheme:function(e){this._applyTheme(this.element,e,"body")},_setOverlayTheme:function(e){this._applyTheme(this._ui.screen,e,"overlay"),this._isOpen&&this._ui.screen.addClass("in")},_setShadow:function(e){this.element.toggleClass("ui-overlay-shadow",e)},_setCorners:function(e){this.element.toggleClass("ui-corner-all",e)},_applyTransition:function(t){this._ui.container.removeClass(this._fallbackTransition),t&&t!=="none"&&(this._fallbackTransition=e.mobile._maybeDegradeTransition(t),this._ui.container.addClass(this._fallbackTransition))},_setTransition:function(e){this._currentTransition||this._applyTransition(e)},_setTolerance:function(t){var n={t:30,r:15,b:30,l:15};if(t){var r=String(t).split(",");e.each(r,function(e,t){r[e]=parseInt(t,10)});switch(r.length){case 1:isNaN(r[0])||(n.t=n.r=n.b=n.l=r[0]);break;case 2:isNaN(r[0])||(n.t=n.b=r[0]),isNaN(r[1])||(n.l=n.r=r[1]);break;case 4:isNaN(r[0])||(n.t=r[0]),isNaN(r[1])||(n.r=r[1]),isNaN(r[2])||(n.b=r[2]),isNaN(r[3])||(n.l=r[3]);break;default:}}this._tolerance=n},_setOption:function(t,n){var i="_set"+t.charAt(0).toUpperCase()+t.slice(1);this[i]!==r&&this[i](n),t!=="initSelector"&&(e.mobile.widget.prototype._setOption.apply(this,arguments),this.element.attr("data-"+(e.mobile.ns||"")+t.replace(/([A-Z])/,"-$1").toLowerCase(),n))},_placementCoords:function(e){var t=s(),r={x:this._tolerance.l,y:t.y+this._tolerance.t,cx:t.cx-this._tolerance.l-this._tolerance.r,cy:t.cy-this._tolerance.t-this._tolerance.b},o,u;this._ui.container.css("max-width",r.cx),o={cx:this._ui.container.outerWidth(!0),cy:this._ui.container.outerHeight(!0)},u={x:i(r.cx,o.cx,r.x,e.x),y:i(r.cy,o.cy,r.y,e.y)},u.y=Math.max(0,u.y);var a=n.documentElement,l=n.body,h=Math.max(a.clientHeight,l.scrollHeight,l.offsetHeight,a.scrollHeight,a.offsetHeight);return u.y-=Math.min(u.y,Math.max(0,u.y+o.cy-h)),{left:u.x,top:u.y}},_createPrereqs:function(t,n,r){var i=this,s;s={screen:e.Deferred(),container:e.Deferred()},s.screen.then(function(){s===i._prereqs&&t()}),s.container.then(function(){s===i._prereqs&&n()}),e.when(s.screen,s.container).done(function(){s===i._prereqs&&(i._prereqs=null,r())}),i._prereqs=s},_animate:function(t){this._ui.screen.removeClass(t.classToRemove).addClass(t.screenClassToAdd),t.prereqs.screen.resolve(),t.transition&&t.transition!=="none"?(t.applyTransition&&this._applyTransition(t.transition),this._ui.container.animationComplete(e.proxy(t.prereqs.container,"resolve")).addClass(t.containerClassToAdd).removeClass(t.classToRemove)):t.prereqs.container.resolve()},_desiredCoords:function(t,n,r){var i=null,o,u=s();if(r&&r!=="origin")if(r==="window")t=u.cx/2+u.x,n=u.cy/2+u.y;else{try{i=e(r)}catch(l){i=null}i&&(i.filter(":visible"),i.length===0&&(i=null))}i&&(o=i.offset(),t=o.left+i.outerWidth()/2,n=o.top+i.outerHeight()/2);if(e.type(t)!=="number"||isNaN(t))t=u.cx/2+u.x;if(e.type(n)!=="number"||isNaN(n))n=u.cy/2+u.y;return{x:t,y:n}},_openPrereqsComplete:function(){var e=this;e._ui.container.addClass("ui-popup-active"),e._isOpen=!0,e._resizeScreen(),setTimeout(function(){e._ui.container.attr("tabindex","0").focus(),e._trigger("afteropen")})},_open:function(n){var r,i,s=function(){var e=t,n=navigator.userAgent,r=n.match(/AppleWebKit\/([0-9\.]+)/),i=!!r&&r[1],s=n.match(/Android (\d+(?:\.\d+))/),o=!!s&&s[1],u=n.indexOf("Chrome")>-1;return s!==null&&o==="4.0"&&i&&i>534.13&&!u?!0:!1}();e.mobile.popup.active=this,n=n||{},i=n.transition,this._trigger("beforeposition"),r=this._placementCoords(this._desiredCoords(n.x,n.y,n.positionTo||this.options.positionTo||"origin")),this._createPrereqs(e.noop,e.noop,e.proxy(this,"_openPrereqsComplete")),i?(this._currentTransition=i,this._applyTransition(i)):i=this.options.transition,this.options.theme||this._setTheme(this._page.jqmData("theme")||e.mobile.getInheritedTheme(this._page,"c")),this._ui.screen.removeClass("ui-screen-hidden"),this._ui.container.removeClass("ui-selectmenu-hidden").offset(r),this.options.overlayTheme&&s&&this.element.closest(".ui-page").addClass("ui-popup-open"),this._animate({additionalCondition:!0,transition:i,classToRemove:"",screenClassToAdd:"in",containerClassToAdd:"in",applyTransition:!1,prereqs:this._prereqs})},_closePrereqScreen:function(){this._ui.screen.removeClass("out").addClass("ui-screen-hidden")},_closePrereqContainer:function(){this._ui.container.removeClass("reverse out").addClass("ui-selectmenu-hidden").removeAttr("style")},_closePrereqsDone:function(){var t=this,n=t.options;t._ui.container.removeAttr("tabindex"),n.container.unbind(n.closeEvents),t.element.undelegate(n.closeLinkSelector,n.closeLinkEvents),e.mobile.popup.active=r,t._trigger("afterclose")},_close:function(){this._ui.container.removeClass("ui-popup-active"),this._page.removeClass("ui-popup-open"),this._isOpen=!1,this._createPrereqs(e.proxy(this,"_closePrereqScreen"),e.proxy(this,"_closePrereqContainer"),e.proxy(this,"_closePrereqsDone")),this._animate({additionalCondition:this._ui.screen.hasClass("in"),transition:this._currentTransition||this.options.transition,classToRemove:"in",screenClassToAdd:"out",containerClassToAdd:"reverse out",applyTransition:!0,prereqs:this._prereqs})},_destroy:function(){var t=this;t._close(),t._setTheme("none"),t.element.insertAfter(t._ui.placeholder).removeClass("ui-popup ui-overlay-shadow ui-corner-all"),t._ui.screen.remove(),t._ui.container.remove(),t._ui.placeholder.remove(),e.each(t._globalHandlers,function(t,n){e.each(n.handler,function(e,t){n.src.unbind(e,t)})})},_bindContainerClose:function(){var t=this;t.options.container.one(t.options.closeEvents,e.proxy(t._close,t))},open:function(t){var n=this,i=this.options,s,o,u;if(e.mobile.popup.active)return;n._open(t);if(!i.history){n._bindContainerClose(),n.element.delegate(i.closeLinkSelector,i.closeLinkEvents,function(e){return n._close(),!1});return}o=e.mobile.dialogHashKey,u=e.mobile.activePage,s=u.jqmData("url"),s.indexOf(o)===-1&&!u.is(".ui-dialog")?s+=o:s=e.mobile.path.parseLocation().hash+o,i.container.one(i.navigateEvents,function(e){e.preventDefault(),n._bindContainerClose()}),e.mobile.urlHistory.addNew(s,r,r,r,"dialog"),e.mobile.path.set(s)},close:function(){if(!e.mobile.popup.active)return;this.options.history?t.history.back():this._close()}}),e.mobile.popup.handleLink=function(t){var n=t.closest(":jqmData(role='page')"),r=n.length===0?e("body"):n,i=e(e.mobile.path.parseUrl(t.attr("href")).hash,r[0]),s;i.data("popup")&&(s=t.offset(),i.popup("open",{x:s.left+t.outerWidth()/2,y:s.top+t.outerHeight()/2,transition:t.jqmData("transition"),positionTo:t.jqmData("position-to"),link:t})),setTimeout(function(){t.removeClass(e.mobile.activeBtnClass)},300)},e(n).bind("pagebeforechange",function(t,n){n.options.role==="popup"&&(e.mobile.popup.handleLink(n.options.link),t.preventDefault())}),e(n).bind("pagecreate create",function(t){e.mobile.popup.prototype.enhanceWithin(t.target,!0)})}(e),function(e){var t=e("meta[name=viewport]"),n=t.attr("content"),r=n+",maximum-scale=1, user-scalable=no",i=n+",maximum-scale=10, user-scalable=yes",s=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(n);e.mobile.zoom=e.extend({},{enabled:!s,locked:!1,disable:function(n){!s&&!e.mobile.zoom.locked&&(t.attr("content",r),e.mobile.zoom.enabled=!1,e.mobile.zoom.locked=n||!1)},enable:function(n){!s&&(!e.mobile.zoom.locked||n===!0)&&(t.attr("content",i),e.mobile.zoom.enabled=!0,e.mobile.zoom.locked=!1)},restore:function(){s||(t.attr("content",n),e.mobile.zoom.enabled=!0)}})}(e),function(e,r){e.widget("mobile.textinput",e.mobile.widget,{options:{theme:null,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"input[type='text'], input[type='search'], :jqmData(type='search'), input[type='number'], :jqmData(type='number'), input[type='password'], input[type='email'], input[type='url'], input[type='tel'], textarea, input[type='time'], input[type='date'], input[type='month'], input[type='week'], input[type='datetime'], input[type='datetime-local'], input[type='color'], input:not([type])",clearSearchButtonText:"clear text",disabled:!1},_create:function(){function r(){setTimeout(function(){d.toggleClass("ui-input-clear-hidden",!s.val())},0)}var i=this,s=this.element,o=this.options,u=o.theme||e.mobile.getInheritedTheme(this.element,"c"),f=" ui-body-"+u,l=s.jqmData("mini")===!0,h=l?" ui-mini":"",p,d;e("label[for='"+s.attr("id")+"']").addClass("ui-input-text"),p=s.addClass("ui-input-text ui-body-"+u),typeof s[0].autocorrect!="undefined"&&!e.support.touchOverflow&&(s[0].setAttribute("autocorrect","off"),s[0].setAttribute("autocomplete","off")),s.is("[type='search'],:jqmData(type='search')")?(p=s.wrap("<div class='ui-input-search ui-shadow-inset ui-btn-corner-all ui-btn-shadow ui-icon-searchfield"+f+h+"'></div>").parent(),d=e("<a href='#' class='ui-input-clear' title='"+o.clearSearchButtonText+"'>"+o.clearSearchButtonText+"</a>").bind("click",function(e){s.val("").focus().trigger("change"),d.addClass("ui-input-clear-hidden"),e.preventDefault()}).appendTo(p).buttonMarkup({icon:"delete",iconpos:"notext",corners:!0,shadow:!0,mini:l}),r(),s.bind("paste cut keyup focus change blur",r)):s.addClass("ui-corner-all ui-shadow-inset"+f+h),s.focus(function(){p.addClass(e.mobile.focusClass)}).blur(function(){p.removeClass(e.mobile.focusClass)}).bind("focus",function(){o.preventFocusZoom&&e.mobile.zoom.disable(!0)}).bind("blur",function(){o.preventFocusZoom&&e.mobile.zoom.enable(!0)});if(s.is("textarea")){var v=15,m=100,g;this._keyup=function(){var e=s[0].scrollHeight,t=s[0].clientHeight;t<e&&s.height(e+v)},s.keyup(function(){clearTimeout(g),g=setTimeout(i._keyup,m)}),this._on(e(n),{pagechange:"_keyup"}),e.trim(s.val())&&this._on(e(t),{load:"_keyup"})}s.attr("disabled")&&this.disable()},disable:function(){var e;return this.element.attr("disabled",!0).is("[type='search'], :jqmData(type='search')")?e=this.element.parent():e=this.element,e.addClass("ui-disabled"),this._setOption("disabled",!0)},enable:function(){var e;return this.element.attr("disabled",!1).is("[type='search'], :jqmData(type='search')")?e=this.element.parent():e=this.element,e.removeClass("ui-disabled"),this._setOption("disabled",!1)}}),e(n).bind("pagecreate create",function(t){e.mobile.textinput.prototype.enhanceWithin(t.target,!0)})}(e),function(e,t){e.mobile.listview.prototype.options.filter=!1,e.mobile.listview.prototype.options.filterPlaceholder="Filter items...",e.mobile.listview.prototype.options.filterTheme="c";var r=function(e,t,n){return e.toString().toLowerCase().indexOf(t)===-1};e.mobile.listview.prototype.options.filterCallback=r,e(n).delegate(":jqmData(role='listview')","listviewcreate",function(){var t=e(this),n=t.data("listview");if(!n.options.filter)return;var i=e("<form>",{"class":"ui-listview-filter ui-bar-"+n.options.filterTheme,role:"search"}),s=e("<input>",{placeholder:n.options.filterPlaceholder}).attr("data-"+e.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change",function(){var i=e(this),s=this.value.toLowerCase(),o=null,u=i.jqmData("lastval")+"",f=!1,l="",h,p=n.options.filterCallback!==r;n._trigger("beforefilter","beforefilter",{input:this}),i.jqmData("lastval",s),p||s.length<u.length||s.indexOf(u)!==0?o=t.children():o=t.children(":not(.ui-screen-hidden)");if(s){for(var v=o.length-1;v>=0;v--)h=e(o[v]),l=h.jqmData("filtertext")||h.text(),h.is("li:jqmData(role=list-divider)")?(h.toggleClass("ui-filter-hidequeue",!f),f=!1):n.options.filterCallback(l,s,h)?h.toggleClass("ui-filter-hidequeue",!0):f=!0;o.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",!1),o.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",!0).toggleClass("ui-filter-hidequeue",!1)}else o.toggleClass("ui-screen-hidden",!1);n._refreshCorners()}).appendTo(i).textinput();n.options.inset&&i.addClass("ui-listview-filter-inset"),i.bind("submit",function(){return!1}).insertBefore(t)})}(e),function(e,r){e.widget("mobile.slider",e.mobile.widget,{widgetEventPrefix:"slide",options:{theme:null,trackTheme:null,disabled:!1,initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",mini:!1},_create:function(){var i=this,s=this.element,o=e.mobile.getInheritedTheme(s,"c"),u=this.options.theme||o,f=this.options.trackTheme||o,l=s[0].nodeName.toLowerCase(),h=l==="select"?"ui-slider-switch":"",p=s.attr("id"),v=e("[for='"+p+"']"),m=v.attr("id")||p+"-label",g=v.attr("id",m),y=function(){return l==="input"?parseFloat(s.val()):s[0].selectedIndex},w=l==="input"?parseFloat(s.attr("min")):0,E=l==="input"?parseFloat(s.attr("max")):s.find("option").length-1,S=t.parseFloat(s.attr("step")||1),x=this.options.inline||s.jqmData("inline")===!0?" ui-slider-inline":"",T=this.options.mini||s.jqmData("mini")?" ui-slider-mini":"",N=n.createElement("a"),C=e(N),k=n.createElement("div"),L=e(k),A=s.jqmData("highlight")&&l!=="select"?function(){var t=n.createElement("div");return t.className="ui-slider-bg "+e.mobile.activeBtnClass+" ui-btn-corner-all",e(t).prependTo(L)}():!1,O;this._type=l,N.setAttribute("href","#"),k.setAttribute("role","application"),k.className=["ui-slider ",h," ui-btn-down-",f," ui-btn-corner-all",x,T].join(""),N.className="ui-slider-handle",k.appendChild(N),C.buttonMarkup({corners:!0,theme:u,shadow:!0}).attr({role:"slider","aria-valuemin":w,"aria-valuemax":E,"aria-valuenow":y(),"aria-valuetext":y(),title:y(),"aria-labelledby":m}),e.extend(this,{slider:L,handle:C,valuebg:A,dragging:!1,beforeStart:null,userModified:!1,mouseMoved:!1});if(l==="select"){var M=n.createElement("div");M.className="ui-slider-inneroffset";for(var _=0,D=k.childNodes.length;_<D;_++)M.appendChild(k.childNodes[_]);k.appendChild(M),C.addClass("ui-slider-handle-snapping"),O=s.find("option");for(var P=0,H=O.length;P<H;P++){var B=P?"a":"b",j=P?" "+e.mobile.activeBtnClass:" ui-btn-down-"+f,F=n.createElement("div"),I=n.createElement("span");I.className=["ui-slider-label ui-slider-label-",B,j," ui-btn-corner-all"].join(""),I.setAttribute("role","img"),I.appendChild(n.createTextNode(O[P].innerHTML)),e(I).prependTo(L)}i._labels=e(".ui-slider-label",L)}g.addClass("ui-slider"),s.addClass(l==="input"?"ui-slider-input":"ui-slider-switch").change(function(){i.mouseMoved||i.refresh(y(),!0)}).keyup(function(){i.refresh(y(),!0,!0)}).blur(function(){i.refresh(y(),!0)}),this._preventDocumentDrag=function(e){if(i.dragging&&!i.options.disabled)return i.mouseMoved=!0,l==="select"&&C.removeClass("ui-slider-handle-snapping"),i.refresh(e),i.userModified=i.beforeStart!==s[0].selectedIndex,!1},this._on(e(n),{vmousemove:this._preventDocumentDrag}),s.bind("vmouseup",e.proxy(i._checkedRefresh,i)),L.bind("vmousedown",function(e){return i.options.disabled?!1:(i.dragging=!0,i.userModified=!1,i.mouseMoved=!1,l==="select"&&(i.beforeStart=s[0].selectedIndex),i.refresh(e),i._trigger("start"),!1)}).bind("vclick",!1),this._sliderMouseUp=function(){if(i.dragging)return i.dragging=!1,l==="select"&&(C.addClass("ui-slider-handle-snapping"),i.mouseMoved?i.userModified?i.refresh(i.beforeStart===0?1:0):i.refresh(i.beforeStart):i.refresh(i.beforeStart===0?1:0)),i.mouseMoved=!1,i._trigger("stop"),!1},this._on(L.add(n),{vmouseup:this._sliderMouseUp}),L.insertAfter(s),l==="select"&&this.handle.bind({focus:function(){L.addClass(e.mobile.focusClass)},blur:function(){L.removeClass(e.mobile.focusClass)}}),this.handle.bind({vmousedown:function(){e(this).focus()},vclick:!1,keydown:function(t){var n=y();if(i.options.disabled)return;switch(t.keyCode){case e.mobile.keyCode.HOME:case e.mobile.keyCode.END:case e.mobile.keyCode.PAGE_UP:case e.mobile.keyCode.PAGE_DOWN:case e.mobile.keyCode.UP:case e.mobile.keyCode.RIGHT:case e.mobile.keyCode.DOWN:case e.mobile.keyCode.LEFT:t.preventDefault(),i._keySliding||(i._keySliding=!0,e(this).addClass("ui-state-active"))}switch(t.keyCode){case e.mobile.keyCode.HOME:i.refresh(w);break;case e.mobile.keyCode.END:i.refresh(E);break;case e.mobile.keyCode.PAGE_UP:case e.mobile.keyCode.UP:case e.mobile.keyCode.RIGHT:i.refresh(n+S);break;case e.mobile.keyCode.PAGE_DOWN:case e.mobile.keyCode.DOWN:case e.mobile.keyCode.LEFT:i.refresh(n-S)}},keyup:function(t){i._keySliding&&(i._keySliding=!1,e(this).removeClass("ui-state-active"))}}),this.refresh(r,r,!0)},_checkedRefresh:function(){this.value!=this._value()&&this.refresh(this._value())},_value:function(){return this._type==="input"?parseFloat(this.element.val()):this.element[0].selectedIndex},refresh:function(t,n,r){(this.options.disabled||this.element.attr("disabled"))&&this.disable(),this.value=this._value();var i=this.element,s,o=i[0].nodeName.toLowerCase(),u=o==="input"?parseFloat(i.attr("min")):0,f=o==="input"?parseFloat(i.attr("max")):i.find("option").length-1,l=o==="input"&&parseFloat(i.attr("step"))>0?parseFloat(i.attr("step")):1;if(typeof t=="object"){var c=t,h=8;if(!this.dragging||c.pageX<this.slider.offset().left-h||c.pageX>this.slider.offset().left+this.slider.width()+h)return;s=Math.round((c.pageX-this.slider.offset().left)/this.slider.width()*100)}else t==null&&(t=o==="input"?parseFloat(i.val()||0):i[0].selectedIndex),s=(parseFloat(t)-u)/(f-u)*100;if(isNaN(s))return;s<0&&(s=0),s>100&&(s=100);var p=s/100*(f-u)+u,d=(p-u)%l,v=p-d;Math.abs(d)*2>=l&&(v+=d>0?l:-l),p=parseFloat(v.toFixed(5)),p<u&&(p=u),p>f&&(p=f),this.handle.css("left",s+"%"),this.handle.attr({"aria-valuenow":o==="input"?p:i.find("option").eq(p).attr("value"),"aria-valuetext":o==="input"?p:i.find("option").eq(p).getEncodedText(),title:o==="input"?p:i.find("option").eq(p).getEncodedText()}),this.valuebg&&this.valuebg.css("width",s+"%");if(this._labels){var m=this.handle.width()/this.slider.width()*100,g=s&&m+(100-m)*s/100,y=s===100?0:Math.min(m+100-g,100);this._labels.each(function(){var t=e(this).is(".ui-slider-label-a");e(this).width((t?g:y)+"%")})}if(!r){var b=!1;o==="input"?(b=i.val()!==p,i.val(p)):(b=i[0].selectedIndex!==p,i[0].selectedIndex=p),!n&&b&&i.trigger("change")}},enable:function(){return this.element.attr("disabled",!1),this.slider.removeClass("ui-disabled").attr("aria-disabled",!1),this._setOption("disabled",!1)},disable:function(){return this.element.attr("disabled",!0),this.slider.addClass("ui-disabled").attr("aria-disabled",!0),this._setOption("disabled",!0)}}),e(n).bind("pagecreate create",function(t){e.mobile.slider.prototype.enhanceWithin(t.target,!0)})}(e),function(e,r){e.widget("mobile.selectmenu",e.mobile.widget,{options:{theme:null,disabled:!1,icon:"arrow-d",iconpos:"right",inline:!1,corners:!0,shadow:!0,iconshadow:!0,overlayTheme:"a",hidePlaceholderMenuItems:!0,closeText:"Close",nativeMenu:!0,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"select:not( :jqmData(role='slider') )",mini:!1},_button:function(){return e("<div/>")},_setDisabled:function(e){return this.element.attr("disabled",e),this.button.attr("aria-disabled",e),this._setOption("disabled",e)},_focusButton:function(){var e=this;setTimeout(function(){e.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var t="";!~this.element[0].className.indexOf("ui-btn-left")||(t=" ui-btn-left"),!~this.element[0].className.indexOf("ui-btn-right")||(t=" ui-btn-right"),this.select=this.element.wrap("<div class='ui-select"+t+"'>"),this.selectID=this.select.attr("id"),this.label=e("label[for='"+this.selectID+"']").addClass("ui-select"),this.isMultiple=this.select[0].multiple,this.options.theme||(this.options.theme=e.mobile.getInheritedTheme(this.select,"c"))},_create:function(){this._preExtension(),this._trigger("beforeCreate"),this.button=this._button();var n=this,r=this.options,i=r.inline||this.select.jqmData("inline"),s=r.mini||this.select.jqmData("mini"),o=r.icon?r.iconpos||this.select.jqmData("iconpos"):!1,u=this.select[0].selectedIndex===-1?0:this.select[0].selectedIndex,f=this.button.insertBefore(this.select).buttonMarkup({theme:r.theme,icon:r.icon,iconpos:o,inline:i,corners:r.corners,shadow:r.shadow,iconshadow:r.iconshadow,mini:s});this.setButtonText(),r.nativeMenu&&t.opera&&t.opera.version&&f.addClass("ui-select-nativeonly"),this.isMultiple&&(this.buttonCount=e("<span>").addClass("ui-li-count ui-btn-up-c ui-btn-corner-all").hide().appendTo(f.addClass("ui-li-has-count"))),(r.disabled||this.element.attr("disabled"))&&this.disable(),this.select.change(function(){n.refresh()}),this.build()},build:function(){var t=this;this.select.appendTo(t.button).bind("vmousedown",function(){t.button.addClass(e.mobile.activeBtnClass)}).bind("focus",function(){t.button.addClass(e.mobile.focusClass)}).bind("blur",function(){t.button.removeClass(e.mobile.focusClass)}).bind("focus vmouseover",function(){t.button.trigger("vmouseover")}).bind("vmousemove",function(){t.button.removeClass(e.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){t.button.trigger("vmouseout").removeClass(e.mobile.activeBtnClass)}).bind("change blur",function(){t.button.removeClass("ui-btn-down-"+t.options.theme)}),t.button.bind("vmousedown",function(){t.options.preventFocusZoom&&e.mobile.zoom.disable(!0)}).bind("mouseup",function(){t.options.preventFocusZoom&&e.mobile.zoom.enable(!0)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var e=this;return this.selected().map(function(){return e._selectOptions().index(this)}).get()},setButtonText:function(){var t=this,r=this.selected(),i=this.placeholder,s=e(n.createElement("span"));this.button.find(".ui-btn-text").html(function(){return r.length?i=r.map(function(){return e(this).text()}).get().join(", "):i=t.placeholder,s.text(i).addClass(t.select.attr("class")).addClass(r.attr("class"))})},setButtonCount:function(){var e=this.selected();this.isMultiple&&this.buttonCount[e.length>1?"show":"hide"]().text(e.length)},refresh:function(){this.setButtonText(),this.setButtonCount()},open:e.noop,close:e.noop,disable:function(){this._setDisabled(!0),this.button.addClass("ui-disabled")},enable:function(){this._setDisabled(!1),this.button.removeClass("ui-disabled")}}),e(n).bind("pagecreate create",function(t){e.mobile.selectmenu.prototype.enhanceWithin(t.target,!0)})}(e),function(e,r){var i=function(r){var i=r.select,s=r.selectID,o=r.label,u=r.select.closest(".ui-page"),f=r._selectOptions(),l=r.isMultiple=r.select[0].multiple,h=s+"-button",p=s+"-menu",d=e("<div data-"+e.mobile.ns+"role='dialog' data-"+e.mobile.ns+"theme='"+r.options.theme+"' data-"+e.mobile.ns+"overlay-theme='"+r.options.overlayTheme+"'>"+"<div data-"+e.mobile.ns+"role='header'>"+"<div class='ui-title'>"+o.getEncodedText()+"</div>"+"</div>"+"<div data-"+e.mobile.ns+"role='content'></div>"+"</div>"),v=e("<div>",{"class":"ui-selectmenu"}).insertAfter(r.select).popup({theme:"a"}),m=e("<ul>",{"class":"ui-selectmenu-list",id:p,role:"listbox","aria-labelledby":h}).attr("data-"+e.mobile.ns+"theme",r.options.theme).appendTo(v),g=e("<div>",{"class":"ui-header ui-bar-"+r.options.theme}).prependTo(v),y=e("<h1>",{"class":"ui-title"}).appendTo(g),w,E,S;r.isMultiple&&(S=e("<a>",{text:r.options.closeText,href:"#","class":"ui-btn-left"}).attr("data-"+e.mobile.ns+"iconpos","notext").attr("data-"+e.mobile.ns+"icon","delete").appendTo(g).buttonMarkup()),e.extend(r,{select:r.select,selectID:s,buttonId:h,menuId:p,thisPage:u,menuPage:d,label:o,selectOptions:f,isMultiple:l,theme:r.options.theme,listbox:v,list:m,header:g,headerTitle:y,headerClose:S,menuPageContent:w,menuPageClose:E,placeholder:"",build:function(){var t=this;t.refresh(),t.select.attr("tabindex","-1").focus(function(){e(this).blur(),t.button.focus()}),t.button.bind("vclick keydown",function(n){if(n.type==="vclick"||n.keyCode&&(n.keyCode===e.mobile.keyCode.ENTER||n.keyCode===e.mobile.keyCode.SPACE))t.open(),n.preventDefault()}),t.list.attr("role","listbox").bind("focusin",function(t){e(t.target).attr("tabindex","0").trigger("vmouseover")}).bind("focusout",function(t){e(t.target).attr("tabindex","-1").trigger("vmouseout")}).delegate("li:not(.ui-disabled, .ui-li-divider)","click",function(n){var i=t.select[0].selectedIndex,s=t.list.find("li:not(.ui-li-divider)").index(this),o=t._selectOptions().eq(s)[0];o.selected=t.isMultiple?!o.selected:!0,t.isMultiple&&e(this).find(".ui-icon").toggleClass("ui-icon-checkbox-on",o.selected).toggleClass("ui-icon-checkbox-off",!o.selected),(t.isMultiple||i!==s)&&t.select.trigger("change"),t.isMultiple?t.list.find("li:not(.ui-li-divider)").eq(s).addClass("ui-btn-down-"+r.options.theme).find("a").first().focus():t.close(),n.preventDefault()}).keydown(function(t){var n=e(t.target),i=n.closest("li"),s,o;switch(t.keyCode){case 38:return s=i.prev().not(".ui-selectmenu-placeholder"),s.is(".ui-li-divider")&&(s=s.prev()),s.length&&(n.blur().attr("tabindex","-1"),s.addClass("ui-btn-down-"+r.options.theme).find("a").first().focus()),!1;case 40:return o=i.next(),o.is(".ui-li-divider")&&(o=o.next()),o.length&&(n.blur().attr("tabindex","-1"),o.addClass("ui-btn-down-"+r.options.theme).find("a").first().focus()),!1;case 13:case 32:return n.trigger("click"),!1}}),t.menuPage.bind("pagehide",function(){t.list.appendTo(t.listbox),t._focusButton(),e.mobile._bindPageRemove.call(t.thisPage)}),t.listbox.bind("popupafterclose",function(e){t.close()}),t.isMultiple&&t.headerClose.click(function(){if(t.menuType==="overlay")return t.close(),!1}),t.thisPage.addDependents(this.menuPage)},_isRebuildRequired:function(){var e=this.list.find("li"),t=this._selectOptions();return t.text()!==e.text()},selected:function(){return this._selectOptions().filter(":selected:not( :jqmData(placeholder='true') )")},refresh:function(t,n){var r=this,i=this.element,s=this.isMultiple,o;(t||this._isRebuildRequired())&&r._buildList(),o=this.selectedIndices(),r.setButtonText(),r.setButtonCount(),r.list.find("li:not(.ui-li-divider)").removeClass(e.mobile.activeBtnClass).attr("aria-selected",!1).each(function(t){if(e.inArray(t,o)>-1){var n=e(this);n.attr("aria-selected",!0),r.isMultiple?n.find(".ui-icon").removeClass("ui-icon-checkbox-off").addClass("ui-icon-checkbox-on"):n.is(".ui-selectmenu-placeholder")?n.next().addClass(e.mobile.activeBtnClass):n.addClass(e.mobile.activeBtnClass)}})},close:function(){if(this.options.disabled||!this.isOpen)return;var e=this;e.menuType==="page"?t.history.back():(e.listbox.popup("close"),e.list.appendTo(e.listbox),e._focusButton()),e.isOpen=!1},open:function(){function n(){var t=i.list.find("."+e.mobile.activeBtnClass+" a");t.length===0&&(t=i.list.find("li.ui-btn:not( :jqmData(placeholder='true') ) a")),t.first().focus().closest("li").addClass("ui-btn-down-"+r.options.theme)}if(this.options.disabled)return;var i=this,s=e(t),o=i.list.parent(),u=o.outerHeight(),f=o.outerWidth(),l=e("."+e.mobile.activePageClass),c=s.scrollTop(),h=i.button.offset().top,p=s.height(),v=s.width();i.button.addClass(e.mobile.activeBtnClass),setTimeout(function(){i.button.removeClass(e.mobile.activeBtnClass)},300),u>p-80||!e.support.scrollTop?(i.menuPage.appendTo(e.mobile.pageContainer).page(),i.menuPageContent=d.find(".ui-content"),i.menuPageClose=d.find(".ui-header a"),i.thisPage.unbind("pagehide.remove"),c===0&&h>p&&i.thisPage.one("pagehide",function(){e(this).jqmData("lastScroll",h)}),i.menuPage.one("pageshow",function(){n(),i.isOpen=!0}),i.menuType="page",i.menuPageContent.append(i.list),i.menuPage.find("div .ui-title").text(i.label.text()),e.mobile.changePage(i.menuPage,{transition:e.mobile.defaultDialogTransition})):(i.menuType="overlay",i.listbox.one("popupafteropen",n).popup("open",{x:i.button.offset().left+i.button.outerWidth()/2,y:i.button.offset().top+i.button.outerHeight()/2}),i.isOpen=!0)},_buildList:function(){var t=this,r=this.options,i=this.placeholder,s=!0,o=[],u=[],f=t.isMultiple?"checkbox-off":"false";t.list.empty().filter(".ui-listview").listview("destroy");var l=t.select.find("option"),h=l.length,p=this.select[0],d="data-"+e.mobile.ns,v=d+"option-index",m=d+"icon",g=d+"role",y=d+"placeholder",b=n.createDocumentFragment(),w=!1,E;for(var S=0;S<h;S++,w=!1){var x=l[S],T=e(x),N=x.parentNode,C=T.text(),k=n.createElement("a"),L=[];k.setAttribute("href","#"),k.appendChild(n.createTextNode(C));if(N!==p&&N.nodeName.toLowerCase()==="optgroup"){var A=N.getAttribute("label");if(A!==E){var O=n.createElement("li");O.setAttribute(g,"list-divider"),O.setAttribute("role","option"),O.setAttribute("tabindex","-1"),O.appendChild(n.createTextNode(A)),b.appendChild(O),E=A}}s&&(!x.getAttribute("value")||C.length===0||T.jqmData("placeholder"))&&(s=!1,w=!0,x.setAttribute(y,!0),r.hidePlaceholderMenuItems&&L.push("ui-selectmenu-placeholder"),i||(i=t.placeholder=C));var M=n.createElement("li");x.disabled&&(L.push("ui-disabled"),M.setAttribute("aria-disabled",!0)),M.setAttribute(v,S),M.setAttribute(m,f),w&&M.setAttribute(y,!0),M.className=L.join(" "),M.setAttribute("role","option"),k.setAttribute("tabindex","-1"),M.appendChild(k),b.appendChild(M)}t.list[0].appendChild(b),!this.isMultiple&&!i.length?this.header.hide():this.headerTitle.text(this.placeholder),t.list.listview()},_button:function(){return e("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})}})};e(n).bind("selectmenubeforecreate",function(t){var n=e(t.target).data("selectmenu");!n.options.nativeMenu&&n.element.parents(":jqmData(role='popup')").length===0&&i(n)})}(e),function(e,r){e.widget("mobile.fixedtoolbar",e.mobile.widget,{options:{visibleOnPageShow:!0,disablePageZoom:!0,transition:"slide",fullscreen:!1,tapToggle:!0,tapToggleBlacklist:"a, button, input, select, textarea, .ui-header-fixed, .ui-footer-fixed",hideDuringFocus:"input, textarea, select",updatePagePadding:!0,trackPersistentToolbars:!0,supportBlacklist:function(){var e=t,n=navigator.userAgent,r=navigator.platform,i=n.match(/AppleWebKit\/([0-9]+)/),s=!!i&&i[1],o=n.match(/Fennec\/([0-9]+)/),u=!!o&&o[1],a=n.match(/Opera Mobi\/([0-9]+)/),f=!!a&&a[1];return(r.indexOf("iPhone")>-1||r.indexOf("iPad")>-1||r.indexOf("iPod")>-1)&&s&&s<534||e.operamini&&{}.toString.call(e.operamini)==="[object OperaMini]"||a&&f<7458||n.indexOf("Android")>-1&&s&&s<533||u&&u<6||"palmGetResource"in t&&s&&s<534||n.indexOf("MeeGo")>-1&&n.indexOf("NokiaBrowser/8.5.0")>-1?!0:!1},initSelector:":jqmData(position='fixed')"},_create:function(){var e=this,t=e.options,n=e.element,r=n.is(":jqmData(role='header')")?"header":"footer",i=n.closest(".ui-page");if(t.supportBlacklist()){e.destroy();return}n.addClass("ui-"+r+"-fixed"),t.fullscreen?(n.addClass("ui-"+r+"-fullscreen"),i.addClass("ui-page-"+r+"-fullscreen")):i.addClass("ui-page-"+r+"-fixed"),e._addTransitionClass(),e._bindPageEvents(),e._bindToggleHandlers()},_addTransitionClass:function(){var e=this.options.transition;e&&e!=="none"&&(e==="slide"&&(e=this.element.is(".ui-header")?"slidedown":"slideup"),this.element.addClass(e))},_bindPageEvents:function(){var n=this,r=n.options,i=n.element;i.closest(".ui-page").bind("pagebeforeshow",function(){r.disablePageZoom&&e.mobile.zoom.disable(!0),r.visibleOnPageShow||n.hide(!0)}).bind("webkitAnimationStart animationstart updatelayout",function(){var e=this;r.updatePagePadding&&n.updatePagePadding(e)}).bind("pageshow",function(){var i=this;n.updatePagePadding(i),r.updatePagePadding&&e(t).bind("throttledresize."+n.widgetName,function(){n.updatePagePadding(i)})}).bind("pagebeforehide",function(i,s){r.disablePageZoom&&e.mobile.zoom.enable(!0),r.updatePagePadding&&e(t).unbind("throttledresize."+n.widgetName);if(r.trackPersistentToolbars){var o=e(".ui-footer-fixed:jqmData(id)",this),u=e(".ui-header-fixed:jqmData(id)",this),f=o.length&&s.nextPage&&e(".ui-footer-fixed:jqmData(id='"+o.jqmData("id")+"')",s.nextPage)||e(),l=u.length&&s.nextPage&&e(".ui-header-fixed:jqmData(id='"+u.jqmData("id")+"')",s.nextPage)||e();if(f.length||l.length)f.add(l).appendTo(e.mobile.pageContainer),s.nextPage.one("pageshow",function(){f.add(l).appendTo(this)})}})},_visible:!0,updatePagePadding:function(t){var n=this.element,r=n.is(".ui-header");if(this.options.fullscreen)return;t=t||n.closest(".ui-page"),e(t).css("padding-"+(r?"top":"bottom"),n.outerHeight())},_useTransition:function(n){var r=e(t),i=this.element,s=r.scrollTop(),o=i.height(),u=i.closest(".ui-page").height(),f=e.mobile.getScreenHeight(),l=i.is(":jqmData(role='header')")?"header":"footer";return!n&&(this.options.transition&&this.options.transition!=="none"&&(l==="header"&&!this.options.fullscreen&&s>o||l==="footer"&&!this.options.fullscreen&&s+f<u-o)||this.options.fullscreen)},show:function(e){var t="ui-fixed-hidden",n=this.element;this._useTransition(e)?n.removeClass("out "+t).addClass("in"):n.removeClass(t),this._visible=!0},hide:function(e){var t="ui-fixed-hidden",n=this.element,r="out"+(this.options.transition==="slide"?" reverse":"");this._useTransition(e)?n.addClass(r).removeClass("in").animationComplete(function(){n.addClass(t).removeClass(r)}):n.addClass(t).removeClass(r),this._visible=!1},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var t=this,n=t.options,r=t.element;r.closest(".ui-page").bind("vclick",function(r){n.tapToggle&&!e(r.target).closest(n.tapToggleBlacklist).length&&t.toggle()}).bind("focusin focusout",function(r){screen.width<500&&e(r.target).is(n.hideDuringFocus)&&!e(r.target).closest(".ui-header-fixed, .ui-footer-fixed").length&&t[r.type==="focusin"&&t._visible?"hide":"show"]()})},destroy:function(){this.element.removeClass("ui-header-fixed ui-footer-fixed ui-header-fullscreen ui-footer-fullscreen in out fade slidedown slideup ui-fixed-hidden"),this.element.closest(".ui-page").removeClass("ui-page-header-fixed ui-page-footer-fixed ui-page-header-fullscreen ui-page-footer-fullscreen")}}),e(n).bind("pagecreate create",function(t){e(t.target).jqmData("fullscreen")&&e(e.mobile.fixedtoolbar.prototype.options.initSelector,t.target).not(":jqmData(fullscreen)").jqmData("fullscreen",!0),e.mobile.fixedtoolbar.prototype.enhanceWithin(t.target)})}(e),function(e,t){function n(e){i=e.originalEvent,a=i.accelerationIncludingGravity,s=Math.abs(a.x),o=Math.abs(a.y),u=Math.abs(a.z),!t.orientation&&(s>7||(u>6&&o<8||u<8&&o>6)&&s>5)?r.enabled&&r.disable():r.enabled||r.enable()}if(!(/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1))return;var r=e.mobile.zoom,i,s,o,u,a;e(t).bind("orientationchange.iosorientationfix",r.enable).bind("devicemotion.iosorientationfix",n)}(e,this),function(e,t,r){function i(){s.removeClass("ui-mobile-rendering")}var s=e("html"),o=e("head"),u=e(t);e(t.document).trigger("mobileinit");if(!e.mobile.gradeA())return;e.mobile.ajaxBlacklist&&(e.mobile.ajaxEnabled=!1),s.addClass("ui-mobile ui-mobile-rendering"),setTimeout(i,5e3),e.extend(e.mobile,{initializePage:function(){var t=e(":jqmData(role='page'), :jqmData(role='dialog')"),r=e.mobile.path.parseLocation().hash.replace("#",""),s=n.getElementById(r);t.length||(t=e("body").wrapInner("<div data-"+e.mobile.ns+"role='page'></div>").children(0)),t.each(function(){var t=e(this);t.jqmData("url")||t.attr("data-"+e.mobile.ns+"url",t.attr("id")||location.pathname+location.search)}),e.mobile.firstPage=t.first(),e.mobile.pageContainer=t.first().parent().addClass("ui-mobile-viewport"),u.trigger("pagecontainercreate"),e.mobile.showPageLoadingMsg(),i(),!e.mobile.hashListeningEnabled||!e.mobile.path.isHashValid(location.hash)||!e(s).is(':jqmData(role="page")')&&!e.mobile.path.isPath(r)?(e.mobile.path.isHashValid(location.hash)&&(e.mobile.urlHistory.initialDst=r.replace("#","")),e.mobile.changePage(e.mobile.firstPage,{transition:"none",reverse:!0,changeHash:!1,fromHashChange:!0})):u.trigger("hashchange",[!0])}}),e.mobile.navreadyDeferred.resolve(),e(function(){t.scrollTo(0,1),e.mobile.defaultHomeScroll=!e.support.scrollTop||e(t).scrollTop()===1?0:1,e.fn.controlgroup&&e(n).bind("pagecreate create",function(t){e(":jqmData(role='controlgroup')",t.target).jqmEnhanceable().controlgroup({excludeInvisible:!1})}),e.mobile.autoInitializePage&&e.mobile.initializePage(),u.load(e.mobile.silentScroll),e.support.cssPointerEvents||e(n).delegate(".ui-disabled","vclick",function(e){e.preventDefault(),e.stopImmediatePropagation()})})}(e,this)}),location.hash="#splash",require.config({baseUrl:"static/js/",paths:{jquery:"lib/jquery-1.8.1",d3:"lib/d3.v2",ember:"lib/ember-0.9.8.1.min",mobile:"lib/jquery.mobile-1.2.0-beta.1",text:"lib/require/text",mocha:"lib/mocha",chai:"lib/chai",jqueryUi:"lib/jquery-ui-1.8.23.custom.min",cubism:"lib/cubism.v1"},shim:{app:{deps:["mobile"]},mobile:{deps:["jqueryUi"]},jqueryUi:{deps:["jquery"]},cubism:{deps:["d3","mobile"]},"app/controllers/notification":{deps:["mobile"]},"app/views/shell":{deps:["jqueryUi"]}}}),define("app",["jquery","jqueryUi","d3","app/controllers/backends","app/controllers/confirmation","app/controllers/notification","app/controllers/machine_add","app/controllers/select_machines","app/controllers/select_images","app/views/count","app/views/backend_button","app/views/backend_add","app/views/backend_edit","app/views/machine_list_item","app/views/image_list_item","app/views/enable_backend_button","app/views/machine_add_dialog","app/views/machine","app/views/machine_list","app/views/confirmation_dialog","app/views/machine_actions_dialog","app/views/single_machine_actions_dialog","app/views/shell","app/views/image_list","app/views/machine_tags_dialog","mobile","cubism","ember"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C){var k=Ember.Application.create({VERSION:"0.3-ember",specsRunner:function(t){e(document.body).before('<div id="mocha"></div>'),window.expect=t.expect,mocha.setup("bdd"),require(["app/specs/templates/basic_acceptance"],function(){mocha.run().globals(["$","Ember","Mist"])})},init:function(){this._super(),this.set("backendsController",r.create()),this.set("confirmationController",i.create()),this.set("notificationController",s.create()),this.set("machineAddController",o.create()),this.set("selectMachinesController",u.create()),this.set("selectImagesController",a.create()),location.hash.match(/specs/)&&require(["chai","mocha"],this.specsRunner),setTimeout(function(){e(".ui-page-active").attr("id")=="splash"&&e.mobile.changePage("#home",{transition:"fade"})},2e3)}});e(document).on("pagebeforeshow","#machines",function(){e("#machines-list").listview("refresh")}),e(document).on("pagebeforeshow","#dialog-power",function(){e("#dialog-power a").button()}),e(document).on("pagebeforeshow","#dialog-single-power",function(){e("#dialog-single-power a").button()}),e(document).on("pagebeforeshow","#images",function(){e("#images-list").listview("refresh")}),e(document).on("pagebeforeshow","#single-machine",function(){Mist.graphPolling=!0}),e(document).on("pageshow","#single-machine",function(){e("input[type=checkbox]").checkboxradio("refresh")}),e(document).on("pagebeforehide","#single-machine",function(){Mist.graphPolling=!1}),e(document).ready(function(){e("#shell-return").on("click",".command",function(){var t=e(this).next(".output");t.is(":visible")?(t.slideUp(300),e(this).parent().addClass("contracted").removeClass("expanded")):(t.slideDown(200),e(this).parent().removeClass("contracted").addClass("expanded"))})}),k.Select=Ember.Select.extend({attributeBindings:["name","data-theme","data-icon","data-native-menu","disabled"]}),k.TextField=Ember.TextField.extend({attributeBindings:["name","data-theme"]}),k.ShellTextField=Ember.TextField.extend({attributeBindings:["name","data-theme","autocapitalize"],insertNewline:function(){this.controller.submit()}}),k.Checkbox=Ember.Checkbox.extend({attributeBindings:["name","id","data-inline"]}),k.CountView=f,k.BackendButtonView=l,k.AddBackendView=c,k.EditBackendView=h,k.MachineListView=p,k.ImageListView=d,k.EnableBackendButtonView=v,k.onOff=["on","off"];var L=m.create();L.append();var A=g.create();A.append();var O=b.create();O.append();var M=w.create();M.append();var _=E.create();_.append();var D=S.create();D.append();var P=y.create();P.append();var H=x.create();H.append();var B=T.create();return B.append(),e(document).on("pagebeforeshow","#dialog-add",function(){e("#dialog-add").trigger("create")}),window.Mist=k});var LOGLEVEL=3;define("../app",[],function(){})