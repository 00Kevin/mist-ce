{{#unless view.machine.isGhost}} 

    <label>{{view Mist.Checkbox checkedBinding="view.machine.selected"}}</label>
    {{#link-to "machine" view.machine}}
    
        <div class="ui-grid-b">
            <div class="ui-block-a machine-name">{{view.machine.name}}</div>
    
            <span class="ui-block-b machine-state">
                <span {{bind-attr class="view.machine.state"}}>
                {{view.machine.state}}
                </span>
            </span>
            
            <div class="ui-block-c machine-tags">  
                <span class="tag">{{view.machine.backend.title}}</span>
    
                {{#each view.machine.tags}}
                <span class="tag">{{this}}</span>
                {{/each}}
                <span>
                    {{#if view.machine.hasMonitoring}}
                        <span></span>
                    {{/if}}
                </span>            

                {{#if pendingCreation}}
                    <div class='ajax-loader'></div>
                {{else}} 
                    {{#if probing}}
                        <span></span>                
                    {{else}} 
                        {{#if probed}}
                        <span></span>
                        {{else}}
                        <span></span>
                        {{/if}} 
                    {{/if}} 
                {{/if}}                
            </div>
        </div>
    {{/link-to}}
    
{{else}}

    <a {{action disassociateGhostMachine target="view"}}>
        
        <h3>{{view.machine.name}}</h3>

        <h3>{{view.machine.state}}</h3>
        
        <p class="description">          
            <span>{{view.machine.backend.title}}</span>

            {{#each view.machine.tags}}
            <span>{{this}}</span>
            {{/each}}
        </p>
        
    </a>
    
{{/unless}}
