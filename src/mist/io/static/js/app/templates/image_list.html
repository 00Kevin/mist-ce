<div id="image-list-page" data-role="page" class="ui-page-active">

    <div data-role="header" data-theme="b">

        <a href="#" data-icon="home">Home</a>

        <h1>Images</h1>

        {{view Mist.UserMenuView}}

    </div>

    <div data-role="content" id="images" data-theme="c">

        {{#if Mist.backendsController.loadingImages}}
            <div class="ajax-loader"></div>
        {{/if}}

        <ul data-role="listview" data-filter="true" data-inset="true" data-filter-placeholder="Filter images...">
            {{#each view.renderedImages}}
                {{view Mist.ImageListItemView imageBinding="this" class="checkbox-link" }}
            {{/each}}
        </ul>

        {{#if view.gettingImages}}
        <div class="ajax-loader"></div>
        {{/if}}
        {{#if view.searchingImages}}
        <div class="ajax-loader"></div>
        {{/if}}

        <button id="images-advanced-search" data-theme="b" {{action "searchClicked" target="view"}}>
            <span>
                {{#if view.searchingImages}}
                    Please wait...
                {{else}}
                    Continue search on server...
                {{/if}}
            </span>
        </button>

    </div>
    
    {{view Mist.MachineAddView}}

</div>