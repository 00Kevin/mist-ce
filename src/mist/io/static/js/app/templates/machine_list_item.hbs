{{#unless view.machine.isGhost}}
    <label>{{view Mist.Checkbox checked=view.machine.selected}}</label>
    {{#link-to "machine" view.machine}}

        <div class="ui-grid-b">
            <div class="ui-block-a machine-name">{{view.machine.name}}</div>

            <span class="ui-block-b machine-state">
                {{#unless view.machine.isUnknown}}
                <span class={{view.machine.state}}>
                {{view.machine.state}}

                {{#if model.pendingCreation}}
                    <div class='ajax-loader'></div>
                {{else}} {{#if model.waitState}}
                    <div class='ajax-loader'></div>
                {{/if}} {{/if}}
                </span>
                {{/unless}}
            </span>

            <div class="ui-block-c machine-leds">
                <span>
                    {{#if view.machine.hasMonitoring}}
                        <span></span>
                    {{/if}}
                </span>
                {{#unless model.pendingCreation}}
                    <div class="{{model.probing}} {{model.probed}}">
                        <div class="loadleds">
                            <div class="{{model.loadavg15}} led">
                            </div>
                            <div class="{{model.loadavg5}} led">
                            </div>
                            <div class="{{model.loadavg1}} led">
                            </div>
                        </div>
                        <div class="netleds">
                            <div class="{{model.netled4}} netled1">
                            </div>
                            <div class="{{model.netled3}} netled2">
                            </div>
                            <div class="{{model.netled2}} netled3">
                            </div>
                            <div class="{{model.netled1}} netled4">
                            </div>
                        </div>

                    </div>

                {{/unless}}

            </div>

            <div class="ui-block-c machine-tags">
                <span class="tag">{{view.machine.backend.title}}</span>
                {{#each view.machine.tags as |tag|}}
                <span class="tag">{{tag}}</span>
                {{/each}}
            </div>

        </div>
    {{/link-to}}
{{else}}

    <a class="ui-icon-delete" {{action "disassociateGhostMachine" target=view}}>

        <div class="ui-grid-b">
            <div class="ui-block-a machine-name">{{view.machine.name}}</div>

            <span class="ui-block-b machine-state">
                <span>{{view.machine.state}}</span>
            </span>

        </div>

    </a>

{{/unless}}
