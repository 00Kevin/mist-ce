<div id="script-add"
    data-swipe-close="false"
    class="side-panel"
    data-role="panel"
    data-position="right"
    data-display="overlay"
    data-theme="c">

    <div data-role="header">
        <h1>Add script</h1>
    </div>

    <div data-role="content" data-theme="a">

        <label for="script-name">Name:</label>
        {{view Mist.TextField
            data-theme="a"
            id="script-name"
            valueBinding=Mist.scriptAddController.newScript.name}}

        <label for="script-type">Location:</label>
        <div class="mist-select"
            data-role="collapsible"
            data-iconpos="right"
            data-collapsed-icon="carat-d"
            data-expanded-icon="carat-u"
            data-theme="a">
                <h4>{{Mist.scriptAddController.newScript.type.label}}</h4>
                <ul data-role="listview">
                    {{#each view.scriptTypes}}
                        <li data-icon="false" data-theme="a">
                            <a {{action "selectType" this target="view"}}>{{this.label}}</a>
                        </li>
                    {{/each}}
                </ul>
        </div>

        <div class="github type">
            <label for="github-script-url">Github Repo:</label>
            {{view Mist.TextField
                data-theme="a"
                id="github-script-url"
                valueBinding=Mist.scriptAddController.newScript.url}}

            <label for="github-script-entry-point">Entry point (optional):</label>
            {{view Mist.TextField
                data-theme="a"
                id="github-script-entry-point"
                valueBinding=Mist.scriptAddController.newScript.entryPoint}}
        </div>

        <div class="url type">
            <label for="url-script-url">Url:</label>
            {{view Mist.TextField
                data-theme="a"
                id="url-script-url"
                valueBinding=Mist.scriptAddController.newScript.url}}

            <label for="url-script-entry-point">Entry point (optional):</label>
            {{view Mist.TextField
                data-theme="a"
                id="url-script-entry-point"
                valueBinding=Mist.scriptAddController.newScript.entryPoint}}
        </div>

        <div class="file type">
            <a class="ui-btn ui-btn-icon-right ui-icon-plus ui-btn-a ui-corner-all"
                {{action "uploadFile" field target="view"}}>
                    Upload File
            </a>
        </div>

        {{#if Mist.scriptsController.addingScript}}
            <div class="ajax-loader"></div>
        {{/if}}

        <div class="ok-cancel" data-role="controlgroup" data-type="horizontal">
            <a data-role="button" {{action "backClicked" target="view"}} data-theme="a">Back</a>
            <a id="new-script-ok" data-theme="d"
                {{bind-attr class="view.isReady::ui-state-disabled :ui-btn :ui-btn-d"}}
                {{action "addClicked" target="view"}}>Add</a>
        </div>
    </div>
</div>

{{view Mist.fileUploadView}}
